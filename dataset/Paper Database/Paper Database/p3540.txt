A Trafﬁc Load Balancing Framework for
Software-deﬁned Radio Access Networks Powered
by Hybrid Energy Sources
Tao Han, Student Member, IEEE, and Nirwan Ansari, Fellow, IEEE
Advanced Networking Laboratory
Department of Electrical and Computer Engineering
New Jersey Institute of Technology, Newark, NJ, 07102, USA
Email: {th36, nirwan.ansari}@njit.edu
Abstract—Dramatic mobile data trafﬁc growth has spurred a
dense deployment of small cell base stations (SCBSs). Small cells
enhance the spectrum efﬁciency and thus enlarge the capacity
of mobile networks. Although SCBSs consume much less power
than macro BSs (MBSs) do, the overall power consumption of a
large number of SCBSs is phenomenal. As the energy harvesting
technology advances, base stations (BSs) can be powered by
green energy to alleviate the on-grid power consumption. For
mobile networks with high BS density, trafﬁc load balancing
is critical in order to exploit the capacity of SCBSs. To fully
utilize harvested energy, it is desirable to incorporate the green
energy utilization as a performance metric in trafﬁc load balancing strategies. In this paper, we have proposed a trafﬁc load
balancing framework that strives a balance between network
utilities, e.g., the average trafﬁc delivery latency, and the green
energy utilization. Various properties of the proposed framework
have been derived. Leveraging the software-deﬁned radio access
network architecture, the proposed scheme is implemented as
a virtually distributed algorithm, which signiﬁcantly reduces the
communication overheads between users and BSs. The simulation
results show that the proposed trafﬁc load balancing framework
enables an adjustable trade-off between the on-grid power
consumption and the average trafﬁc delivery latency, and saves
a considerable amount of on-grid power, e.g., 30%, at a cost of
only a small increase, e.g., 8%, of the average trafﬁc delivery
I. INTRODUCTION
Proliferation of wireless devices and bandwidth greedy
applications drive the exponential growth of mobile data trafﬁc
that leads to a continuous surge in capacity demands across
mobile networks. Heterogeneous network (HetNet) is one of
the key technologies for enhancing mobile network capacity to
satisfy the capacity demands . In HetNet, low-power base
stations referred to as small cell base stations (SCBSs) are
densely deployed to enhance the spectrum efﬁciency of the
network and thus increase the network capacity. Owing to the
disparate transmit powers and base station (BS) capabilities,
traditional user association metrics such as the signal-tointerference-plus-noise ratio (SINR) and the received-signalstrength-indication (RSSI) may lead to a severe trafﬁc load
imbalance . Hence, user association algorithms should be
This work was supported in part by NSF under grant no. CNS-1218181
and no. CNS-1320468.
well designed to balance trafﬁc loads and thus to fully exploit
the capacity potential of HetNet.
In order to maximize network utilities, balancing trafﬁc
loads requires coordination among BSs. The dense deployment
of BSs in HetNet increases the difﬁculty on coordinating BSs.
To address this issue, software-deﬁne radio access network
(SoftRAN) architecture has been proposed. SoftRAN enables coordinated radio resource management in the centralized control plane with a global view of network resources
and trafﬁc loads. The user association algorithm leveraging
the SoftRAN architecture is desired for future mobile networks
with an extremely dense BS deployment.
Owing to the direct impact of greenhouse gases on the earth
environment and the climate change, the energy consumption
of Information and Communications Technology (ICT) is
becoming an environmental and thus social and economic
issue. Mobile networks are among the major energy hoggers of
communication networks, and their contributions to the global
energy consumption increase rapidly. Therefore, greening mobile networks is crucial to reducing the carbon footprints of
ICT. Although SCBSs consume less power than macro BSs
(MBSs), the number of SCBSs will be orders of magnitude
larger than that of MBSs for a wide scale network deployment.
Hence, the overall power consumption of such a large number
of SCBSs will be phenomenal. Greening HetNets have thus
attracted tremendous research efforts , .
As energy harvesting technologies advance, green energy
such as sustainable biofuels, solar and wind energy can be
utilized to power BSs . Telecommunication companies such
as Ericsson and Nokia Siemens have designed green energy
powered BSs for mobile networks . By adopting green
energy powered BSs, mobile network operators (MNOs) may
further save on-grid power consumption and thus reduce their
CO2 emissions. However, since the green energy generation is
not stable, green energy may not be a reliable energy source
for mobile networks. Therefore, future mobile networks are
likely to adopt hybrid energy supplies: on-grid power and
green energy. Green energy is utilized to reduce the on-grid
power consumption and thus reduce the CO2 emissions while
on-grid power is utilized as a backup power source.
In HetNets with hybrid energy supplies, the utilization
of green energy should be integrated into user association
metrics to optimize the green energy usage. For instance, while
balancing trafﬁc loads, MNOs may enable BSs with sufﬁcient
green energy to serve more trafﬁc loads while reducing the
trafﬁc loads of BSs consuming on-grid power . The trafﬁc
load balancing with the consideration of green energy may
not maximize network utilities such as the network capacity
and the trafﬁc delivery latency. Therefore, a trade-off between
the green energy utilization and network utilities should be
carefully evaluated in balancing trafﬁc loads among BSs. In
addition, as a result of the trade-off, users’ utilities such as
data rates and the service latency may be decreased because of
the consideration of green energy in the trafﬁc load balancing.
Thus, users may not cooperate in the trafﬁc load balancing. For
example, a distributed user association algorithm may involve
multiple interactions between users and BSs and require users
to report their measurements to BSs , . Seeking to
improve their own utilities, they may not report the correct
information to BSs. Therefore, it is desirable to hide BSs’
energy information from users to avoid counterfeit reports.
In this paper, we propose a virtually distributed user association scheme that leverages the SoftRAN concept. We
generate virtual users and virtual BSs (vBSs) in the radio
access networks controller (RANC) to emulate a distributed
user association solution that requires iterative user association
adjustments between users and BSs. This scheme runs the user
association optimization in the RANC, and thus signiﬁcantly
reduces the communication overhead over the air interface. In
this scheme, users report their downlink data rates calculated
based on perceived SINRs via an associating BS to the
RANC where trafﬁc loads from individual users and BSs are
measured. The RANC optimizes the BS operation status that
reﬂects the price for a user to access a BS. The user association
is determined by the BS operation status and the users’
downlink data rates. The proposed scheme, in determining user
association, allows an adaptable trade-off between network
utilities, e.g., the average trafﬁc delivery latency and the green
energy utilization. Meanwhile, running the user association
within the RANC avoids leaking energy information to users.
As a result, users have no obvious incentives to counterfeit
reports. Based on the above features, we name the proposed
user association scheme as vGALA: virtualized Green energy
Aware and Latency Aware user association 1.
The rest of the paper is organized as follows. In Section
II, we brieﬂy review related works. In Section III, we deﬁne
the system model and formulate the user association problem.
Section IV presents the vGALA scheme. Section V discusses
the practicality of the vGALA scheme. Section VI shows the
simulation results, and concluding remarks are presented in
Section VII.
II. RELATED WORKS
Balancing trafﬁc loads in HetNet has been extensively
studied in recent years . In mobile networks, trafﬁc loads
among BSs is balanced by executing handover procedures.
1The initial idea about green energy aware and latency aware user association was presented at GLOBECOM 2013 .
In the LTE system, there are three types of handover procedures: Intra-LTE handover, Inter-LTE handover, and Inter-
RAT (radio access technology) handover . There are two
ways to trigger handover procedures. The ﬁrst one is “Network
Evaluated” in which the network triggers handover procedures
and makes handover decisions. The other one is “Mobile
Evaluated” in which a user triggers the handover procedure
and informs the network about the handover decision. Based
on the radio resource status, the network decides whether
to approve the user’s handover request. In 4G and LTE
networks, a hybrid approach is usually implemented where a
user measures parameters of the neighboring cells and reports
the results to the network. The network makes the handover
decision based on the measurements. Here, the network can
decide which parameters should be measured by users.
Aligning with the above procedures, various trafﬁc load
balancing algorithms have been proposed to optimize the
network utilities. The most practical trafﬁc load balancing
approach is the cell range expansion (CRE) technique that
biases users’ receiving SINRs or data rates from some BSs
to prioritize these BSs in associating with users . Owing
to the transmit power difference between MBSs and SCBSs,
a large bias is usually given to SCBSs to ofﬂoad users to
small cells . By applying CRE, a user associates with the
BS from which the user receives the maximum biased SINR
or data rate. Although CRE is simple, it is challenging to
derive the optimal bias for BSs. Singh et al. provided a
comprehensive analysis on trafﬁc load balancing using CRE
in HetNet. The authors investigated the selection of the bias
value and its impact on the SINR coverage and the downlink
rate distribution in HetNet.
The trafﬁc load balancing problem can also be modeled as
an optimization problem and solved by convex optimization
approaches. Ye et al. modeled the trafﬁc load balancing
problem as a utility maximization problem and developed distributed user association algorithms based on the primal-dual
decomposition. Kim et al. proposed an α-optimal user
association algorithm to achieve ﬂow level load balancing under spatially heterogeneous trafﬁc distribution. The proposed
algorithm may maximize different network utilities, e.g., the
trafﬁc latency and the network throughput, by properly setting
the value of α. In addition, game theory has been exploited to
model and solve the trafﬁc load balancing problems. Aryafar
et al. modeled the trafﬁc load balancing problem as
a congestion game in which users are the players and user
association decisions are the actions.
The above solutions, though effectively balance the trafﬁc
loads to maximize the network utilities, do not consider the
green energy utilization as a performance metric in balancing
trafﬁc loads. As green energy technologies advance, powering
BSs with green energy is a promising solution to save on-grid
power and reduce the carbon footprints . It is desirable
to recognize green energy as one of the performance metrics
when balancing the trafﬁc loads. Zhou et al. proposed a
handover parameter tuning algorithm for target cell selection,
and a power control algorithm for coverage optimization to
guide mobile users to access the BSs with renewable energy
supply. Considering a mobile network powered by multiple
energy sources, Han and Ansari proposed to optimize the
utilization of green energy for cellular networks by optimizing BSs’ transmit powers. The proposed algorithm achieves
signiﬁcant on-grid power savings by scheduling the green
energy consumption along the time domain for individual BSs,
and balancing the green energy consumption among BSs. The
authors have also proposed a user association algorithm that
jointly optimizes the average trafﬁc delivery latency and the
green energy utilization .
III. SYSTEM MODEL AND PROBLEM FORMULATION
In this paper, we consider a HetNet with multiple MBSs
and SCBSs as shown in Fig. 1. Both the MBSs and SCBSs
are powered by on-grid power and green energy. We consider
solar power as the green energy source. We focus on balancing
the downlink trafﬁc loads among BSs by designing the green
energy and latency aware user association scheme. We adopt
a software-deﬁned radio access network (SoftRAN) architecture in which all BSs are controlled by the RAN controller
(RANC). The RANC has a global view of BSs’ trafﬁc loads
and green energy. The user association is optimized by the
RANC. The speciﬁc design of the RANC is beyond the scope
of this paper.
Fig. 1: A HetNet powered by hybrid energy sources: on-grid
power and green energy.
A. Trafﬁc model
Denote B as a set of BSs including both the MBS and
SCBSs. We assume that the trafﬁc arrives according to a
Poisson point process with the average arrival rate per unit
area at location x equaling to λ(x), and the trafﬁc size (packet
size) per arrival has a general distribution with the average
trafﬁc size of ν(x). Assuming a mobile user at location
x is associated with the jth BS, then the user’s downlink
data rate rj(x) that will end up becoming available to the
user can be generally expressed as a logarithmic function of
the perceived SINR, SINRj(x), according to the Shannon-
Hartley theorem ,
rj(x) = Wjlog2(1 + SINRj(x)),
where Wj is the total bandwidth in the jth BS.
SINRj(x) =
k∈Ij Ik(x).
Here, Pj is the transmission power of the jth BS, Ij represents
the set of interfering BSs which is deﬁned as the set of BSs
whose transmission interferes the jth BS’s transmission toward
a user at location x, Ik(x) is the average interference power
seen by a user at location x from the kth BS, σ2 denotes
the noise power level and gj(x) is the channel gain between
the jth BS and the user at location x. Here, the channel gain
reﬂects only the slow fading including the path loss and the
shadowing. We assume the channel gain is measured at a large
time scale, and thus fast fading is not considered.
In HetNet, the total bandwidth in a BS is determined by
the network’s frequency planning. Different frequency reuse
strategies result in different inter-BS interference. In this paper,
we assume the network’s frequency reuse strategy is given
and static. Thus, Ij contains the set of BSs who share the
same spectrum with the jth BS. We assume users experience a
roughly static interference from the interfering BSs. Although
the inter-BS interference in HetNet varies depending on the
activities in the interfering BSs, the interference can be well
coordinated via time domain techniques, frequency domain
techniques and power control techniques . Therefore, the
inter-BS interference can be reasonably modeled as a static
value for analytical simplicity. The static inter-BS interference
model has also been adopted in previous works for modeling
the user association problem , .
The average trafﬁc load density at location x in the jth BS
̺j(x) = λ(x)ν(x)ηj(x)
Here, ηj(x) is an indicator function. If ηj(x) = 1, the user
at location x is associated with the jth BS; otherwise, the
user is not associated with the jth BS. Assuming mobile users
are uniformly distributed in the area and denoting A as the
coverage area of all the BSs, based on Eq. (3), we derive the
average trafﬁc loads in the jth BS expressed as
The value of ρj indicates the fraction of time during which
the jth BS is busy.
We assume that trafﬁc arrival processes at individual locations are independent. Since the trafﬁc arrival per unit area
is a Poisson point process, the trafﬁc arrival in the jth BS,
which is the sum of the trafﬁc arrivals in its coverage area, is
a Poisson process. The required service time per trafﬁc arrival
for a user at location x in the jth BS is γj =
rj(x). Since
ν(x) is the average trafﬁc size per arrival which follows a
general distribution, the user’s required service time is also
a general distribution. Hence, a BS’s service rate follows a
general distribution. Therefore, a BS’s downlink transmission
process realizes a M/G/1 processor sharing queue, in which
multiple users share the BS’s downlink radio resource .
In mobile networks, various downlink scheduling algorithms
have been proposed to enable proper sharing of the limited
radio resource in a BS . These algorithms are designed to
maximize the network capacity, enhance the fairness among
users, or provision QoS services. According to the scheduling
algorithm, users are assigned different priorities on sharing
the downlink radio resource. As a result, users in different
priority groups perceive different average waiting time. Since
trafﬁc arrives at a BS according to Possion arrival statistics, the
allowed variation in the average waiting times among different
priority groups is constrained by the Conservation Law .
Fig. 2: A hybrid energy powered BS.
The integral constraint on the average waiting time in the jth
BS can be expressed as
¯Lj = ρjE(γ2
This indicates that given the users’ required service time in the
jth BS, if the scheduling algorithm gives some users higher
priority and reduces their average waiting time, it will increase
the average waiting time of the other users. Therefore, ¯Lj
generally reﬂects the jth BS’s performance in terms of users’
average waiting time. Since E(γ2
j ) mainly reﬂects the trafﬁc
characteristics, we assume that E(γ2
j ) is roughly constant
during a user association process and thus ϑj =
be considered as a constant. Thus, we adopt
L(ρj) = ϑjρj
as a general latency indicator for the jth BS. A smaller
L(ρj) indicates that the jth BS introduces less latency to its
associated users. Therefore, we use L(ρj) to reﬂect the jth
BS’s average trafﬁc delivery latency.
B. Energy model
In the network, both MBSs and SCBSs have their own
solar panels for generating green energy. Therefore, BSs
are powered by hybrid energy sources: on-grid power and
green energy. If green energy generated by its solar panel is
not sufﬁcient, the BS consumes on-grid power. Since MBSs
usually consume more energy than SCBSs, we assume that
MBSs are equipped with larger solar panels that have a higher
energy generation capacity than that of a SCBS. A reference
design of a hybrid energy powered BS is shown in Fig 2.
The charge controller optimizes the green energy utilization
based on the solar power intensity, the power consumption of
BSs, and energy prices on power grid. Here, the green energy
utilization is optimized over time horizon. For example, the
charge controller may predict the solar power intensity and
mobile trafﬁc loads in a BS over a certain period of time, e.g.,
24 hours. The prediction can be based on statistical data and
real time weather forecasts. The charge controller according to
the prediction determines how much green energy should be
utilized to power a BS during a speciﬁc time period, e.g., the
time duration between two consecutive trafﬁc load balancing
procedures.
In this paper, instead of investigating how to optimize the
green energy utilization over the time horizon, we aim to study
how to balance trafﬁc loads among BSs to save on-grid energy
within the duration of a trafﬁc balancing procedure. Therefore,
we assume that the amount of available green energy for
powering a BS is a constant within this duration as determined
by the charge controller. It is reasonable to assume that the
available green energy is constant because the trafﬁc load
balancing process is at a time scale of several minutes 
while solar power generation is usually modeled at a time scale
of an hour . Denote ej as the amount of green energy for
powering the jth BS in a trafﬁc load balancing procedure. If
the power consumption of the jth BS is larger than ej, the BS
consumes on-grid power. Otherwise, the residual green energy
will be either stored in battery for future usage or uploaded to
power grid via the smart meter. Since we are not focusing on
optimizing the green energy utilization over the time horizon,
we simply model the BS’s on-grid energy consumption is zero
when the BS’s power consumption is less than ej. In other
words, we do not consider the redistribution of the residual
green energy in our model.
The BS’s power consumption consists of two parts: the
static power consumption and the dynamic power consumption . The static power consumption is the power consumption of a BS without carrying any trafﬁc load. The
dynamic power consumption refers to the additional power
consumption caused by trafﬁc loads in the BS, which can be
well approximated by a linear function of the trafﬁc loads .
j as the static power consumption of the jth BS.
Then, the jth BS’s power consumption can be expressed as
pj = βjρj + ps
Here, βj is the load-power coefﬁcient that reﬂects the relationship between the trafﬁc loads and the dynamic power
consumption in the jth BS. The BS power consumption model
can be adjusted to model the power consumption of either
MBSs or SCBSs by incorporating and tweaking the static
power consumption and the load-power coefﬁcient. The ongrid power consumption in the jth BS is
j = max (pj −ej, 0).
C. Problem formulation
In determining the user association, the network aims to
strive for a trade-off between network utilities, e.g., the average
trafﬁc delivery latency and the on-grid power consumption. In
this paper, we focus on designing a user association algorithm
to enhance the network performance by reducing the average
trafﬁc delivery latency in BSs as well as to reduce the on-grid
power consumption by optimizing the green energy usage.
On the one hand, to reduce the average trafﬁc delivery
latency, the network desires to minimize the summation of the
latency indicators of BSs. On the other hand, since BSs are
powered by both green energy and on-grid power, the network
seeks to minimize the usage of on-grid power by optimizing
the utilization of green energy. According to Eq. (8), ongrid power is only consumed when green energy is not
sufﬁcient in the BS. When pj > ej, to alleviate on-grid power
consumption, the jth BS has to reduce its trafﬁc loads. We
deﬁne the green trafﬁc capacity as the maximum trafﬁc loads
that can be supported by green energy. Denote ˆρj as the green
trafﬁc capacity of the jth BS. Then,
ˆρj = max (ǫ, min(ej −ps
Here, ǫ is an arbitrary small positive constant to guarantee
0 < ˆρj < 1. To reduce trafﬁc loads from ρj to ˆρj, the jth BS
has to shrink its coverage area. As a result, its trafﬁc loads
are ofﬂoaded to its neighboring BSs and may lead to trafﬁc
congestion in the neighboring BSs. The trafﬁc congestion
increases the average trafﬁc delivery latency of the network. To
achieve a trade-off between the average trafﬁc delivery latency
and the on-grid power consumption, we deﬁne the energylatency coefﬁcient in the jth BS as θj. We further deﬁne the
desired trafﬁc loads in the jth BS after the energy-latency
trade-off as
τj = (1 −θj)ρj + θj ˆρj.
Here, 0 ≤θj ≤1. If θj is set to zero, the jth BS’s desired
trafﬁc loads are its actual trafﬁc loads without considering
green energy. In this case, we consider the jth BS being
latency-sensitive; otherwise, if θj equal to one, the jth BS’s
desired trafﬁc loads are dominated by its green trafﬁc capacity
and thus the BS is energy-sensitive. The selection of θj reﬂects
the jth BS’s energy-latency trade off that will be discussed
in Section V-B. We assume θj remains constant within the
duration of a user association process.
Since mobile devices are powered by battery, it is desirable
to guarantee the energy efﬁciency of mobile devices while
performing the trafﬁc load balancing . To ensure the
energy efﬁciency of mobile devices, we restrict a user to only
associate with the BSs to which the user’s uplink pathloss is
smaller than a predeﬁned threshold. Considering all the above
factors, the user association (UA) problem is formulated as
wj(ρj)L(ρj)
subject to :
0 ≤ρj ≤1 −ǫ.
(αj(x) −α∗(x))ηj(x) ≤0,
∀x ∈A, j ∈B.
Here, αj(x) and α∗(x) are the uplink pathloss from the user
at location x to the jth BS and the uplink pathloss threshold
for the user, respectively. 0 < ǫ < 1 is a small real number to
ensure ρj < 1. ρ = (ρ1, ρ2, · · · , ρ|B|), and
wj(ρj) = eκ(ρj−τj)
= eκ(ρj−(1−θj)ρj−θj ˆρj)
= eκθj(ρj−ˆρj)
In the objective function, wj(ρj) indicates the weight of the
jth BS’s latency indicator. If the jth BS has sufﬁcient green
energy (ˆρj ≥ρj), 0 < wj(ρj) ≤1; otherwise, wj(ρj) > 1.
This is because when the amount of available green energy in
the jth BS is sufﬁcient, the green trafﬁc capacity, ˆρj, is larger
than ρj. Then, τj > ρj and wj < 1. With a large weight, the
jth BS has a high priority in reducing its latency indicator
while minimizing Eq. (11) as compared with the BSs having
a small weight. Therefore, as compared with wj(ρj) ≤1,
wj(ρj) > 1 enables the jth BS to achieve a smaller latency
indicator. Since
(1 −ρj)2 > 0,
a smaller latency indicator means less trafﬁc loads in the jth
BS, which is desirable for saving on-grid power in the jth BS.
Thus, introducing the weights for BSs’ latency indicator in the
objective function enables the green energy aware and trafﬁc
delivery latency aware user association. κ is a parameter that
further adjusts the value of the weight according to that of
the trafﬁc latency indicator and enables the network to control
the trade-off between the on-grid power consumption and the
average trafﬁc delivery latency.
IV. VGALA: A GREEN ENERGY AND LATENCY AWARE
LOAD BALANCING SCHEME
In this section, we present the vGALA scheme and prove
its properties. The vGALA scheme generally consists of
three phases. The ﬁrst phase is the initial user association
and network measurement, during which the RANC collects
network information, e.g., available green energy, trafﬁc loads,
and users’ data rates. The second phase is the user association
optimization, in which the RANC optimizes the user association and derives the corresponding BSs’ operation statuses
based on the information collected in the ﬁrst phase. Here, a
BS’s operation status reﬂects the price for a user to access the
BS. In the third phase, the user association is determined based
on the optimized BSs’ operation statuses and users’ downlink
data rates. The major optimization of the vGALA scheme is in
the second phase. To be analytically tractable, we assume that
(1) the RANC can successfully collect the network information
from all BSs and users, and (2) the users’ data rates do not
change within one user association process. We will evaluate
these assumptions in the next section where we discuss the
practicality of the vGALA scheme.
A. The vGALA user association scheme
Based on the collected network information, the RANC
optimizes the user association and derives the optimal BS
operation status. Leveraging the SoftRAN architecture, the
RANC has a global view of the trafﬁc loads and the availability
of green energy in the network, to facilitate the user association
optimization. However, owing to the large number of users and
BSs, the user association algorithm if not well designed may
be time consuming and incurs excessive delays. In order to
efﬁciently optimize the user association, the vGALA scheme
divides the user association algorithm into two parts: the user
side algorithm and the BS side algorithm. The user side
algorithm calculates the user’s BS selection. The BS side
algorithm updates the BS’s operation status calculated based
on the green trafﬁc capacity and the trafﬁc loads. Based on the
updates, the user side algorithm re-calculates the BS selection.
The user association algorithm iterates until it converges. After
the convergence, the optimal BS operation status is obtained
and the optimal user association is subsequently determined.
The information exchanges over the air interface between
users and BSs may introduce additional communication overhead and incur extra power consumption. Leveraging cloud
computing and virtualization, the vGALA scheme generates
virtual users and virtual BSs (vBSs) in the RANC. The
user side algorithm runs on virtual users while the BS side
algorithm runs on vBSs. In this way, instead of exchanging
information over the air interface, the virtual users and vBSs
can iteratively update their information locally within the
RANC. Here, the virtualization only virtualizes the computation resources for BSs and users rather than virtualzing all
their functions.
1) The user side algorithm: We deﬁne the time interval
between two consecutive BS selection updates as a time slot.
At the beginning of the kth time slot, vBSs send their operation
statuses to virtual users. Let
wj(ρj)L(ρj).
The jth vBS’s operation status in the kth time slot is deﬁned
φj(ρj(k)) = ∂ψ(ρ(k))
= ϑjeκθj(ρj(k)−ˆρj)(κθjρj(k) −κθjρj(k)2 −1)
(1 −ρj(k))2
Here, the jth vBS is mapped to the jth BS in the mobile
Let ¯B(x) = {j|αj(x) ≤α∗(x)} be the set of BSs whose
uplink pathloss is less than the user’s pathloss threshold.
Assign rj(x) = ζ, ∀j ∈B \ ¯B(x) where ζ is a very small
positive number that approaches zero. This is equivalent to
restricting the user from associating with the BSs outside ¯B(x).
Then, the BS selection rule for a user at location x can be
expressed as
bk(x) = arg max
Here, bk(x) is the index of the vBS selected by the virtual
user at location x in the kth time slot. The pseudo code of
the user side algorithm is shown in Alg. 1. The computational
complexity of the user side algorithm for an individual user is
Algorithm 1: The User Side Algorithm
Input : BSs’ operation status: φj(ρj(k)), j ∈B;
Output: The BS selection: bk(x);
1 Estimate the uplink pathloss: αj(x);
2 Find ¯B(x) = {j|αj(x) ≤α∗(x)};
3 Assign rj(x) = ζ, ∀j ∈B \ ¯B(x);
4 Find bk(x) = arg maxj∈B
φj(ρj(k));
2) The BS side algorithm: Upon receiving vBSs’ operation
status updates, virtual users select vBSs according to the user
side algorithm. Then, the coverage area of the jth vBS in the
kth time slot is updated as
Aj(k) = {x|j = bk(x), ∀x ∈A}
Then, given ρ(k)
(ρ1(k), ρ2(k), · · · , ρ|B|(k)), θ
(θ1, θ2, · · · , θ|B|), and ˆρ = (ˆρ1, ˆρ2, · · · , ˆρ|B|), the jth vBS’s
perceived trafﬁc loads in the kth time slot is
Mj(ρ(k), θ, ˆρ) = min (
̺j(x)dx, 1 −ǫ).
Since θ and ˆρ are assumed not to change within the duration of
a user association process, Mj(ρ(k), θ, ˆρ) evolves based only
on ρ(k). Thus, we use Mj(ρ(k)) instead of Mj(ρ(k), θ, ˆρ)
for simplicity in the following analysis.
After having derived the perceived trafﬁc loads, the jth vBS
updates its trafﬁc loads as
ρj(k + 1) = δ(k)ρj(k) + (1 −δ(k))Mj(ρ(k)).
Here, 0 ≤δ(k) < 1 is a system parameter calculated by the
RANC to enable
ψ(ρ(k + 1))
≤ψ(ρ(k)) + ς(1 −δ(k))
φj(ρj(k))(Mj(ρ(k)) −ρj(k))
Here, 0 < ς < 0.5 is a constant. In the (k +1)th time slot, the
jth vBS’s operation status is φj(ρj(k+1)). The pseudo code of
the BS sid algorithm is presented in Alg. 2. The computational
complexity of the BS side algorithm is determined by the
“while” loop whose running time depends on the convergence
of ψ(ρ(k)). When ψ(ρ(k)) is closer to the optimal value, it
may take longer time to ﬁnd δ(k). In the following, we will
analyze the convergence of the vGALA scheme, which reﬂects
the computational complexity of the BS side algorithm.
Algorithm 2: The BS Side Algorithm
Input : Users’ vBS selection: bk(x), ∀x ∈A;
Output: vBSs’operation status, φj(ρj(k + 1)), ∀j ∈B;
1 vBSs measure their perceived trafﬁc loads, Mj(ρ(k));
2 Assign δ(k) = 0;
3 while Eq. (21) is not true do
δ(k) = 1 −ξ(1 −δ(k)), here, 0 < ξ < 1 is a real
5 vBSs update their trafﬁc loads:
ρj(k + 1) = δ(k)ρj(k) + (1 −δ(k))Mj(ρ(k));
6 Calculate φj(ρj(k + 1)) based on ρj(k + 1), ∀j ∈B;
B. The convergence of vGALA
In order to prove the convergence of vGALA, we ﬁrst prove
that the vBSs’ trafﬁc load vector converges. The feasible set
for the UA problem is
F = {ρ|ρj =
0 ≤ρj ≤1 −ǫ,
ηj(x) = 1,
ηj(x) = {0, 1}, ∀j ∈B, ∀x ∈A}
Since ηj(x) = {0, 1}, F is not a convex set. Thus, the trafﬁc
updates in Eq. (20) cannot guarantee the updated trafﬁc loads
are in the feasible set. In order to show the convergence of
vGALA, we ﬁrst relax the constraint to let 0 ≤ηj(x) ≤1 and
then prove the trafﬁc load vector converges to the trafﬁc load
vector that is in the feasible set. Deﬁne
˜F = {ρ|ρj =
0 ≤ρj ≤1 −ǫ,
ηj(x) = 1,
0 ≤ηj(x) ≤1, ∀j ∈B, ∀x ∈A}
as the relaxed feasible set.
Lemma 1. The relaxed feasible set ˜F is a convex set.
Proof: The lemma is proved by showing that the set ˜F
contains any convex combination of the trafﬁc load vector ρ.
Lemma 2. ψ(ρ) is a strong convex function of ρ when ρ is
deﬁned in ˜F.
Proof: The lemma is proved by showing ▽2ψ(ρ) ⪰qI
where q = 4e−1 and I is an identity matrix.
Let M(ρ) = {M1(ρ), M2(ρ), · · · , M|B|(ρ)}.
Lemma 3. When M(ρ(k)) ̸= ρ(k), M(ρ(k)) provides a
descent direction of ψ(ρ) at ρ(k).
Proof: Since ψ(ρ) is a convex function, proving the
lemma is equivalent to prove
⟨▽ψ(ρ)|ρ=ρ(k), M(ρ(k)) −ρ(k)⟩< 0.
Let ˆηj(x) and ηj(x) be the user association indication of the
jth BS that result in the trafﬁc load Mj(ρ(k)) and ρj(k),
respectively.
⟨▽ψ(ρ)|ρ=ρ(k), M(ρ(k)) −ρ(k)⟩
(Mj(ρ(k)) −ρj(k))φj(ρj(k))
x∈A λ(x)ν(x)(ˆηj(x) −ηj(x))dx
ˆηj(x) −ηj(x)
j (ρj(k))dx.
1, for j = bk(x)
0, for otherwise,
ˆηj(x) −ηj(x)
j (ρj(k)) ≤0.
Because M(ρ(k)) ̸= ρ(k), there exists j ∈B such that
ˆηj(x) ̸= ηj(x), x ∈A. Hence,
ˆηj(x) −ηj(x)
j (ρj(k)) < 0,
and ⟨▽ψ(ρ)|ρ=ρ(k), M(ρ(k)) −ρ(k)⟩< 0.
Theorem 1. The trafﬁc load vector ρ converges to the trafﬁc
load vector ρ∗∈F.
Proof: Since P
j∈B(Mj(ρ(k)) −ρj(k))φj(ρj(k)) < 0
when M(ρ(k)) ̸= ρ(k), Alg. 2 ensures ψ(ρ(k + 1)) ≤
ψ(ρ(k)) in each time slot. Since ψ(ρ) ≥0, ψ(ρ) will
converge. Let ψ(ρ) converge to ψ(ρ∗). Since
ρ(k + 1) = δ(k)ρ(k) + (1 −δ(k))(Mρ(k))
= ρ(k) + (1 −δ(k))(M(ρ(k)) −ρ(k)),
M(ρ) and ρ will converge to ρ∗. Because M(ρ∗) is derived
based on the user side algorithm where ηm
j (x) = {0, 1}, ∀j ∈
B, x ∈A, ρ∗is in the feasible set F.
Corollary 1. The vBSs’ operation status φj(ρj), ∀j ∈B,
converges to φj(ρ∗
Proof: Within the duration of a user association process,
ϑj, θj, and ˆρj are constant. Thus, φj(ρj) is only determined
by ρj. Since ρj converges to ρ∗
j, φj(ρj) converges to φj(ρ∗
Since ψ(ρ) is a strong convex function, there exists q > 0
and Q > 0 such that qI ⪯▽2ψ(ρ) ⪯QI, ρ ∈˜F .
Denote ψ(ρ∗) as the optimal solution. ψ(ρ(k + 1)) is said to
be the ǫ suboptimal solution if ψ(ρ(k+1))−ψ(ρ∗) ≤ǫ where
ǫ > 0 is a small real number.
Lemma 4. The number of iterations required to ensure
ψ(ρ(k + 1)) −ψ(ρ∗) ≤ǫ is at most equal to
log((ψ(ρ(1)) −ψ(ρ∗))/ǫ)
where z = 1 −min{2qς, 2qςξ/Q} < 1 and ρ(1) is the initial
trafﬁc load vector.
Proof: The lemma is proved in Appendix A.
Eq. (30) indicates that ψ(ρ) converges at least as fast as
a geometric series. Such convergence is called linear convergence in the context of iterative numerical method . The
number of iterations required for ψ(ρ) to converge depends on
the gap between ψ(ρ(1)) and ψ(ρ∗), ǫ, and z. Given the gap
and the value of ǫ, a smaller z enables faster convergence.
By properly selecting ς and ξ, we can reduce the value of
z, and thus reduce the number of iterations required for the
convergence. However, how to optimize the value of ς and ξ
is beyond the scope of this paper.
C. The optimality of vGALA
Since the vBSs’ trafﬁc load vector converges to ρ∗, we show
that the corresponding user association minimizes ψ(ρ).
Theorem 2. Suppose F is not empty and the trafﬁc load vector
converges to ρ∗, the user association corresponding to ρ∗
minimizes ψ(ρ).
Proof: Denote η∗= {η∗
j (x) = {0, 1}, ∀j ∈
B, ∀x ∈A} and η = {ηj(x)|ηj(x) = {0, 1}, ∀j ∈B, ∀x ∈
A} as the user association corresponding to ρ∗and any other
trafﬁc load vector ρ ∈F, respectively.
Let △ρ∗= ρ −ρ∗. Since ψ(ρ) is a convex function over
ρ, proving the theorem is equivalent to prove
⟨▽ψ(ρ)|ρ=ρ∗, △ρ∗⟩≥0.
⟨▽ψ(ρ)|ρ=ρ∗, △ρ∗⟩
x∈A λ(x)ν(x)(ηj(x) −η∗
According to the user side algorithm,
1, for j = arg maxi∈B
0, for otherwise,
Therefore,
Hence, ⟨▽ψ(ρ)|ρ=ρ∗, △ρ∗⟩≥0.
D. The generalization of vGALA
In determining the user association, the vGALA scheme
strives for a balance between the green energy utilization
and the network performance. In the problem formulation,
wj(ρj) and L(ρj) model the green energy utilization and the
network performance, respectively. Since wj(ρj) and L(ρj)
are functions of the trafﬁc load ρj, they are coupled by ρj.
L(ρj) is a general latency indicator derived under the M/G/1
processor sharing queue model. In practical networks, trafﬁc
arrivals may follow arbitrary distributions rather than a Poisson
distribution. In addition, the network operators may aim to
represent the network performance with other metrics instead
of the average trafﬁc delivery latency. It is desirable that the
vGALA framework can be applied to a collection of network
performance models. Denote f(ρj) as a function of the trafﬁc
load ρj that models the jth BS’s performance. Deﬁne the user
association problem with a generalized network performance
model, f(ρj), as the UAG problem expressed as
wj(ρj)f(ρj)
subject to :
0 ≤ρj ≤1 −ǫ.
Lemma 5. If f(ρj) is positive, convex and non decreasing
over ρj, ∀j ∈B, ˜ψ(ρ) = P
j∈B wj(ρj)f(ρj) is convex over
Proof: Since f(ρj) is positive, convex and non decreasing, f(ρj) > 0, f ′′(ρj) ≥0, and f ′(ρj) ≥0. Because
j (ρj) > 0, w′
j(ρj) > 0, and wj(ρj) > 0,
j∈B wj(ρj)f(ρj)
j (ρj)f(ρj) + 2w′
j(ρj)f ′(ρj) + wj(ρj)f ′′(ρj)
Here, q is a positive number. Let I be an identity matrix. Since
j∈B wj(ρj)f(ρj)
= 0, ∀i ̸= j,
▽2 ˜ψ(ρ) ≥qI. Therefore, ˜ψ(ρ) is a strong convex function
over ρ, ρ ∈˜F.
Theorem 3. If the jth BS’s network performance metric,
f(ρj), is positive, convex and non decreasing over ρj, ∀j ∈B,
the UAG problem can be solve by the vGALA scheme.
Proof: In order to guarantee the convergence and the
optimality of the vGALA scheme, ˜ψ(ρ) has to be strongly
convex over ρ ∈˜F. According to the above lemma, if f(ρj)
is positive, convex and non decreasing, ˜ψ(ρ) is a strong convex
function. Thus, the vGALA framework can be utilized to solve
the UAG problem in which f(ρj) is the jth BS’s network
performance metric.
V. THE PRACTICALITY OF THE VGALA SCHEME
In this section, we ﬁrst present how to put the vGALA
framework into practice and evaluate the assumptions made
for developing the scheme. Then, we discuss two related issues
on applying the vGALA scheme: the energy-latency trade-off
and the admission control mechanism.
A. Put into practice
In practical cellular networks, the trafﬁc load balancing
among BSs is usually triggered by network-level events, e.g.,
some BSs are congested while others are lightly loaded, rather
than by user-level events, e.g., a few users’ movement and
data rate changes. Since a BS’s trafﬁc loads are determined by
the average trafﬁc load density of its coverage area, without
considering green energy, it is reasonable to reduce a BS’s
coverage area to avoid trafﬁc congestion if the trafﬁc load
density of the BS’s coverage area is increasing. Therefore,
a BS’s trafﬁc load can be derived based on the locationbased trafﬁc load density that reﬂect the trafﬁc load density
at a location. Thus, for practical implementation, the vGALA
scheme collects the location-based trafﬁc load density and the
network green energy information in the ﬁrst phase as shown
in Fig. 3. Given a speciﬁc location, it is realistic to assume
that BSs’ downlink data rates to users at the location are not
changing during a trafﬁc load balancing period. Notice that on
modeling the trafﬁc load in the UA problem, we differentiate
users by their locations. Therefore, the vGALA scheme is
compatible with the input of the location-based trafﬁc load
density and the location-based downlink data rates.
Fig. 3: The practical implementation of vGALA
In the second phase, the vGALA scheme implemented in
the RANC optimizes the user association and derives the
optimal BS operation status based on the network information
collected in the ﬁrst phase. The optimization can be triggered
either periodically or by some predeﬁned events, e.g., a BS’s
trafﬁc loads exceed a threshold or a BS’s green energy utilization is lower than a threshold. What are the best strategies
for triggering the trafﬁc load balancing can be determined
by network operators and is beyond the scope of this paper.
The output of the second phase is the BS operation status,
based on which the user association is determined in the third
phase. In this phase, a user’s BS association can be determined
in either centralized or distributed fashion. In the ﬁrst case,
users send their data rate measurements to the RANC, and
the RANC determines the users’ BS associations based on the
BS operation status and the users’ date rates. In the second
case, the RANC may simply let BSs broadcast their operation
statuses, and based on which individual users decide their own
BS associations. The users’ BS selections may change the
location-based trafﬁc load density. Individual BSs translate the
users’ BS selections to location-based trafﬁc load density and
report it to the RANC.
In the vGALA scheme, the user association is optimized
with the consideration of both the average trafﬁc delivery
latency and the green energy usage. From users’ point of
view (who may not care about the green energy usage), they
may seek to maximize their performance and violate the BS
selection rule in the vGALA scheme. However, the users, in
fact, do not have any clue on maximizing their own QoS.
According to Eq. (17), a user’s BS selection is based on
both rj(x) and φj(ρj). Here, φj(ρj) is determined by both
the jth BS’s trafﬁc loads and its available green energy. A
user’s average trafﬁc delivery latency is determined by both
the downlink data rate and the trafﬁc loads of the associated
BS. Since the users do not know the trafﬁc loads of BSs, the
users have no clue about which BS can provide them the best
QoS. Simply selecting a BS with the largest rj(x) may lead
the users to a highly congested BS and degrade the users’ QoS.
Thus, the users do not have obvious incentives to counterfeit
their measurement reports.
B. The energy-latency trade-off adaptation
The vGALA scheme provides two parameters for adapting
the trade-off between the on-grid power consumption and the
average trafﬁc delivery latency. The parameters are θ and κ. θ
is the energy-latency coefﬁcient of a BS. It reﬂects individual
BSs’ operation strategies. A BS with a large θ (θ →1)
indicates that the BS is energy-sensitive. When a BS chooses
a small θ (θ →0), the BS is latency-sensitive. Therefore, by
choosing the value of θ, a BS adapts its sensitivity about the
on-grid power consumption and the average trafﬁc delivery
latency. Hence, θ is chosen by individual BSs based on their
operation strategies.
κ is chosen by the RANC based on the global view of green
energy status and the mobile trafﬁc demands. Given θ and
the available green energy, wj(ρj) grows exponentially as the
trafﬁc demand increases. For a large κ, wj(ρj) grows faster
than it does with a small κ. This indicates that the vGALA
scheme is more energy-sensitive when κ is assigned a larger
value. When κ keeps increasing, the vGALA scheme will
perform similarly as a solely energy-aware user association
scheme. On the other hand, when κ = 0, the vGALA scheme
is a solely latency-aware user association scheme. In addition,
since 0 ≤θj ≤1, 0 ≤θj ≤κ. Thus, the value of κ restricts
the individual BSs’ capability in adapting the energy-latency
trade-off. The adaptation of κ can be triggered by either green
energy changes or the mobile trafﬁc demand changes. For
example, when the network experiences heavy trafﬁc loads,
the RANC will focus on balancing the trafﬁc loads to reduce
the network congestion. In this case, the RANC may choose
a small κ to give a high priority to the latency awareness in
balancing the trafﬁc loads. On the other hand, if the network
experiences light trafﬁc loads, the RANC may increase κ to
emphasize the green energy usage.
C. Admission control mechanism
The necessary condition for the convergence and optimality
of the vGALA scheme is that the UA problem is feasible. In
other words, the BSs’ trafﬁc loads should be within the feasible
set deﬁned in Eq. (22). When the trafﬁc loads are beyond
the network capacity, the UA problem is no longer feasible.
As a result, the properties of the vGALA scheme will not
hold. Therefore, the admission control mechanism is necessary
for the vGALA scheme to ensure the feasibility of the UA
problem. Thus, the purpose of proposing a simple admission
control mechanism is to ensure that the vGALA scheme works
even under very heavy trafﬁc load condition (when the UA
problem is not feasible) rather than to reduce either the energy
consumption or average trafﬁc delivery latency of the network.
Denote µ(x) as the admission control coefﬁcient for a user
located at x. 0 ≤µ(x) ≤1 indicates the probability that a user
at location x is admitted to the network. The RANC assigns
µ(x) to a user at location x. µ(x) does not depend on the user’s
BS selection. In other words, no matter which BS is selected
by a user, the user’s admission control coefﬁcient does not
change. Thus, integrating admission control mechanism does
not change the BS selection rule of the users. The coverage
area of a BS, e.g., ˜
Aj(k), is still calculated by Eq. (18). Owing
to the admission control, the trafﬁc load measurement in the
jth vBS is revised as
Mj(ρ(k)) = min (
µ(x)̺j(x)dx, 1 −ǫ).
Distance (km)
Distance (km)
(a) Green energy aware (GA).
Distance (km)
Distance (km)
(b) Latency aware (LA).
Distance (km)
Distance (km)
(c) vGALA (θ = 0.8, κ = 4).
Fig. 4: The coverage areas of different user association schemes.
The vBS updates its trafﬁc loads based on Eq. (20).
With the admission control, the RANC is able to restrict the
trafﬁc loads in the network to ensure the UA problem being
feasible. The relaxed feasible set for the UA problem with
admission control is
ˆF = {ρ|ρj =
µ(x)̺j(x)dx,
0 ≤ρj ≤1 −ǫ,
ηj(x) = 1,
0 ≤ηj(x) ≤1, ∀j ∈B, ∀x ∈A}
Since 0 ≤µ(x) ≤1 is a constant, Lemma 1 still holds, which
means that ˆF is a convex set. Integrating admission control
does not change the objective function of the UA problem.
Thus, Lemma 2 also holds. By applying the similar analysis
presented in Sections IV-B and IV-C, we can prove that the
vGALA scheme still enables the convergence of the trafﬁc
loads and obtains the optimal solution to the UA problem with
the admission control.
VI. SIMULATION RESULTS
TABLE I: Channel Model and Parameters
Parameters
P LMBS (dB)
P LMBS = 128.1 + 37.6 log10(d)
P LSCBS (dB)
P LSCBS = 38 + 10 log10(d)
Rayleigh fading
Shadowing fading
Antenna gain
Noise power level
Receiver sensitivity
We set up system level simulations to investigate the performance of the vGALA scheme for the downlink trafﬁc load
balancing in HetNet. In the simulation, three MBSs and seven
SCBSs are randomly deployed in a 2000m×2000m area. The
trafﬁc arrival in the area follows the Poisson point process
with the average arrival rate equaling to 200. The trafﬁc
size per arrival is 250 kbits. The area is divided into 40000
locations with each location representing a 10m × 10m area.
The location-based trafﬁc load density is calculated based on
the trafﬁc model. The static power consumption of the MBS
and the SCBS are 750 W and 37 W, respectively . The
load-power coefﬁcient of the MBS and the SCBS are 500
and 4, respectively . The solar cell power efﬁciency is
17.4% . We assume that the weather condition is the
standard condition which speciﬁes a temperature of 25 oC, an
irradiance of 1000 W/m2, and an air mass of 1.5 spectrum.
Thus, the green energy generation rate is 174 W/m2. The
solar panel sizes are randomly selected but ensure the green
power generation capacity of MBSs from 750 W to 1300 W
while that of SCBS from 37 W to 48 W. BSs’ energy-latency
coefﬁcients are set to be the same. The total bandwidth is
20 MHz in which 10 MHz is exclusively used by MBSs
and the other 10 MHz is allocated to SCBSs. The frequency
reuse factor for each system (MBSs and SCBSs) is one. The
channel propagation model is based on COST 231 Walﬁsch-
Ikegami . The model and parameters are summarized in
Table I. Here, PLMBS and PLSCBS are the path loss between
the users and MBSs and SCBSs, respectively. d is the distance
between users and BSs.
A. Performance comparison
We compare the vGALA scheme with a green energy aware
(GA) user association scheme and a latency aware (LA) user
association scheme. The GA scheme solves the green energy
aware problem (GAP) formulated as
max(ρj −ej, 0)
subject to :
0 ≤ρj ≤1 −ǫ.
The LA scheme solves the latency aware problem (LAP) as
subject to :
0 ≤ρj ≤1 −ǫ.
As shown in Figs. 4, different user association schemes
result in different trafﬁc load distribution among BSs. In the
ﬁgure, the coverage areas of different BSs are ﬁlled with
different colors2. A larger coverage area indicates the BS
serves more trafﬁc loads. The ﬁrst, second and third BSs are
MBSs and the other BSs are SCBSs. Taking the coverage
area of the 5th BS as an example, as compared with the
2The white color indicates the coverage area of the second BS.
The number of iterations
On-grid power (W)
(a) The on-grid power consumption.
The number of iterations
Latency indicator
(b) The average trafﬁc delivery latency.
Fig. 5: The comparison of different user association scheme (θ = 0.8, κ = 4).
The number of iterations
On-grid power (W)
vGALA, κ=1
vGALA, κ=10
vGALA, κ=20
(a) The on-grid power consumption.
The number of iterations
Latency indicator
vGALA, κ=1
vGALA, κ=10
vGALA, κ=20
(b) The average trafﬁc delivery latency.
Fig. 6: The performance of vGALA with various κ (θ = 1).
GA scheme (Fig. 4a), the LA scheme signiﬁcantly reduces
the BS’s coverage area as shown in Fig. 4b. The 5th BS
has sufﬁcient green energy. Therefore, the GA scheme will
redirect more trafﬁc loads to the BS to minimize the on-grid
power consumption. The LA scheme, which does not consider
the energy usage, balances the trafﬁc loads among BSs to
minimize the average trafﬁc delivery latency. As a result, the
LA scheme limits the trafﬁc loads in the BS. Considering both
the power consumption and the average trafﬁc delivery latency,
the vGALA scheme slightly reduces the BS’s coverage area
as shown in Fig. 4c to obtain a trade-off between the on-grid
power consumption and the average trafﬁc delivery latency.
Fig. 5 shows the trade-off achieved by the vGALA scheme
between the on-grid energy consumption and the average
trafﬁc delivery latency. Fig. 5a shows the on-grid power
consumption of the LA, the vGALA, and the GA schemes,
respectively. As compared with the LA scheme, the vGALA
scheme consumes 30% less on-grid power. Fig. 5b shows that
the average trafﬁc delivery latency of the vGALA scheme is
only 8% more than that of the LA scheme. While the GA
scheme signiﬁcantly reduces the on-grid power consumption,
it increases the trafﬁc delivery latency by about 48% percent as
compared with the vGALA scheme. Here, the latency indicator
equals to P
j∈B L(ρj). The above observation indicates that
the vGALA scheme achieves a preferable trade-off: saving
30% on-grid power at the cost of 8% increase in the average
trafﬁc delivery latency. In addition, as shown in Fig. 5, the
vGALA scheme requires about 60 iterations to converge to the
optimal solution. On the one hand, it proves that the vGALA
scheme converges fast. On the other hand, it indicates that the
vGALA scheme avoids the communication overhead over the
air interface by virtualizing users and BSs in the RANC to
simulate the interactions between users and BSs.
B. Performance adaptation
The trade-off between the on-grid power consumption and
the average trafﬁc delivery latency can be adapted by adjusting
κ and θ in the vGALA scheme. Fig. 6 shows the performance
of the vGALA scheme with different κ. By varying κ, the
vGALA scheme may act as the LA scheme when κ →0
and performs like the GA scheme when κ →∞. As shown
in Fig. 7, given κ, adjusting θ has a limited performance
adaptation. In other words, κ deﬁnes a performance adaptation
range and adjusting θ can only adapt the performance within
the range. As discussed in Section V-B, the selection of θ is
determined by the operation strategies of BSs while the value
of κ is chosen based on network conditions, e.g., the trafﬁc
load intensity and the available green energy. However, how
to optimize these values is beyond the scope of this paper.
C. Green energy generation rate evaluation
The amount of green energy in BSs impacts the performance
of the vGALA scheme. In Fig. 8, the x-axis is the solar cell
power efﬁciency. As the solar cell power efﬁciency enhances,
the amount of green energy in BSs will increase. As shown
in Fig. 8a, the on-grid power consumption of BSs decreases
as the solar cell power efﬁciency increases. This is because
more green energy is available in BSs. With the increase
of the solar cell power efﬁciency, the performance on the
average trafﬁc delivery latency can be divided into four regions
as shown in Fig. 8b. In the ﬁrst region (R1), all BSs do
The number of iterations
On-grid power (W)
vGALA, θ=0.1
vGALA, θ=0.5
vGALA, θ=0.9
(a) The on-grid power consumption.
The number of iterations
Latency indicator
vGALA, θ=0.1
vGALA, θ=0.5
vGALA, θ=0.9
(b) The average trafﬁc delivery latency.
Fig. 7: The performance of vGALA with various θ (κ = 4).
Solar cell power eﬃciency (%)
On-grid power (kW)
local energy
latecy trade−off
(a) The on-grid power consumption.
Solar cell power eﬃciency (%)
Latency indicator
local energy
latecy trade−off
(b) The average trafﬁc delivery latency.
Fig. 8: The performance of vGALA versus solar cell power efﬁciency (θ = 0.8, κ = 4).
not have sufﬁcient green energy to offset their static power
consumption. As a result, BSs’ green trafﬁc capacities are zero.
In this condition, the vGALA scheme performs like the LA
scheme. In the second region (R2), the green trafﬁc capacities
of BSs start to impact the trafﬁc load balancing. The trafﬁc
loads will be directed to BSs that have sufﬁcient green energy.
Meanwhile, the vGALA scheme avoids to excessively increase
the average trafﬁc delivery latency. In the region, green energy
is not sufﬁcient in the network. Thus, the major strategy is to
trade the average trafﬁc delivery latency for saving on-grid
power. However, as the solar power efﬁciency increases, some
BSs may have sufﬁcient green energy and they start trading
their green energy for reducing the average trafﬁc delivery
latency in the network (the solar power efﬁciency falls between
16% and 17%). This event reﬂects the local energy-latency
trade-off among several BSs. In the third region (R3), as the
solar cell power efﬁciency further increases, the trafﬁc load
balancing becomes more ﬂexible with respect to the green
energy constraint, which enables the vGALA scheme to further
reduce the average trafﬁc delivery latency. In both region R2
and R3, the vGALA scheme determines the trade-off between
the on-grid power consumption and the average trafﬁc delivery
latency. In the fourth region (R4), all BSs have sufﬁcient green
energy to operate with full trafﬁc loads. In other words, the
green trafﬁc capacities of all the BSs equal to one. Thus, green
energy is no longer a concern in balancing the trafﬁc load and
the vGALA scheme acts as the LA scheme.
D. Practicality evaluation
The cell range expansion (CRE) approach is one of the
most practical trafﬁc load balancing approach and has been
proven to have similar performance as optimal trafﬁc balancing
schemes in term of maximizing network utilities , . This
simulation evaluates the trafﬁc balancing performance of the
vGALA scheme and the CRE approach. For the vGALA
scheme, the simulation follows Section V-A to obtain the
optimal BS operation status based on the location-based trafﬁc
load density of the coverage area and the available green
energy. We adopt the two-tier data rate bias approach as the
CRE approach and assume that BSs in the same tier have the
data rate bias. In the simulation, MBSs are in the ﬁrst tier while
SCBSs are in the second tier. In the data rate bias approach,
a user selects the BS to maximize the biased data rate.
b(x) = arg max
j∈B Zjrj(x).
Here, b(x) and Zj are the index of the selected BS and the
data rate bias of the jth BS. The data rate bias of a MBS is
one. The data rate biases are selected for SCBSs to minimize
(1) the average trafﬁc delivery latency, (2) the overall ongrid power consumption, and (3) ψ(ρ). Deﬁne these data rate
biases as (1) CRE LA (latency-aware), (2) CRE GA (green
energy-aware), and (3) CRE LG (latency and green energyaware), respectively.
In the simulation, the BS operation status and the data
rate biases are calculated based on the location-based trafﬁc
load density generated in previous simulations. We randomly
generate users’ locations using Poisson point process3 with
average rate equalling to 200 in the area. The average trafﬁc
size per user is 250 kbits. We run the simulation 10000
3The Poisson point process is the same as the Poisson point process used
to generate the location-based trafﬁc load density.
vGALA (κ = 1)
vGALA (κ = 5)
vGALA (κ = 10)
CRE LG (κ = 1)
CRE LG (κ = 5)
CRE LG (κ = 10)
On-grid power (W)
(a) The on-grid power consumption.
vGALA (κ = 1)
vGALA (κ = 5)
vGALA (κ = 10)
CRE LG (κ = 1)
CRE LG (κ = 5)
CRE LG (κ = 10)
Latency indicator
(b) The average trafﬁc delivery latency.
Fig. 9: The performance of vGALA versus CRE (θ = 0.8).
times to evaluate the performance of different approaches in
terms of the average trafﬁc delivery latency and the average
on-grid power consumption. As shown in Fig. 9, CRE GA
achieves the minimum on-grid energy consumption among
all the schemes. However, the average trafﬁc delivery latency
of CRE GA is signiﬁcantly larger than other schemes. As
compared with CRE LA and CRE LG, the vGALA scheme
not only saves the on-grid energy consumption but also
reduces the average trafﬁc delivery latency. For the vGALA
scheme, when κ increases, the scheme is to gradually prioritize
saving on-grid energy in balancing the trafﬁc loads, as shown
in Fig. 9a, at the cost of a small increase of the average
trafﬁc delivery latency as shown in Fig. 9b. For the CRE LG
scheme, increasing κ does not effectively adjust the energylatency trade-off as the vGALA scheme does. This indicates
the tier-based data rate bias approach may not perform well
on jointly optimizing the utilization of green energy and the
network utilities.
VII. CONCLUSION
In this paper, we have proposed a trafﬁc load balancing
framework referred to as vGALA. During the procedure of
establishing user association, the vGALA scheme not only
considers the network performance, e.g., the average traf-
ﬁc delivery latency, but also adapts to the availability of
green energy. Various properties, in particular, convergence
of vGALA, have been proven. The vGALA scheme reduces
the on-grid power consumption with a little sacriﬁce of the
average trafﬁc delivery latency. The trade-off between the
network performance and the on-grid power consumption is
adjustable in individual BSs and controllable by the radio
access network controller. The vGALA scheme includes both
the user side algorithm and the BS side algorithm. To avoid
the extra communication overheads, the vGALA scheme,
leveraging the SoftRAN architecture, introduces virtual users
and vBSs to simulate the interactions between users and BSs
thus signiﬁcantly reducing the information exchanges over the
air interface. The extensive simulation results have validated
the performance and the practicality of the vGALA scheme.
APPENDIX A
PROOF OF LEMMA 4
Let △ρ(k) = M(ρ(k)) −ρ(k). The termination condition
of the BS side algorithm (Alg. 2) can be expressed as
ψ(ρ(k + 1))
≤ψ(ρ(k)) + ς(1 −δ(k)) ▽ψ(ρ)⊤△ρ(k)
Since △ρ(k) is a descent direction of ψ(ρ(k)), △ρ(k) can
be replaced by −▽ψ(ρ). Thus, the termination condition of
Alg. 2 can be rewritten as
ψ(ρ(k + 1)) ≤ψ(ρ(k)) −ς(1 −δ(k))∥▽ψ(ρ)∥2
Next, we will prove that the termination condition is satisﬁed
whenever 0 ≤1 −δ(k) ≤1/Q. Since ψ(ρ) ⪯QI, we can
derive, according to ,
ψ(ρ(k + 1)) ≤
ψ(ρ(k)) + ((1 −δ(k))Q
−1)(1 −δ(k))∥▽ψ(ρ)∥2
When 0 ≤1−δ(k) ≤1/Q, (1−δ(k))Q
−1 ≤−1/2. Therefore,
ψ(ρ(k + 1)) ≤
ψ(ρ(k)) −(1 −δ(k))
Since 0 < ς < 0.5, −(1−δ(k))
≤−(1−δ(k))ς. Thus, we have
ψ(ρ(k + 1)) ≤ψ(ρ(k)) −(1 −δ(k))ς∥▽ψ(ρ)∥2
which satisﬁes the termination condition of Alg. 2. Therefore,
Alg. 2 terminates either with δ(k) = 0 or (1 −δ(k)) equaling
to a value that is larger than ξ/Q.
In the ﬁrst case (δ(k) = 0), we have
ψ(ρ(k + 1)) ≤ψ(ρ(k)) −ς∥▽ψ(ρ)∥2
In the second case ((1 −δ(k)) ≥ξ/Q), we can derive that
ψ(ρ(k + 1)) ≤ψ(ρ(k)) −ςξ/Q∥▽ψ(ρ)∥2
ψ(ρ(k + 1)) ≤ψ(ρ(k)) −min{ς, ςξ/Q}∥▽ψ(ρ)∥2
Subtracting ψ(ρ∗) from both side, we have
ψ(ρ(k + 1)) −ψ(ρ∗) ≤
ψ(ρ(k)) −ψ(ρ∗) −min{ς, ςξ/Q}∥▽ψ(ρ)∥2
Since qI ⪯▽2ψ(ρ), according to ,
∥▽ψ(ρ(k))∥2
2 ≥2q(ψ(ρ(k)) −ψ(ρ∗)).
Combining these together, we can derive that
ψ(ρ(k + 1)) −ψ(ρ∗) ≤
(1 −min{2qς, 2qςξ/Q})(ψ(ρ(k)) −ψ(ρ∗)).
Let z = 1 −min{2qς, 2qςξ/Q} and apply the inequality
recursively, we ﬁnd that
ψ(ρ(k + 1)) −ψ(ρ∗) ≤zk(ψ(ρ(1)) −ψ(ρ∗)).
Let zk(ψ(ρ(1)) −ψ(ρ∗)) = ǫ; we derive that the number of
iteration required to achieve ǫ optimality is
k = log((ψ(ρ(1)) −ψ(ρ∗))/ǫ)