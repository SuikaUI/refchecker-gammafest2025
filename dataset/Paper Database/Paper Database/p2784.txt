DISE√ëO √ìPTIMO DE UN MECANISMO
PARALELO ENFOCADO EN MANUFACTURA
Tesis para obtener el t√≠tulo de Doctor en Ciencias Aplicadas
DIEGO ALEJANDRO N√ö√ëEZ VALLEJOS
DISE√ëO √ìPTIMO DE UN MECANISMO
PARALELO ENFOCADO EN MANUFACTURA
Tesis para obtener el t√≠tulo de Doctor en Ciencias Aplicadas
DIEGO ALEJANDRO N√ö√ëEZ VALLEJOS
Ing. Mauricio Felipe Mauledoux Monroy Ph.D.
Ing. Oscar Fernando Avil√©s S√°nchez Ph.D.
Grupo de Investigaci√≥n DAVINCI
Universidad Militar Nueva Granada
Bogot√°, Colombia
Dedicado a mi adorada Adriana y a la luz de mis ojos, Ver√≥nica.
‚ÄúTodo llega, todo pasa‚Äù
AGRADECIMIENTOS
Agradezco a todas aquellas personas que ayudaron a hacer posible esta tesis, a los doctores Mauricio
Mauledoux y Oscar Avil√©s porque su paciencia, empat√≠a, asesor√≠a y apoyo fue mucho m√°s que acad√©mico.
Igualmente, a los jurados Dr. Jaime Gallardo, Dr.Efr√©n Mezura y Dr. Carlos Rodriguez por sus minuciosas
evaluaciones, valiosos comentarios y sugerencias. Adicionalmte, doy gracias a todos los profesores que me
guiaron y fueron parte en mi desarrollo acad√©mico y profesional.
Agradezco a mi esposa Adriana porque siempre mostr√≥ un apoyo incondicional y permanente, aunque
estas palabras no hacen justicia a todo el esfuerzo y sacrificio que mostr√≥ en estos a√±os. Tambi√©n agradezco
a mis padres Esther Vallejos y Alberto Nu√±ez por su confianza inquebrantable y su soporte en los momentos
m√°s dificiles.
Gracias a la Dra. Paola Ni√±o del Instituto Politecnico Nacional por su gu√≠a en la estancia doctoral y a la
Universidad Militar Nueva Granada por permitirme realizar los estudios de doctorado.
La manufactura aditiva es una t√©cnica cuyo principio t√©cnico es la adici√≥n de capas de material para
fabricar piezas. Aunque se han hecho estudios en pro de su mejora en aspectos de deposici√≥n, control de
temperatura, flujos y movimientos, estas √∫ltimas a√∫n presentan retos a superar. Las m√°quinas
convencionales tienen movimientos cartesianos que genera dificultades relacionados con el acabado, con
los requerimientos isotr√≥picos, con la uni√≥n de capas, con el uso de material de soporte, con las bajas
velocidades de impresi√≥n y con la imposibilidad de imprimir alrededor de obst√°culos. Con el fin de mejorar
estos aspectos, algunos desarrollos han usado mecanismos paralelos como mecanismo base de movimiento;
sin embargo, las t√©cnicas convencionales de dise√±o estos mecanismos se han concentrado en dividir esta
etapa en fases. Usualmente, se concentran los primeros esfuerzos en los requerimientos estructurales y
geom√©tricos, para luego pasar a la fase de control. El resultado de esto son mecanismos sobredimensionados
con altos requerimientos energ√©ticos y costos elevados. Por tal motivo es necesario desarrollar un
mecanismo paralelo enfocado en manufactura aditiva que incremente la multidireccionalidad del sistema y
optimice los requerimientos volum√©tricos, con movimientos suaves, demanda energ√©tica peque√±a y buena
precisi√≥n de movimientos.
En b√∫squeda de lo anterior, se plante√≥ una estrategia de dise√±o considerando siete aspectos. Primero, se
analizaron estudios previos propios y de terceros. Segundo, se hizo el an√°lisis cinem√°tico y din√°mico del
mecanismo considerando estrategias computacionalmente viables. Tercero, se hall√≥ el espacio de trabajo
computacionalmente eficiente debido a sus caracter√≠sticas discretas y t√©cnicas de b√∫squeda. Cuarto, se
plante√≥ un nuevo √≠ndice de manipulabilidad debido a las caracter√≠sticas de movimiento de los actuadores.
Quinto, como el mecanismo debe tener movimientos suaves, se consideraron estrategias de control robustas
y se examinaron sus errores y esfuerzos de control implementando un nuevo controlador h√≠brido, que
contempla planitud diferencial y modos deslizantes. Sexto, de la estrategia de control, se obtuvieron
indicadores de desempe√±o energ√©tico y de eficiencia de control. Septimo, los indicadores de desempe√±o
anteriormente mencionados sirvieron para el planteamiento de funciones objetivo que junto con sus
restricciones fueron evaluadas paralelamente en algoritmos metaheur√≠sticos de optimizaci√≥n.
Esta estrategia de dise√±o no solo logr√≥ obtener un mecanismo paralelo con seis grados de libertad,
llamado HEXA, para su implementaci√≥n en manufactura aditiva que suple las necesidades anteriormente
descritas, sino que, present√≥ nuevas formas de an√°lisis y control de mecanismos de cinem√°tica paralela que
involucran an√°lisis y desarrollos geom√©trico, de movimiento y de control.
Finalmente, la metodolog√≠a empleada puede ser la base para el an√°lisis, dise√±o y optimizaci√≥n otros
mecanismos paralelos que consideren el WS, la manipulabilidad, y el control robusto cuyos indicadores
sean el error de control y el esfuerzo de control. Lo anterior hace que √©sta forma de dise√±o tenga el potencial
de crear nuevas investigaciones, profesiones, industrias y empleos; impactando la academia y la industria.
Additive manufacturing is a technique whose technical principle is the addition of layers of material to
manufacture parts. Although studies have been conducted to improve deposition, temperature control,
flows, and movements, the latter still present challenges. Conventional machines have Cartesian directions
that generate difficulties related to finishing, isotropic requirements, layer bonding, use of support material,
low printing speeds, and the inability to print around obstacles. In order to improve these aspects, some
developments have used parallel manipulators as the base mechanism for movement. However,
conventional techniques for designing these manipulators have focused on dividing this stage into phases.
Typically, the initial efforts are concentrated on the structural and geometric requirements, followed by the
control phase. This results in oversized mechanisms with high energy requirements and high costs. For this
reason, it is necessary to develop a parallel mechanism focused on additive manufacturing that increases
the multi-directionality of the system and optimizes volumetric requirements with smooth movements, low
energy demand, and good movement accuracy.
In pursuit of the above, a design strategy was proposed considering seven aspects. First, previous studies
were analyzed, both proprietary and third-party. Second, the kinematic and dynamic analysis of the
mechanism was carried out, considering computationally viable strategies. Third, the computationally
efficient working volume was found due to its discrete characteristics and search techniques. Fourth, a new
manipulability index was proposed due to the movement characteristics of the actuators. Fifth, since the
mechanism must have smooth movements, robust control strategies were considered, and their control
errors and efforts were examined by implementing a new hybrid controller that includes differential flatness
and sliding modes. Sixth, energy performance, and control efficiency indicators were obtained from the
control strategy. Seventh, the aforementioned performance indicators were used to propose objective
functions that, together with their constraints, were evaluated in parallel in metaheuristic optimization
algorithms.
This design strategy not only achieved a parallel manipulator with six degrees of freedom, named
HEXA, for implementation in additive manufacturing that meets the previously described, but also
introduced novel methods for analyzing and controlling parallel kinematic mechanisms that encompass
geometric, kinematics, and control analysis.
Finally, the methodology can serve as the foundation for the analysis, design, and optimization of other
parallel mechanisms, that considers workspace, manipulability, and robust control with control error and
control effort as their indicators. This design approach has the potential to generate new research,
professions, industries, and jobs, thereby impacting academia and industry.
INTRODUCCI√ìN ............................................................................................................................ 1
Descripci√≥n general................................................................................................................... 1
Objetivos ................................................................................................................................... 2
Objetivo general ................................................................................................................ 2
Objetivos espec√≠ficos ........................................................................................................ 3
Metodolog√≠a .............................................................................................................................. 3
Alcance del trabajo.................................................................................................................... 4
Contribuciones .......................................................................................................................... 5
Organizaci√≥n de la tesis ............................................................................................................ 6
MARCO TE√ìRICO .......................................................................................................................... 7
Mecanismo paralelo .................................................................................................................. 7
Cinem√°tica inversa .................................................................................................................... 9
Cinem√°tica diferencial ............................................................................................................ 10
Generalidades .................................................................................................................. 10
Matriz Jacobiana ............................................................................................................. 10
Formulaciones para la obtenci√≥n de la din√°mica del mecanismo ........................................... 11
Formulaci√≥n de Newton Euler ........................................................................................ 11
Formulaci√≥n de Euler Laplace ........................................................................................ 11
Principio del trabajo virtual ............................................................................................. 12
Espacio de trabajo ................................................................................................................... 12
Enfoque geom√©trico ........................................................................................................ 13
M√°ximo volumen inscrito con CAD ............................................................................... 13
M√©todo discreto............................................................................................................... 14
An√°lisis de l√≠mites por restricciones ............................................................................... 14
Manipulabilidad ...................................................................................................................... 14
Estrategia de control................................................................................................................ 15
Modos deslizantes ........................................................................................................... 15
Planitud diferencial ......................................................................................................... 21
Error y esfuerzo de control ...................................................................................................... 23
Optimizaci√≥n ........................................................................................................................... 24
M√©todos de optimizaci√≥n cl√°sicos .................................................................................. 24
M√©todos de optimizaci√≥n no tradicionales ...................................................................... 25
Planteamiento de un problema de optimizaci√≥n ............................................................. 25
Concepto de dominancia ................................................................................................. 26
Frente de Pareto .............................................................................................................. 26
M√©todos implementados ................................................................................................. 27
ESTADO DEL ARTE ..................................................................................................................... 29
Configuraciones mec√°nicas de los MPs .................................................................................. 29
Investigaciones en cinem√°tica y din√°mica .............................................................................. 38
Avances en estudio de cinem√°tica inversa ...................................................................... 38
Progresos en modelaci√≥n de la din√°mica ........................................................................ 39
Tendencias en espacio de trabajo ............................................................................................ 41
Estrategias de control en MPs ................................................................................................. 44
Avances en la optimizaci√≥n de MPs ....................................................................................... 45
Conclusi√≥n del an√°lisis del estado del arte .............................................................................. 46
DESCRIPCI√ìN DEL MECANISMO ............................................................................................ 47
Selecci√≥n del mecanismo ........................................................................................................ 47
Mecanismos analizados ................................................................................................... 47
Metodolog√≠a de selecci√≥n ................................................................................................ 47
Definici√≥n de criterios ..................................................................................................... 49
Especificaciones del mecanismo ............................................................................................. 51
Determinaci√≥n de la cinem√°tica inversa ................................................................................. 55
V√©rtices de las plataformas ............................................................................................. 55
Modelo matem√°tico para la cinem√°tica inversa .............................................................. 56
Desarrollo de la modelaci√≥n din√°mica .................................................................................... 60
An√°lisis de velocidad ...................................................................................................... 60
An√°lisis de aceleraci√≥n .................................................................................................... 61
Matriz Jacobiana de velocidades ..................................................................................... 62
Matriz Jacobiana de aceleraciones .................................................................................. 63
Matrices Jacobianas de los eslabones ............................................................................. 63
Modelo din√°mico por el principio de trabajo virtual....................................................... 64
DETERMINACI√ìN DE LAS FUNCIONES OBJETIVO ............................................................. 70
C√°lculo del espacio de trabajo ................................................................................................ 70
Evaluaci√≥n de posici√≥n ................................................................................................... 70
Generaci√≥n de nube de puntos ........................................................................................ 72
C√°lculo del volumen ....................................................................................................... 74
Identificaci√≥n de la manipulabilidad ....................................................................................... 75
Implementaci√≥n de la estrategia de control ............................................................................. 76
Control equivalente por planitud diferencial ................................................................... 77
Control atractivo ............................................................................................................. 78
Esfuerzo de control ................................................................................................................. 81
Error de control ....................................................................................................................... 81
OPTIMIZACI√ìN DEL SISTEMA ................................................................................................. 84
Variables de dise√±o ................................................................................................................. 84
Funciones objetivo .................................................................................................................. 84
Funciones objetivo geom√©tricas ...................................................................................... 84
Funciones objetivo de control ......................................................................................... 85
Restricciones ........................................................................................................................... 87
Problema de optimizaci√≥n ....................................................................................................... 88
An√°lisis de dominancia ........................................................................................................... 89
Clasificaci√≥n de hacinamiento ................................................................................................ 89
Evaluaci√≥n del algoritmo ........................................................................................................ 90
M√©todo de toma de decisi√≥n y espaciado ................................................................................ 91
. Implementaci√≥n ..................................................................................................................... 92
RESULTADOS Y DISCUSI√ìN .................................................................................................... 96
Producto del an√°lisis de cinem√°tica inversa ............................................................................ 96
Soluci√≥n del WS...................................................................................................................... 99
An√°lisis de manipulabilidad .................................................................................................. 102
Efecto de la implementaci√≥n de la estrategia de control ....................................................... 103
Indicador del esfuerzo de control .......................................................................................... 112
Ejecuci√≥n de la optimizaci√≥n ................................................................................................ 113
Prototipo del HEXA 6 RUS .................................................................................................. 120
CONCLUSIONES ........................................................................................................................ 123
REFERENCIAS ........................................................................................................................................ 125
ANEXOS .................................................................................................................................................. 136
Anexo A ........................................................................................................................................... 137
Anexo B ........................................................................................................................................... 138
Anexo C ........................................................................................................................................... 140
Anexo D ........................................................................................................................................... 232
Anexo E ........................................................................................................................................... 236
Anexo F ........................................................................................................................................... 238
Anexo G ........................................................................................................................................... 246
Anexo H ........................................................................................................................................... 253
LISTA DE FIGURAS
Fig. 1-1. Esquem√°tico de la metodolog√≠a usada en el dise√±o m√°s competitivo de un mecanismo paralelo. 4
Fig. 2-1. Esquem√°tico de un A) MP serial y un B) MP paralelo ........................................................... 7
Fig. 2-2.A) MP r√≠gido . B) MP guiado por cables. ................................................................................ 8
Fig. 2-3. Esquem√°tico del MP 5R . ........................................................................................................ 9
Fig. 2-4. Esquem√°tico del m√©todo de m√°ximo volumen inscrito con CAD de un MP tipo Delta. A) Concepto
de intersecci√≥n del volumen de los eslabones a una altura puntual. B) M√°ximo volumen inscrito . .. 13
Fig. 2-5.Esquem√°tico del comportamiento del control discontinuo sobre la superficie . ..................... 17
Fig. 2-6. Capa l√≠mite . ........................................................................................................................... 17
Fig. 2-7. Variaci√≥n de ùëìùëã, ùë°, ùúè sobre el plano tangente . ...................................................................... 18
Fig. 2-8. Esquem√°tico de difeomorfismo . ........................................................................................... 21
Fig. 2-9. Esquem√°tico del error y esfuerzo de control. ............................................................................... 24
Fig. 2-10. Esquem√°tico de un FP. ............................................................................................................... 26
Fig. 2-11. Ubicaci√≥n de los puntos en una b√∫squeda por secci√≥n dorada ........................................... 27
Fig. 3-1. MP de 6 DOFs. A) Isom√©trico. B) Detalles del sistema rotacional superior . ....................... 30
Fig. 3-2. MP configurable . .................................................................................................................. 31
Fig. 3-3. 6 DOFs RSS . ......................................................................................................................... 31
Fig. 3-4. Esquem√°tico del mecanismo y ensamble de un MP tipo Stewart de bajo costo . .................... 32
Fig. 3-6. Mecanismo tipo Hunt 6 RUS. A) Esquem√°tico del MP. B) Vista superior de la configuraci√≥n. .
.................................................................................................................................................................... 33
Fig. 3-7. Robot tipo Hexa . ................................................................................................................... 33
Fig. 3-8. MP de 4 DOFs libre de singularidades . ................................................................................ 34
Fig. 3-9. MP de 6 DOFs. A. Modelo virtual. B. Esquem√°tico de las fuerzas en la plataforma m√≥vil . 34
Fig. 3-10. MP de 6 DOFs. A) Esquem√°tico del mecanismo. B) Configuraci√≥n mec√°nica de la articulaci√≥n
cil√≠ndrica . ............................................................................................................................................. 35
Fig. 3-11. MP de 6 DOFs. A) Descripci√≥n de movimientos. B) Modelo fabricado . ........................... 35
Fig. 3-12. Prototipo virtual de un mecanismo con 5 DOFs . ................................................................ 36
Fig. 3-13. Descripci√≥n de mecanismo h√≠brido ..................................................................................... 37
Fig. 3-14. Hexapteron. A. Esquem√°tico. B. Dise√±o mec√°nico . ........................................................... 37
Fig. 3-15. Arquitectura del mecanismo de m√∫ltiples rieles . ................................................................ 37
Fig. 3-16. MP configurable . ................................................................................................................ 38
Fig. 3-17. WS alcanzado por 3 diferentes MP. A) Tipo Hexa. B) Tipo Hunt. C) Tipo Zamanov . .. 42
Fig. 3-18. Posicionamiento del WS en un MP con an√°lisis cil√≠ndrico de espacio requerido de trabajo .
.................................................................................................................................................................... 44
Fig. 4-1. MPS preliminarmente seleccionados. .......................................................................................... 48
Fig. 4-2. Esquema de asociaci√≥n de criterios .............................................................................................. 49
Fig. 4-3. Representaci√≥n gr√°fica de la selecci√≥n. ........................................................................................ 51
Fig. 4-4. Esquem√°tico de la configuraci√≥n del HEXA 6RUS. .................................................................... 52
Fig. 4-5. Esquem√°tico de la configuraci√≥n de un brazo del HEXA 6RUS. ................................................ 52
Fig. 4-6. Esquem√°tico de la configuraci√≥n de la plataforma fija superior HEXA 6RUS. .......................... 53
Fig. 4-7. Esquem√°tico de la configuraci√≥n de la plataforma m√≥vil del HEXA 6RUS. ............................... 53
Fig. 4-8. Esquem√°tico de la distribuci√≥n de fuerzas de un brazo. ............................................................... 54
Fig. 4-9. Ubicaci√≥n de los planos de referencia A) ‚Ñò y B) ‚Ñè. ................................................................... 59
Fig. 5-1. Esquem√°tico de b√∫squeda secci√≥n dorada. ................................................................................... 71
Fig. 5-2. Puntos m√°s bajos y altos del WS .................................................................................................. 72
Fig. 5-3. Puntos m√°s bajos y altos del WS .................................................................................................. 74
Fig. 5-4. Esquem√°tico de la creaci√≥n de pir√°mides para calcular el ES. ..................................................... 74
Fig. 5-5. Esquem√°tico de la discretizaci√≥n del WS para el an√°lisis de manipulabilidad. ........................... 76
Fig. 5-6. Esquem√°tico del control h√≠brido propuesto. ................................................................................. 76
Fig. 5-7. Esquem√°tico del control equivalente por planitud diferencial. .................................................... 79
Fig. 5-8. Esquem√°tico del controlador ùúèùëêùëúùëõ. .............................................................................................. 81
Fig. 5-9. Esquem√°tico de la obtenci√≥n de EC. ............................................................................................ 82
Fig. 5-10. Esquem√°tico del √°rea bajo la curva del torque de un motor. ...................................................... 82
Fig. 6-1. Ejemplo de desplazamiento de prueba dentro del WS. Configuraci√≥n ùëôùëè= 0.3 m y ùëôùëü= 0.3 m. ... 87
Fig. 6-2. Esquem√°tico de la clasificaci√≥n por hacinamiento . .............................................................. 90
Fig. 6-3. Comparaci√≥n de FP del MOP, EDMER y GA de expresi√≥n de Binh .......................................... 91
Fig. 6-4. Comparaci√≥n de FP del MOP, EDMER y GA de expresi√≥n de Viennet. .................................... 93
Fig. 6-5. M√©todo de LINMAP de selecci√≥n de punto m√°s competitivo ............................................. 93
Fig. 7-1. Esquem√°tico de la primera validaci√≥n de la cinem√°tica inversa. ................................................. 97
Fig. 7-2. Esquem√°tico de la segunda validaci√≥n de la cinem√°tica inversa. ................................................. 97
Fig. 7-3. Esquem√°tico de la tercera validaci√≥n de la cinem√°tica inversa. ................................................... 98
Fig. 7-4. Esquem√°tico de la cuarta validaci√≥n de la cinem√°tica inversa. .................................................... 99
Fig. 7-5. Esquem√°tico de la quinta validaci√≥n de la cinem√°tica inversa. .................................................... 99
Fig. 7-6. WS con una configuraci√≥n de ùëôùëè= 0.07 m y ùëôùëü= 0.18 m. ...................................................... 100
Fig. 7-7. WS con una configuraci√≥n de ùëôùëè= 0.5 m y ùëôùëü= 0.5 m. ........................................................... 101
Fig. 7-8. WS de diferentes configuraciones de ùëôùëè y ùëôùëü. ............................................................................ 102
Fig. 7-9. WS con respecto a ùëôùëè/ùëôùëü del HEXA 6RUS ................................................................................ 102
Fig. 7-10. N√∫mero condicional de diferentes configuraciones de ùëôùëè y ùëôùëü. ................................................ 103
Fig. 7-11. Controlador del HEXA 6RUS en Simulink¬Æ .......................................................................... 104
Fig. 7-12. Control equivalente en Simulink¬Æ ........................................................................................... 105
Fig. 7-13. Control atractivo en Simulink¬Æ ............................................................................................... 105
Fig. 7-14. Comparaci√≥n de la posici√≥n deseada en X vs la generada controlada. .................................... 106
Fig. 7-15. Comparaci√≥n de la posici√≥n deseada en Y vs la generada controlada. .................................... 106
Fig. 7-16. Comparaci√≥n de la posici√≥n deseada en Z vs la generada controlada. ..................................... 107
Fig. 7-17. Comparaci√≥n de la velocidad deseada en X vs la generada controlada. .................................. 107
Fig. 7-18. Comparaci√≥n de la velocidad deseada en Y vs la generada controlada. .................................. 107
Fig. 7-19. Comparaci√≥n de la velocidad deseada en Z vs la generada controlada. ................................... 108
Fig. 7-20. Comparaci√≥n de la aceleraci√≥n deseada en X vs la generada controlada. ................................ 108
Fig. 7-21. Comparaci√≥n de la aceleraci√≥n deseada en Y vs la generada controlada. ................................ 108
Fig. 7-22. Comparaci√≥n de la aceleraci√≥n deseada en Z vs la generada controlada. ................................ 109
Fig. 7-23. Comparaci√≥n de ùúÉ vs la generada controlada. .......................................................................... 109
Fig. 7-24. Comparaci√≥n de ùúë vs la generada controlada. ......................................................................... 109
Fig. 7-25. Comparaci√≥n de ùúì vs la generada controlada. ......................................................................... 110
Fig. 7-26. Comparaci√≥n de la velocidad ùúÉ vs la generada controlada. ..................................................... 110
Fig. 7-27. Comparaci√≥n de la velocidad ùúë vs la generada controlada. ..................................................... 110
Fig. 7-28. Comparaci√≥n de la velocidad ùúì vs la generada controlada. ..................................................... 111
Fig. 7-29. Comparaci√≥n de la aceleraci√≥n ùúÉ vs la generada controlada. ................................................... 111
Fig. 7-30. Comparaci√≥n de la aceleraci√≥n ùúë vs la generada controlada. .................................................. 111
Fig. 7-31. Comparaci√≥n de la aceleraci√≥n ùúì vs la generada controlada. .................................................. 112
Fig. 7-32. ECV de diferentes configuraciones de ùëôùëè y ùëôùëü con una se√±al sinoidal en solo Z. .................... 112
Fig. 7-33. ECV teniendo en cuenta la relaci√≥n ùëôùëèùëôùëü. ................................................................................. 113
Fig. 7-34. FP A) normalizado y B) dimensionado de ùúÇ y ùëäùëÜ. ................................................................ 114
Fig. 7-35. FP A) normalizado y B) dimensionado de ùê∏ùê∂ y ùëäùëÜ. .............................................................. 115
Fig. 7-36. FP A) normalizado y B) dimensionado ùê∏ùê∂ùëâ y ùúÇ. .................................................................... 116
Fig. 7-37. FP A) ECV y ec adimensional. B) ECV y ec, dimensionado. C) EC y ec. ................................. 117
Fig. 7-38. Convergencia en linea del espaciamiento. npop=1024, numGen=512. ................................... 118
Fig. 7-39. Convergencia en linea del ùõ¨. npop=1024, numGen=512. ....................................................... 118
Fig. 7-40. Comportamiento del espaciado a diferentes ejecuciones. ........................................................ 119
Fig. 7-41. Comportamiento del ùõ¨ a diferentes ejecuciones. ..................................................................... 119
Fig. 7-42. Valor de ùõ¨ seg√∫n la variaci√≥n de npop. .................................................................................... 120
Fig. 7-43. Esquem√°tico del modelo CAD del HEXA 6 RUS ................................................................... 121
Fig. 7-44. Modelo f√≠sico del HEXA 6 RUS.. ............................................................................................ 122
LISTA DE TABLAS
Tabla 2-1. Clasificaci√≥n de los problemas de optimizaci√≥n . ............................................................... 24
Tabla 2-2. Clasificaci√≥n de m√©todos cl√°sicos de optimizaci√≥n . .......................................................... 25
Tabla 4-1. Escala fundamental de valoraci√≥n. ............................................................................................ 49
Tabla 4-2. Descripci√≥n de criterios. ............................................................................................................ 50
Tabla 4-3. Comparaci√≥n entre criterios. ...................................................................................................... 50
Tabla 4-4. An√°lisis de alternativas. ............................................................................................................. 50
Tabla 4-5. Dimensiones de las plataformas. ............................................................................................... 53
Tabla 4-6. Algunas propiedades del Aluminio 7075 T6 y de los eslabones. .................................... 55
Tabla 6-1. Tabla de par√°metros de calibraci√≥n. .......................................................................................... 94
Tabla 7-1. Datos de entrada de la validaci√≥n 1. .......................................................................................... 96
Tabla 7-2. Datos de entrada de la validaci√≥n 2 ........................................................................................... 97
Tabla 7-3. Datos de entrada de la validaci√≥n 3. .......................................................................................... 98
Tabla 7-4. Datos de entrada de la validaci√≥n 3. .......................................................................................... 98
Tabla 7-5. Datos de entrada de la validaci√≥n 3. .......................................................................................... 99
Tabla 7-6. Valores de los eslabones para el estudio de WS. ..................................................................... 101
Tabla 7-7. Se√±ales correspondientes por n√∫mero de entrada. ................................................................... 105
Tabla 7-8. Resultado del an√°lisis de sensibilidad de ùê∂ùëüy ùêπ en Œõ .............................................................. 113
Tabla 7-9. Resultados estad√≠sticos del espaciado y ùõ¨ en 12 muestras. ..................................................... 119
Tabla 7-10. Valores de configuraci√≥n seleccionado ................................................................................. 120
Tabla 7-11. Tabla de partes del HEXA 6 RUS ......................................................................................... 122
GLOSARIO DE SIGLAS
Algoritmo evolutivo.
Metodolog√≠a de proceso de an√°lisis jer√°rquico o Analytic Hierarchy Process.
Dise√±o asistido por computador.
Cinem√°tica inversa.
Grado de libertad o degree of freedom.
Error de control.
Esfuerzo de control.
Evoluci√≥n diferencial.
Evoluci√≥n diferencial multiobjetivo elitista restringido.
Fabricaci√≥n por filamento fundido.
Funci√≥n objetivo.
Frente de Pareto.
Manipulador paralelo con distribuci√≥n hexagonal en la plataforma fija y 6 grados
de libertad generado por articulaciones rotacionales, universales y esf√©ricas.
M√©trica que para encontrar el punto m√°s competitivo en un frente de Pareto.
Manufactura aditiva.
Manipulador paralelo.
Tama√±o de poblaci√≥n.
Non-dominated Sorting Genetic Algorithm.
N√∫mero de generaciones.
Pareto Front Distance Error.
Raiz del error medio cuadr√°tico o Root mean square error.
Trabajo virtual o virtual work.
Espacio de trabajo o Workspace.
1 INTRODUCCI√ìN
1.1 Descripci√≥n general
Como parte de la tecnolog√≠a de fabricaci√≥n digital, ha surgido una nueva industria basada en la
tecnolog√≠a de manufactura aditiva (MA), tambi√©n conocida como impresi√≥n tridimensional (i3D), la
tecnolog√≠a MA seg√∫n la ASTM es capaz de unir materiales para hacer objetos a partir de datos de modelos
3D, generalmente capa sobre capa, a diferencia de las metodolog√≠as de fabricaci√≥n sustractiva. Existen
variantes de proceso dentro de MA, estos sistemas difieren en t√©rminos de la materia prima utilizada y el
principio t√©cnico empleado para depositar las capas, construyendo as√≠ una geometr√≠a tridimensional sin
herramientas, moldes o implementos de corte . Los observadores tecnol√≥gicos aseguran que la MA tendr√°
un profundo impacto econ√≥mico en el sector manufacturero y, de hecho, en la sociedad en general, ya que
el crecimiento de su implementaci√≥n en todos los sectores productivos no se ha detenido, lo que ha forzado
a aunar esfuerzos en la investigaci√≥n y desarrollo de √©sta tem√°tica . Casi todos los procesos de MA se
basan en la construcci√≥n de componentes en forma de capas, por lo que los datos topol√≥gicos
tridimensionales se dividen en una serie de cortes a trav√©s de la direcci√≥n Z, y cada capa del componente
se consolida secuencialmente a partir de estos datos. Si bien existe variedad de metodolog√≠as de MA, la
mayor√≠a se puede dividir en dos categor√≠as en funci√≥n de c√≥mo llega el material de alimentaci√≥n a la
plataforma de construcci√≥n para producir cada capa secuencial. El primer m√©todo implica el uso de una
tina, o ba√±o, del material de alimentaci√≥n. En estos procesos, una placa de construcci√≥n normalmente est√°
contenida dentro de un recipiente y una capa de material de alimentaci√≥n se distribuye uniformemente en
toda el √°rea del volumen de construcci√≥n, normalmente en estado l√≠quido o de polvo. Luego, cada capa se
solidifica selectivamente utilizando una variedad de t√©cnicas que incluyen sinterizaci√≥n o fusi√≥n por l√°ser,
deposici√≥n de un aglutinante fluido o exposici√≥n a la radiaci√≥n UV, entre otras .
El segundo grupo de m√©todos MA el material se deposita a trav√©s de un cabezal de impresi√≥n m√≥vil.
Por lo general, el cabezal m√≥vil deposita el material en patrones extruidos que se unen entre s√≠ en una
variedad de m√©todos seg√∫n el proceso espec√≠fico en uso. Los m√©todos de cubren una amplia gama de
materias primas. Uno de los primeros y m√°s populares m√©todos se basa en la fusi√≥n y extrusi√≥n de un
filamento termopl√°stico a trav√©s de una boquilla. Este m√©todo se conoce como fabricaci√≥n por filamento
fundido (FFF) y su bajo costo y simplicidad lo han convertido en el m√©todo de MA dominante en el
mercado. A pesar de su bajo costo, la FFF cuenta con una gama de materias primas disponibles y
recientemente, ha demostrado la capacidad de fabricar componentes de m√∫ltiples materiales. Los
componentes FFF de m√∫ltiples materiales han comenzado a demostrar una multifuncionalidad adicional en
las piezas fabricadas que son deseables para una variedad de aplicaciones .
Sin embargo, las m√°quinas de FFF convencionales y las piezas fabricadas en ellas presentan
inconvenientes debido a la falta de rango de movimientos rotacionales, unidireccionalidad de la adici√≥n de
material, defectos en la calidad superficial y sobredimensionamiento de mecanismos.
Las t√©cnicas de fabricaci√≥n actuales se basan en movimientos lineales de los ejes X, Y y Z que agregan
capa por capa el material. Este tipo de movimiento genera dificultades relacionados con el acabado
superficial (debido al terminado tipo escal√≥n), con los requerimientos isotr√≥picos, con la uni√≥n de capas,
con el uso de material de soporte (implica tiempo extra de posprocesamiento), con las bajas velocidades de
impresi√≥n y con la imposibilidad de imprimir alrededor de obst√°culos . Aunque existen t√©cnicas
de posprocesamiento, estas no han solucionado los errores causados por la unidireccionalidad en el eje Z
de aporte de material . Dentro de las opciones de multidireccionalidad de alimentaci√≥n se encuentran
los brazos rob√≥ticos industriales, los cuales han demostrado precisi√≥n y rigidez estructural; sin embargo, el
costo de estos dispositivos es muy alto y sufren de vibraciones, sobresaltos, incrementos de inercia y
respuestas lentas a perturbaciones a altas velocidades , . Adicionalmente, las t√©cnicas convencionales
de dise√±o de mecanismos se han concentrado en dividir esta etapa en fases. Usualmente, se concentran los
primeros esfuerzos en los requerimientos estructurales y geom√©tricos, para luego pasar a la fase de control.
El resultado de esto son mecanismos sobredimensionados con altos requerimientos energ√©ticos y costos
elevados .
El dise√±o de un mecanismo de FFF multidireccional consta de varios retos, los cuales se concentran en:
el mecanismo multidireccional, el sistema de extrusi√≥n, el discretizador de modelos CAD y el entorno
gr√°fico. Con base en los problemas de movimiento anteriormente descritos, en los inconvenientes que
presentan los mecanismos seriales y luego del estudio del estado del arte, el cual se detalla en la Secci√≥n 3,
se evidencia la necesidad de un mecanismo paralelo de m√°s de 5 grados de libertad o degrees of freedom
(DOFs) dise√±ado de forma √≥ptima por medio de estrategias que considere simult√°neamente no solo su
desempe√±o din√°mico sino tambi√©n el del controlador por medio de la evaluaci√≥n de funciones como: el
espacio de trabajo, la manipulabilidad, la estrategia de control, el error y el esfuerzo de control. Esta
implementaci√≥n impacta el proceso de MA ya que se pueden obtener no solo inclinaciones en el cabezal
que alcancen zonas que de forma convencional no se pueden conseguir por obst√°culos, sino tambi√©n un
mecanismo m√°s competitivo en cuanto al desempe√±o din√°mico, de control y espacio de trabajo 
 . Estos aspectos afectan el tiempo de fabricaci√≥n y de posprocesado, la anisotrop√≠a de las piezas,
la estabilidad en los movimientos de la boquilla , las alteraciones causadas por la respuesta de los actuadores
y las aglomeraciones de material en los caminos y espesores no deseados en los cambios de direcci√≥n del
patr√≥n .
1.2 Objetivos
Por lo anterior, el objetivo general y los objetivos espec√≠ficos de este trabajo son los siguientes:
1.2.1 Objetivo general
Dise√±ar un mecanismo paralelo enfocado en impresi√≥n tridimensional por deposici√≥n de filamento
fundido incrementando la multidireccionalidad del sistema y optimizando los requerimientos volum√©tricos,
de manipulabilidad, de error de seguimiento y de torque.
1.2.2 Objetivos espec√≠ficos
Proponer funciones objetivo determinando las necesidades geom√©tricas y de control del mecanismo
paralelo para que puedan ser usadas en un algoritmo de optimizaci√≥n multiobjetivo.
Desarrollar un algoritmo metaheur√≠stico que optimice el dise√±o mec√°nico y las constantes de control
buscando aumentar el espacio de trabajo y la manipulabilidad mientras que se disminuye el error y el
esfuerzo de control.
1.3 Metodolog√≠a
La metodolog√≠a que se utiliza para el desarrollo del proyecto consta de: revisi√≥n del estado del arte,
limitaci√≥n de requerimientos, an√°lisis de movimiento, determinaci√≥n de las funciones objetivo,
optimizaci√≥n del proceso, fabricaci√≥n del mecanismo, validaci√≥n de los desarrollos obtenidos y
documentaci√≥n del proceso. El esquema de esta metodolog√≠a se presenta en la Fig. 1-1 y sus fases se detalla
a continuaci√≥n.
Con el objetivo de profundizar las bases te√≥ricas y analizar los desarrollos previos, se hace la revisi√≥n
del estado del arte y se ahonda en conceptos sobre configuraciones de mecanismos paralelos, cinem√°tica,
formulaciones para el modelamiento din√°mico, la determinaci√≥n del espacio de trabajo, la manipulabilidad,
estrategias de control y optimizaci√≥n. Luego, mediante la metodolog√≠a de proceso de an√°lisis jer√°rquico o
Analytic Hierarchy Process (AHP) se selecciona el mecanismo paralelo y se determinan sus caracter√≠sticas.
Luego, se limitan requerimientos en cuanto a motores, dimensiones de la plataforma fija y de la
plataforma m√≥vil, limitaciones de di√°metros de los brazos y de materiales de fabricaci√≥n. Esto como paso
previo al an√°lisis de movimiento.
Del mecanismo paralelo seleccionado se determina su cinem√°tica inversa y su modelaci√≥n din√°mica.
Con ayuda de la cinem√°tica y una b√∫squeda de variable simple se establece el espacio de trabajo. Mientras
que con la modelaci√≥n din√°mica se analizan la velocidad y aceleraci√≥n, al igual que las matrices jacobianas;
todos son aspectos necesarios para el estudio de la manipulabilidad y de la estrategia de control.
Tal como se describe en la Secci√≥n 3 , el control de movimiento del mecanismo paralelo es un reto para
solucionar en el dise√±o de un mecanismo paralelo, en este trabajo se aborda un controlador h√≠brido que
requiere el c√°lculo de las ganancias por ubicaci√≥n de polos. El sistema de control es validado en un ambiente
virtual, ensamblando el mecanismo, proporcion√°ndole caracter√≠sticas f√≠sicas y aplicando el controlador El
ensamble seguir√° patrones establecidos con la respuesta de control esperada. Recalcando que la
implementaci√≥n de este modelo se har√° inicialmente en entornos virtuales con el fin de garantizar su
correcto funcionamiento.
Despu√©s, del sistema controlado se haya el error de control y el esfuerzo de control como indicadores
de desempe√±o, estos son evaluados junto con otros indicadores en una estrategia de optimizaci√≥n.
Por la misma relevancia que tiene las caracter√≠sticas geom√©tricas y de respuesta ante el control, se opta
por usar una estrategia de control multiobjetivo que considere restricciones geom√©tricas, de
comportamiento del material y respuesta del sistema controlado. Las funciones objetivo son el espacio de
trabajo, la manipulabilidad, el esfuerzo de control y el error de control; mientras que las variables de dise√±o
son la longitud de los eslabones y la ubicaci√≥n de los polos. Para garantizar el punto m√°s competitivo se
analizaron par√°metros de mutaci√≥n, tama√±o de poblaci√≥n y de generaci√≥n al igual que m√∫ltiples ejecuciones
de la estrategia. La optimizaci√≥n tiene como resultado frentes de Pareto con sus respectivos puntos √≥ptimos
que informan la configuraci√≥n que los par√°metros de dise√±o deben tener. Estos par√°metros fueron aplicados
en la construcci√≥n del mecanismo.
Fig. 1-1. Esquem√°tico de la metodolog√≠a usada en el dise√±o m√°s competitivo de un mecanismo paralelo.
1.4 Alcance del trabajo
En este trabajo se presentan retos en la investigaci√≥n sobre dise√±o de mecanismos paralelos
considerando la configuraci√≥n geom√©trica y la estrategia de control. Para esto, se plantea aplicar el uso de
la metodolog√≠a de la Secci√≥n 1.3 en un mecanismo paralelo con escasa aplicaci√≥n en MA y en su
optimizaci√≥n geom√©trica y de ganancias del controlador. Debido a las diferentes aplicaciones que poseen
los mecanismos paralelos, este trabajo considera que la MA como tecnolog√≠a convergente y de industria
4.0 se beneficia de las caracter√≠sticas que aportan estos mecanismos; debido a esto, sus restricciones al igual
que sus requerimientos volum√©tricos y de movimiento se centran en esta aplicaci√≥n. Dentro de los √≠ndices
de desempe√±o se consideran el espacio de trabajo, la manipulabilidad, el esfuerzo y el error de control. Los
dos primeros se impactan al incrementar los grados de libertad y plantean el comportamiento cinem√°tico y
la facilidad con que se mueve el mecanismo paralelo; mientras que, los otros dos involucran la din√°mica,
los requerimientos energ√©ticos y la precisi√≥n de movimiento. La optimizaci√≥n genera frentes de Pareto de
donde es elegido la configuraci√≥n para dise√±o. Luego del dise√±o se presenta la primera versi√≥n fabricada
del prototipo.
El desarrollo de este mecanismo hace parte de un macroproyecto del grupo de investigaci√≥n DAVINCI
UMNG que incluye los circuitos electr√≥nicos, la programaci√≥n de microcontroladores, la interfaz
computador-mecanismo, el discretizador de geometr√≠a, y el optimizador de trayectorias de deposici√≥n entre
otros. Sin embargo, estos temas no se detallan en este escrito.
1.5 Contribuciones
Esta tesis se enfoca en los cuestionamientos que surgen acerca del propicio dise√±o de mecanismos
paralelos enfocados en MA, espec√≠ficamente en FFF. Desde la selecci√≥n del mecanismo hasta la
optimizaci√≥n de las constantes de control. Aunque se han documentado desarrollo de indicadores de
desempe√±o e implementaciones de optimizaci√≥n, algunos problemas presentados han contribuido a su
soluci√≥n. Estos han sido documentados y detallados en el Anexo A y listados de A1 a A7.
Respecto a la MA, aunque esta ha revolucionado el dise√±o, la manufactura y la distribuci√≥n de productos
existe poca comprensi√≥n acerca de la implementaci√≥n de los mecanismos paralelos y su relaci√≥n con el
dise√±o, el an√°lisis din√°mico y el estudio del espacio de trabajo. Es por esto que el art√≠culo A6 sugiere el
n√∫mero de grados de libertad, as√≠ como la ubicaci√≥n de los actuadores para FFF; metodolog√≠as para
encontrar la cinem√°tica inversa, los principios de modelaci√≥n din√°mica y del c√°lculo del espacio de trabajo.
Debido a que existen varios mecanismos paralelos que pueden ser usados en la FFF, se implement√≥ la
estrategia AHP para la selecci√≥n de mecanismos paralelos, en la Secci√≥n 4.1 orienta a los dise√±adores a
cuantificar y clasificar estos mecanismos seg√∫n sus requerimientos.
Hecha la selecci√≥n, en el art√≠culo A7 se presenta el comportamiento cinem√°tico inverso y directo del
mecanismo HEXA y las ventajas que tiene con respecto al incremento de grados de libertad. Adem√°s, se
resalta la necesidad del an√°lisis cinem√°tico para el c√°lculo de la cinem√°tica diferencial y el control
cinem√°tico.
Respecto al dise√±o de los mecanismos paralelos, cuando se considera el controlador, existen estrategias
lineales o tradicionales de dise√±o con inconvenientes en la aplicaci√≥n de las constantes; por esto se propuso
en el art√≠culo A2 una metodolog√≠a de un dise√±o basado en una optimizaci√≥n multiobjetivo que tiene en
cuenta el esfuerzo de control, el tiempo de establecimiento y la tasa de amortiguamiento.
Otro problema que existe en dise√±o es cuando se involucran par√°metros de dise√±o geom√©tricos, como
la longitud de los brazos y par√°metros de control. Esto requiere de dise√±os concurrentes y algoritmos
metaheur√≠sticos como el presentado art√≠culo A5
La modelaci√≥n din√°mica es fundamental en el dise√±o del controlador, el problema aparece debido a las
cadenas cinem√°ticas cerradas de este tipo de mecanismos; si lo que se busca es el control en tiempo real y
la optimizaci√≥n de par√°metros de control, es necesario que la obtenci√≥n del modelo din√°mico sea
computacionalmente eficiente, tem√°tica tratada en el art√≠culo A1 y en la Secci√≥n 4.4. Adem√°s, debido a que
los mecanismos requieren examinar numerosos √≠ndices de desempe√±o que relacionan configuraciones
geom√©tricas y de control; el art√≠culo A1 y la Secci√≥n 6 presentan un procedimiento de dise√±o que involucra
un frente de Pareto de cuatro funciones objetivo y cuatro variables de dise√±o. En esta optimizaci√≥n se
implement√≥ una t√©cnica de evoluci√≥n diferencial restringida, un nuevo m√©todo de medici√≥n de
manipulabilidad, una estrategia de control no encontrada en la literatura e indicadores de punto m√°s
competitivo de frente de Pareto.
Finalmente, el uso de estos mecanismos en FFF presenta retos en cuanto la orientaci√≥n de la pieza y los
patrones de deposici√≥n. Problem√°ticas que son solventadas con estrategias de optimizaci√≥n y de b√∫squeda
detallados en los art√≠culos A3 y A4.
1.6 Organizaci√≥n de la tesis
Esta tesis est√° organizada as√≠: el segundo cap√≠tulo resume los conceptos te√≥ricos aplicados. El tercero,
documenta el conocimiento acumulado relacionado con estudios previos hechos en este campo. La
descripci√≥n del mecanismo se abarca en el cuarto capitulo. Luego, en el quinto cap√≠tulo se explican los
m√©todos usados para determinas las funciones objetivo, mientras que en el sexto capitulo se detalla la
t√©cnica de optimizaci√≥n. Los resultados obtenidos se condensan en el s√©ptimo cap√≠tulo. La discusi√≥n final
se incluye en el octavo cap√≠tulo abarcando conclusiones, trabajos futuros y los productos de generaci√≥n de
nuevo conocimiento resultantes. Por √∫ltimo, se incluyen las referencias y los anexos.
2 MARCO TE√ìRICO
2.1 Mecanismo paralelo
Dentro de las opciones de multidireccionalidad se encuentran los brazos rob√≥ticos industriales y los
robots o mecanismos paralelos (MP). Los primeros han demostrado amplitud de movimiento y f√°cil
programaci√≥n; sin embargo, el costo de estos dispositivos es muy alto y tienen mala respuesta a altas
velocidades de respuesta ya que este tipo de movimientos causa vibraciones, sobresaltos, incrementos de
inercia y respuestas lentas a perturbaciones , . Los MPs que consisten en un efector final o plataforma
m√≥vil con n DOFs y una plataforma fija, ambas unidas por al menos dos cadenas cinem√°ticas
independientes con por lo menos n actuadores (Fig. 2-1). Los MPs poseen las siguientes caracter√≠sticas :
1. Al menos dos cadenas cinem√°ticas est√°n unidas al efector final.
2. El n√∫mero de actuadores es ‚â• al grado de libertad del efector final.
3. Cuando los actuadores se bloquean el MP no se mueve, lo que otorga un aspecto de seguridad
importante en ciertas aplicaciones (i.e. robots m√©dicos).
Fig. 2-1. Esquem√°tico de un A) MP serial y un B) MP paralelo 
Los MPs se han establecido como dispositivos de posicionamiento eficiente, debido a su din√°mica,
precisi√≥n y la rigidez de su estructura. Esto debido a los siguientes factores.
1. Los mecanismos operan bajo dos tipos de fuerzas: la inercial y la de fricci√≥n. La inercial esta
relacionada con el cuadrado de la longitud de los eslabones, mientras que la fricci√≥n pr√°cticamente no
se ve afectada por estas dimensiones. Esto implica que en un micro mecanismo en serie las fricciones
se mantienen relativamente similares, lo que permite concluir que los seriales son inapropiados para
altas cargas y precisi√≥n de posici√≥n.
2. El soporte de cargas se distribuye en todos los eslabones, lo que permite que las deformaciones se
3. No existe una acumulaci√≥n de errores por una configuraci√≥n serial.
Sin embargo, su an√°lisis din√°mico y control son complejos y aportan un espacio de trabajo mucho
menor que el de su contraparte.
Muchos MP sufren el inconveniente de las singularidades con influencias negativas en el espacio de
trabajo y la destreza de las plataformas m√≥viles. Adem√°s, las singularidades de los MPs afectan el DOF, la
cinem√°tica y la din√°mica de los mecanismos e incluso pueden causar da√±os. Para aliviar la singularidad
cinem√°tica, aumentar el espacio de trabajo y mejorar la destreza, a menudo se utilizan la redundancia de
actuaci√≥n y los MPs cinem√°ticamente redundantes. Los MPs redundantes son aquellos en los que el n√∫mero
de actuadores adicionales es mayor que el DOF, lo que se puede realizar agregando cadenas cinem√°ticas a
los MPs originales o accionando juntas pasivas. La redundancia puede reducir efectivamente las
singularidades, mejorar la rigidez y aumentar el espacio de trabajo . Sin embargo, estas pueden causar
cargas internas en las articulaciones, as√≠ como complejidad en la calibraci√≥n, modelado, control y costos de
fabricaci√≥n.
Adicionalmente, se pueden desarrollar MP de brazos r√≠gidos o guiados por cables. Los MPs guiados por
cables han sido utilizados en aplicaciones que requieren grandes vol√∫menes de trabajo. Sin embargo, sus
limitaciones se basan en el hecho que solo trabajan cuando los cables soportan tensi√≥n y no compresi√≥n, lo
que los hace susceptibles a movimientos incontrolables de p√©ndulo cuando hay movimiento de las
plataformas a alta velocidad o cuando se exponen a condiciones adversas por el medio en que trabajan.
Adicionalmente, un sistema guiado por cables con j DOFs del efector final, requiere al menos j + 1
cables , lo que implica j + 1 actuadores, esto presenta otra desventaja comparados con los MPs r√≠gidos
pues normalmente utilizan el mismo n√∫mero de actuadores que de DOF de la plataforma m√≥vil . Debido
a todo lo anterior, el uso de MP r√≠gidos no redundantes, es la mejor opci√≥n para aplicaciones la aplicaci√≥n
Fig. 2-2.A) MP r√≠gido . B) MP guiado por cables.
2.2 Cinem√°tica inversa
En el dise√±o de un MP el an√°lisis cinem√°tico es una etapa esencial, ya que no solo ayuda a comprender el
movimiento, sino que sirve para hallar las dimensiones del robot por medio de t√©cnicas de optimizaci√≥n En
el estudio de la cinem√°tica de los robots se han expuesto varias t√©cnicas con el fin de determinar la posici√≥n
actual de la plataforma m√≥vil desde las articulaciones activas; esta relaci√≥n tiene un inter√©s en el control de
posici√≥n y velocidad del MP. La movilidad es uno de los par√°metros principales al momento de modelar
mecanismos cinem√°ticos. La movilidad se define como el n√∫mero necesario de sistemas coordenados
independientes que definen la configuraci√≥n de una cadena cinem√°tica. Gogu trabaj√≥ con esta relaci√≥n
y con el n√∫mero de brazos del MP para poder determinar el n√∫mero de entradas requeridas por un
mecanismo. Se debe tener en cuenta que el an√°lisis cinem√°tico puede llevarse a cabo de dos formas, por la
cinem√°tica directa y la inversa. El primero determina la posici√≥n de la plataforma m√≥vil al determinar un
valor en las articulaciones activas; el otro, determina el movimiento de las articulaciones activas conociendo
la posici√≥n deseada de la plataforma m√≥vil. En los MPs, la cinem√°tica directa es compleja debido a que la
naturaleza de cadenas cinem√°ticas conduce a ecuaciones altamente no lineales que usualmente requieren el
uso de m√©todos num√©ricos para su resoluci√≥n. Por otro lado, la cinem√°tica inversa se aplica cuando se
necesita conocer el comportamiento de mecanismo ante una trayectoria/posici√≥n dada.
El m√©todo general de la cinem√°tica inversa consiste en que con la suma de vectores con que se describen
los eslabones se puede hallar el movimiento de los actuadores. Por ejemplo, para el MP de 5 articulaciones
rotacionales (5R) de la Fig. 2-3 las sumas vectoriales de cada i-√©simo lado del MP que se expresan como
(2-1), donde los vectores ùíÇùíÉùíä que son funciones de las rotaciones ùúÉ‡Øú, son la base para que estos √°ngulos
puedan expresarse como funci√≥n de ùíë, tal como lo indica (2-2).
Fig. 2-3. Esquem√°tico del MP 5R .
ùíë= ùíÇùíä+ ùíÇùíÉùíä+ ùíÉùíäùíë
ùíë‚àíùíÇùíä‚àíùíÉùíäùíë= ùíÇùíÉùíä
ùíë‚àíùíÇùíä‚àíùíÉùíäùíë= ùëì(ùúÉ‡Øú, |ùëéùëè‡Øú|)
ùëì(ùíë, ùíÇùíä, ùíÉùíäùíë, |ùëéùëè‡Øú|) = ùúÉ‡Øú
2.3 Cinem√°tica diferencial
Dentro del an√°lisis del comportamiento de un MP, la cinem√°tica diferencial es necesaria para el an√°lisis
de movimiento instant√°neo, en los MPs los eslabones se representan como cuerpos r√≠gidos y su movimiento
instant√°neo se caracteriza por las velocidades en las articulaciones. Una evaluaci√≥n adecuada del estado de
movimiento instant√°neo es esencial para la manipulaci√≥n de objetos o la reconfiguraci√≥n del sistema para
el equilibrio y/o para evitar colisiones. Adem√°s, la cinem√°tica diferencial tambi√©n desempe√±a un papel
importante en el control. Los esquemas de control de retroalimentaci√≥n y avance cinem√°tico hacen uso de
los comandos de control especificados en t√©rminos de movimiento instant√°neo de los eslabones finales de
inter√©s; estos comandos de control se transforman luego en comandos de control de movimiento en las
articulaciones mediante la cinem√°tica diferencial (inversa). La cinem√°tica diferencial tambi√©n es esencial
para derivar modelos din√°micos, en los que se consideran relaciones de primer orden (nivel de velocidad)
y de segundo orden (nivel de aceleraci√≥n).
2.3.1 Generalidades
La cinem√°tica diferencial es la relaci√≥n entre las velocidades de la plataforma m√≥vil y las velocidades
del actuador. Para el ejemplo anterior de la Fig. 2-3, la cinem√°tica diferencial es (2-3); donde ùë§‡Øú es la
velocidad angular de los actuadores 1 y 2; las cuales son funciones de las dimensiones de la estructurales y
las velocidades lineales del punto ùëÉ con respecto a ùëÇ.
ùíòùíä= ùëì‡µ´ùíëÃá , ùíÇ‡¨ôÃá , ùíÉ‡¨ôùíëÃá , |ùëéùëè‡Øú|‡µØ
Por lo anterior (2-3) se puede reescribir como (2-4), donde ùêâ es una matriz que relaciona ambas
velocidades y se le conoce como Jacobiana.
2.3.2 Matriz Jacobiana
La matriz Jacobiana en el caso de MP no redundantes es ùêΩ ‚àà‚Ñù‡Ø°√ó‡Ø°, donde ùëõ es el n√∫mero de actuadores.
Esta matriz se considera como la versi√≥n vectorial de la derivada ordinaria de una funci√≥n escalar. Adem√°s,
tiene relaci√≥n con aspectos de la manipulabilidad, la precisi√≥n, planificaci√≥n de movimientos, entre
otros .
De forma general ùêâ se describe como (2-5), donde ùëãÃá = [ùë•Ãá
ùëßÃá] ùúñ ‚Ñù‡¨∑ son las
velocidades cartesianas de la plataforma m√≥vil, [ùúëÃá
ùúìÃá] ùúñ ‚Ñù‡¨∑ son las velocidades angulares; adem√°s, ùêâùêØ
y ùêâùê∞ relacionan la velocidad cartesiana y la velocidad angular de la plataforma m√≥vil con la velocidad
articular respectivamente.
2.4 Formulaciones para la obtenci√≥n de la din√°mica del
El an√°lisis din√°mico permite determinar las fuerzas y torques demandados relacionados con el
movimiento de la plataforma m√≥vil, el cual es requerido para configurar la ley de control y el dise√±o de los
MPs. Existen algunos enfoques para analizar esas fuerzas, como Newton Euler (N-E), Euler Lagrange (E-
L) y trabajo virtual o en ingl√©s virtual work (VW), entre otros.
2.4.1 Formulaci√≥n de Newton Euler
En algunas ocasiones se necesitan conocer las fuerzas y las reacciones de las articulaciones de los MPs.
En estos casos, la formulaci√≥n N-E es apropiada. Este m√©todo a√≠sla cada plataforma, eslab√≥n y articulaci√≥n
y determina el comportamiento de inercia y fuerza de reacci√≥n de cada uno, de acuerdo con la tercera ley
de Newton (2-6); donde ùëö es la masa del cuerpo, ùêà es el tensor de inercia, ùíóùíÉ y ùíòùíÉ son la velocidad lineal
y angular del centro de masa respectivamente, ùíáùíÉ y ùùâùíÉ son las fuerzas y torques actuando en el centro de
masa. Este m√©todo es aplicable para la mayor√≠a de los mecanismos; sin embargo, la eliminaci√≥n de las
reacciones de las articulaciones genera dificultad y tiempo de procesado computacional .
ùíòÃá ùíÉ‡µ®+ ‡µ§ùíòùíÉ√ó ùëöùíóùíÉ
ùíòùíÉ√ó ùúÅùíóùíÉ‡µ®= ‡µ§ùíáùíÉ
2.4.2 Formulaci√≥n de Euler Laplace
Debido a que la formulaci√≥n N-E calcula las fuerzas de reacci√≥n y los torques entre todos los
componentes m√≥viles, la gran cantidad de ecuaciones y su complejidad disminuyen la eficiencia
computacional; por lo tanto, complejiza la implementaci√≥n de una ley de control. Por otro lado, la
formulaci√≥n E-L no se enfoca en las fuerzas de reacci√≥n, por lo que es computacionalmente m√°s eficiente.
Sin embargo, la definici√≥n de las fuerzas de restricci√≥n generalizadas dentro del planteamiento din√°mico
hace que se requiera multiplicadores de Lagrange para que la matriz de coeficientes sea sim√©trica .
La ecuaci√≥n E-L se expresa como (2-7); donde ùêø= ùêæ‚àíùëà, ùêæ‚àà‚Ñù y ùëà ‚àà‚Ñù es la energ√≠a cin√©tica y
potencial respectivamente, ùëö es la cantidad de ecuaciones de restricci√≥n, ùëõ es el n√∫mero de actuadores,
ùëó=1,‚Ä¶,n, ùëÑ‡Øù es la i-√©sima fuerza generalizada, ùëû las coordenadas generalizadas, Œì‡Øú la i-√©sima ecuaci√≥n de
restricci√≥n, Œª‡Øú el i-√©simo multiplicador Lagrangiano 
Debido a que la obtenci√≥n de los multiplicadores Lagrangianos involucra derivadas parciales, esto los
hace computacionalmente complejos cuando su descripci√≥n se hace simb√≥lica para la implementaci√≥n en
estrategias de optimizaci√≥n.
2.4.3 Principio del trabajo virtual
El VW es una herramienta √∫til para adquirir las ecuaciones est√°ticas y din√°micas de los sistemas
multicuerpo. A diferencia del N-E, el VW no considera las fuerzas de restricci√≥n, solo las cantidades de
trabajo escalar para definir las ecuaciones din√°micas. VW tiene como objetivo derivar un conjunto m√≠nimo
de ecuaciones de movimiento de los MPs eliminando las fuerzas de restricci√≥n. Adicionalmente, con VW
se obtienen un n√∫mero de ecuaciones iguales al n√∫mero de DOFs. La formulaci√≥n de VW depende del
trabajo infinitesimal de las fuerzas externas, internas y de inercia, as√≠ como de los momentos del cuerpo,
como se muestra en (2-8). Donde, ùëÑùëñ es el vector/matriz de las fuerzas y momentos generalizados, ùëÑùëí es el
vector/matriz de las fuerzas externas e inercias generalizadas que act√∫an sobre cada cuerpo, ùõøùëû es el
desplazamiento infinitesimal y ùúè son las fuerzas/torques de los actuadores .
ùõøùëä= ùõøùëäùëí‚àíùõøùë§ùëñ= 0
[ùëÑùëí‚àíùëÑùëñ]ùõøùëû= 0
2.5 Espacio de trabajo
El espacio de trabajo o workspace (WS) es la porci√≥n alcanzable en el espacio al que la plataforma m√≥vil
puede llegar. Los movimientos de los MPs pueden estar restringidos por diferentes factores: l√≠mites
mec√°nicos en las articulaciones pasivas, colisi√≥n entre los elementos del robot, limitaciones debidas a los
actuadores y variedades de singularidad que pueden dividir el WS.
El principal problema con la representaci√≥n del WS de los MPs es que las limitaciones en DOF de todos
suelen estar acoplados. Por lo tanto, para robots que tengan m√°s de 3 DOF no habr√° ninguna ilustraci√≥n
gr√°fica posible del WS del robot . Este no suele ser el caso con los robots en serie. Por ejemplo, el WS
de un robot en serie de 6 DOF con una mu√±eca de eje concurrente puede representarse por el volumen 3D
que puede alcanzar el centro de la mu√±eca; esto ilustra las traslaciones, y por la superficie que puede
alcanzar el extremo del efector final. El volumen 3D depende solo de la capacidad de movimiento de las
tres primeras articulaciones accionadas, mientras que la orientaci√≥n utiliza solo las √∫ltimas tres
articulaciones. Una representaci√≥n gr√°fica del WS de robots paralelos solo ser√° posible para robots de 3
DOF. Para robots con DOF > 3, la representaci√≥n del WS solo ser√° posible si se fijan n ‚àí 3 par√°metros de
pose. Seg√∫n que tipos de par√°metros se fijen o de la restricci√≥n que le impongamos al par√°metro, se obtienen
diferentes tipos de WS.
En m√∫ltiples estudios , se han agrupado dos tipos de WS. El primero se define como WS de
orientaci√≥n constante, en el cual la plataforma m√≥vil se traslada con una orientaci√≥n fija. El segundo es el
WS donde se var√≠an los √°ngulos de rotaci√≥n de la plataforma m√≥vil. En t√©rminos de multidireccionalidad y
de procesos, es relevante determinar la capacidad de campo de acci√≥n del MP con el fin determinar las
geometr√≠as de la pieza a fabricar.
Algunos enfoques para para calcular el WS son: el geom√©trico, m√°ximo volumen inscrito, el discreto y
el an√°lisis de l√≠mites por restricciones.
2.5.1 Enfoque geom√©trico
El prop√≥sito de este m√©todo es determinar geom√©tricamente el l√≠mite del WS. El principio es deducir
todas las posibles ubicaciones de los eslabones que cumplan con sus restricciones de movimiento generando
un volumen por cada eslab√≥n, luego se hace la intersecci√≥n de todos los vol√∫menes para determinar el WS.
Este procedimiento es r√°pido y preciso para robots con menos de 3DOF; sin embargo, para MP con m√°s
eslabones, el c√°lculo de intersecci√≥n de vol√∫menes es complejo ya que se requiere el an√°lisis de todas y
cada una de las restricciones .
2.5.2 M√°ximo volumen inscrito con CAD
De forma similar al enfoque geom√©trico de la secci√≥n anterior, este m√©todo genera el volumen de
movimiento de cada brazo del MP; sin embargo este volumen se hace con un software CAD. Luego, se
hacen operaciones booleanas de intersecci√≥n de cada volumen y esta intersecci√≥n es el WS del MP .
Fig. 2-4. Esquem√°tico del m√©todo de m√°ximo volumen inscrito con CAD de un MP tipo Delta. A) Concepto de
intersecci√≥n del volumen de los eslabones a una altura puntual. B) M√°ximo volumen inscrito .
2.5.3 M√©todo discreto
Este m√©todo considera la discretizaci√≥n de las posiciones de la plataforma m√≥vil. El WS se crea por
medio de una malla regular compuesta por nodos, donde cada nodo es evaluado para determinar si tiene o
no restricciones. El l√≠mite del WS se constituye por el grupo de nodos validos que m√°s cerca est√°n a los que
tienen alguna restricci√≥n. La ventaja de este m√©todo es que considera las restricciones; sin embargo, la
precisi√≥n depende de la red de discretizaci√≥n, la cual afecta el costo computacional .
2.5.4 An√°lisis de l√≠mites por restricciones
Este an√°lisis se hace considerando la cinem√°tica inversa (CI) del MP y las restricciones de movimiento
que tienen los brazos cuando los actuadores est√°n en sus puntos m√°ximos y m√≠nimos; lo que va
construyendo la superficie frontera del WS. Este m√©todo requiere la discretizaci√≥n de solo los puntos l√≠mite
y su costo computacional depende del n√∫mero de puntos a analizar y del m√©todo de b√∫squeda donde la
posici√≥n es permitida . Este enfoque es el utilizado en esta tesis y es detallado en la Secci√≥n 5.
2.6 Manipulabilidad
Seg√∫n Merlet , es realista asumir que los errores de las articulaciones generan errores de
posicionamiento. Por tal motivo, la precisi√≥n del MP est√° relacionado con la matriz Jacobiana. Esta relaci√≥n
caracteriza la destreza o manipulabilidad del MP y es usado como indicador de desempe√±o. A partir de
(2-5) y de las propiedades de la norma ‚Äñ‚àô‚Äñ se obtiene la relaci√≥n (2-9); donde ùëãÃá ‚àà‚Ñù‡Ø°, ùõøùëãÃá es una magnitud
peque√±a adicional al movimiento esperado, de tal forma que el error de velocidades de desplazamiento es
Por lo anterior, la relaci√≥n de errores de los actuadores ùëí‡Ø§Ãá y de ùëí‡Øë se definen en (2-10), donde ùúÖ‡ØÉ es el
n√∫mero condicional.
‚ÄñJ‡¨ø‡¨µ‚Äñ‚ÄñJ‚Äñ ‚Äñùëí‡ØëÃá‚Äñ
El ùúÖ(ùêΩ) se puede calcular como (2-11) si ùêâ no es cuadrada o como (2-12) si ùêâ es cuadrada .
Donde, ùúÜ‡Øò(max) y ùúÜ‡Øò(min) son los eigenvalores m√°ximos y m√≠nimos de ùêâ respectivamente.
Si el MP tiene una mezcla de actuadores prism√°ticos y rotacionales o si la plataforma m√≥vil genera
movimientos traslacionales y rotacionales, ùêâ es usualmente no homog√©nea en t√©rminos de unidades. Por lo
tanto, los √≠ndices de manipulabilidad deben evaluarse en t√©rminos traslacionales y rotacionales.
Considerando que ùëãÃá = [ùë£
ùë§]‡Øç y que la relaci√≥n de ùëãÃá respecto a ùëûÃá es.(2-13), donde ùëÉ‚àà‚Ñù‡Ø°√ó‡Ø°, ùë£‚àà
‚Ñù‡Ø†√ó‡¨µ, ùë§‚àà‚Ñù‡Ø°‡¨ø‡Ø† √ó‡¨µ, ùëÑ‚àà‚Ñù‡Ø°√ó‡Ø° y ùëûÃá ‚àà‚Ñù‡Ø°√ó‡¨µ.
Las matrices de relaci√≥n traslacional y rotacional son ‡µ´ùêâùêè‡∞∑ùüèùêê‡µØ‡Ø© y ‡µ´ùêâùêè‡∞∑ùüèùêê‡µØ‡Ø™ respectivamente y est√°n
organizadas de acuerdo con (2-14). Estas matrices ya no tienen combinaci√≥n de unidades y conforme con
(2-12) los √≠ndices de manipulabilidad traslacional y rotacional son ùúÖ·âÄ‡µ´ùêΩ‡Øâ‡∞∑‡∞≠‡Øä‡µØ‡Ø©·âÅ y ùúÖ·âÄ‡µ´ùêΩ‡Øâ‡∞∑‡∞≠‡Øä‡µØ‡Ø™·âÅ
respectivamente.
2.7 Estrategia de control
La estrategia de control de un MP permite que por medio de una se√±al de torque de entrada de los
motores, la plataforma m√≥vil llegue a un punto deseado. Existen varias estrategias de control como el
proporcional integral derivativo (PID) , el proporcional derivativo (PD) , los modos deslizantes
 , planitud diferencial entre otros. Adicionalmente, como se requiere un buen desempe√±o del
controlador, se usan indicadores como el de energ√≠a de desempe√±o, error de control, el esfuerzo de control
entre otros . En este desarrollo se enfocaron esfuerzos en la estrategia de modos deslizantes, planitud
diferencial con los indicadores error de control y esfuerzo de control.
2.7.1 Modos deslizantes
El control por modos deslizantes es un sistema estructura variable que conmuta en cualquier instante de
un conjunto de funciones de estado a otro. Este sirve para plantas din√°micas complejas de alto orden
operadas bajo condiciones de incertidumbre, debido a su propiedad de reducci√≥n de orden y su baja
sensibilidad a las perturbaciones y variaciones de los par√°metros de la planta . El modo deslizante es
inducido en sistemas din√°micos por un control discontinuo en funci√≥n del estado del sistema. El control
cambia a alta frecuencia asegurando un movimiento en un espacio de estados. Una descripci√≥n de este
comportamiento se detalla de (2-15) a (2-29) .
Formalmente los sistemas din√°micos discontinuos se describen como(2-15); donde, ùëã‚àà‚Ñù‡Ø° es el vector
de estados del sistema, ùëõ es la dimensi√≥n del espacio de estados, ùë° es el tiempo y ùëì(ùëã, ùë°) tiene
discontinuidades dentro del espacio (ùëã, ùë°).
ùëãÃá = ùëì(ùëã, ùë°, ùë¢)
Se considera que en aquellos casos cuando un conjunto de discontinuidades forma una superficie
variante en el tiempo de dimensi√≥n ùëõ, se denomine a esta superficie de conmutaci√≥n (ùúé) (2-16).
Por ejemplo, en un mecanismo con fricci√≥n de Coulomb ùëÉ‡µ´ùëãÃá‡µØ donde ùëö es la masa, ùëã es el
desplazamiento y ùëò es la rigidez del resorte; la discontinuidad ocurre cuando ùëãÃá = 0 (2-17) .Por lo
anterior, las superficies de conmutaci√≥n son concebidas para que la respuesta del sistema sea ùúé= ùëãÃá = 0 y
genere el comportamiento, caracter√≠sticas de estabilidad y seguimiento deseados.
ùëöùëãÃà + ùëÉ‡µ´ùëãÃá‡µØ+ ùëòùëã= 0
ùëÉ‡µ´ùëãÃá, ùë°‡µØ= ‡µúùëÉ‡Ø¢
Una caracter√≠stica de las ecuaciones diferenciales que describe cualquier estrategia de control (2-18) es
la presencia del vector de control, que para los MPs controlados por torque, es ùúè ‚àà‚Ñù‡Ø°.
ùëãÃá = ùëì(ùëã, ùë°, ùúè)
Ahora, si se considera una estrategia de control con la presencia de un vector de entrada ùúè(ùëã, ùë°), la clase
general del control discontinuo se define con la relaci√≥n de (2-19); donde ùúè‡Øú
‡¨æ(ùëã, ùë°) y ùúè‡Øú
‡¨ø(ùëã, ùë°)ùë†on continuas;
de la definici√≥n de la superficie de conmutaci√≥n, es importante garantizar la existencia del modo deslizante,
la cual se basa en que los vectores tangente de estados siempre apunten a la superficie ùúé como en la Fig.
ùúè(ùëã, ùë°) = ‡µúùúè‡Øú
ùëñ= 1, ‚Ä¶ , ùëö
El problema de existencia se parece a un problema de generalizado de estabilidad, considerando que un
MP es estable si pierde energ√≠a a trav√©s del tiempo y si en la aplicaci√≥n de la estrategia de control sus polos
se ubican en la regi√≥n negativa. La estabilidad de la superficie de conmutaci√≥n requiere seleccionar una
funci√≥n de Lyapunov ùëâ(ùëã, ùë°) que sea positiva definida y que tenga una derivada en el tiempo negativa en
la regi√≥n de atracci√≥n. Si se cumple esta condici√≥n, entonces la trayectoria de estados converge a la
superficie de conmutaci√≥n y permanece en ella para todo tiempo posterior , como pasar√≠a si ùëâ(ùëã, ùë°) =
0.5ùúé‡¨∂ la cual es globalmente positiva y ùúé
‡Øó‡Øß< 0. De acuerdo con esto, un modo deslizante es alcanzable
si el dominio de atracci√≥n es el espacio de estados. Por lo anterior, la existencia implica (2-20) .
Fig. 2-5.Esquem√°tico del comportamiento del control discontinuo sobre la superficie .
Por lo anterior, un modo deslizante ideal existe cuando la trayectoria de estados satisface ùúé(ùëã) = 0, lo
que requiere una infinita conmutaci√≥n generando un fen√≥meno indeseable de oscilaciones con frecuencia y
amplitud finitas denominada chattering . Con el fin de mejorar esto, se utilizan funciones que
disminuyen la ambig√ºedad (Fig. 2-6) y se conocen como capas l√≠mites. Un ejemplo es la funci√≥n signo
(ùë†ùëñùëîùëõ), la cual ampl√≠a las fronteras de conmutaci√≥n a valores entre ‚àíùúÄ y ùúÄ , .
Fig. 2-6. Capa l√≠mite .
La ley de control es (2-21); donde ùúè‡Øò‡Ø§ y ùúè‡Øá corresponden al control equivalente y al atractivo
respectivamente. El primero restringe el movimiento del sistema a la superficie deslizante y el segundo
lidia con las perturbaciones.
ùúè= ùúè‡Øò‡Ø§+ ùúè‡Øá
Referente a ùúè‡Øò‡Ø§, suponiendo que en ùë°‡¨¥ la trayectoria de estados intercepta la superficie deslizante, un
modo deslizante existe para ùë°‚â•ùë°‡¨¥. Considerando que el modo deslizante existe (2-20) y asumiendo que la
soluci√≥n de (2-18) existe, ahora (2-18) se puede definir como la ecuaci√≥n del modo deslizante que describe
el movimiento sobre la intersecci√≥n de las superficies de conmutaci√≥n (2-22)
ùëãÃá = ùëì‡µ´ùëã, ùë°, ùúè‡Øò‡Ø§‡µØ
Desde un punto de vista geom√©trico, el ùúè‡Øò‡Ø§ implica un reemplazo de un control discontinuo indefinido
sobre un l√≠mite discontinuo con un control continuo el cual direcciona el vector de velocidad en el espacio
de estados a lo largo de una intersecci√≥n de superficies discontinuas. De la Fig. 2-7 ùúè‡Øú
‡¨æ(ùëã, ùë°) y ùúè‡Øú
act√∫an hasta intersectarse con el plano tangente de ùúé(ùëã, ùë°), el punto de intersecci√≥n es el ùúè‡Øò‡Ø§ y el
componente derecho de (2-22).
Fig. 2-7. Variaci√≥n de ùëì(ùëã, ùë°, ùúè) sobre el plano tangente .
Si ahora el sistema controlado se representa de la forma (2-23); donde ùëì(ùëã, ùë°) y ùêµ(ùëã, ùë°) son argumentos
continuos de dimensi√≥n ùëõ √ó 1 y ùëõ √ó ùëö respectivamente y ùúè‡Øò‡Ø§ cumple con (2-19).
ùëãÃá = ùëì(ùëã, ùë°) + ùêµ(ùëã, ùë°)ùúè‡Øò‡Ø§
Un control continuo que cumpla con (2-20) se expresa como (2-24); donde ùê∫= ùúïùúéùúïùëã
ùúéÃá = ùê∫ùëì(ùëã, ùë°, ùúè) = 0
La ecuaci√≥n (2-24) puede escribirse como (2-25) si se considera ùúè‡Øò‡Ø§.
ùúéÃá = ùê∫ùëì(ùëã, ùë°) + ùê∫ùêµ(ùëã, ùë°)ùúè‡Øò‡Ø§= 0
Asumiendo que ùê∫ùêµ es no singular, el ùúè‡Øò‡Ø§ se define como (2-26).
ùúè‡Øò‡Ø§= ‚àí‡µ´ùê∫ùêµ(ùëã, ùë°)‡µØ
‡¨ø‡¨µùê∫ùëì(ùëã, ùë°)
Sustituyendo (2-26) en (2-23) se obtiene (2-27), la cual describe el movimiento del modo deslizante
sobre el requerimiento ùúé(ùëã) =0.
ùëãÃá = ùëì‚àíùêµ(ùê∫ùêµ)‡¨ø‡¨µùê∫ùëì
El control ùúè‡Øò‡Ø§ es aplicado cuando el sistema est√° dentro de las capas l√≠mites de la superficie de
conmutaci√≥n. En consecuencia, es necesaria la existencia de un controlador que atraiga a la trayectoria de
estados hacia la superficie deslizante, este papel lo hace el control atractivo ùúè‡Øá (2-21) y se comporta como
un componente discontinuo y conmutado (2-19). Para implementar ùúè‡Øá en toda la estrategia de control se
sigue (2-28) con base en (2-25), en donde ahora la se√±al de control es ‡µ´ùúè‡Øò‡Ø§+ ùúè‡Øá‡µØ.
ùê∫‡µ£ùëì+ ùêµ‡µ´ùúè‡Øò‡Ø§+ ùúè‡Øá‡µØ‡µß
ùê∫‡µ´ùëì+ ùêµùúè‡Øò‡Ø§‡µØ+ ùê∫ùêµùúè‡Øá
Cuando los estados no est√°n sobre la superficie de conmutaci√≥n ùúéÃá ‚â†0 y solo act√∫a ùúè‡Øá lo que genera
ùúéÃá = ùê∫ùëãÃá = ùê∫ùêµùúè‡Øá
Si se asume que ùêµ= ùêº; entonces ùúéÃá = ùúè‡Øá. Esta condici√≥n es suficiente para la alcanzabilidad y existencia
de un modo deslizante ya que cumple con ùúé
‡Øó‡Øß< 0 cuando ùúé‚â†0. Una de las estructuras de selecci√≥n de
ùúè‡Øá es la realimentaci√≥n continua como muestra (2-30), donde ùõº< 0 para que haya la condici√≥n de
existencia (2-31)
ùúéùúéÃá = ùõºùúé‡¨∂< 0
De esta forma, ùúè‡Øá puede expresarse como (2-32); donde, ùêø representa el torque m√°ximo permitido por
los actuadores.
ùúè‡Øá= ·âÑ‚àíùêøùë†ùëñùëîùëõ(ùúé)
Se puede definir ùúè en funci√≥n de ùëã, tal como lo hace (2-33), donde ùëã(‡Øú) y ‚Ñè(‡Øú) es la i-√©sima derivada de
ùëã y el i-√©simo factor del sistema respectivamente, estos valores dependen del ùëö orden del sistema.
ùúè= ‚Ñè‡Ø†‡¨æ‡¨µùëã(‡Ø†) + ‚Ñè‡Ø†ùëã(‡Ø†‡¨ø‡¨µ) + ‚ãØ+ ‚Ñè‡¨∂ùëãÃá + ‚Ñè‡¨µùëã
La superficie ùúé se expresa como (2-34), donde la i-√©sima derivada del error ùëí(‡Øú) = (ùëã‡Øó‚àíùëã)(‡Øú) se
presenta como la i-√©sima derivada de la diferencia de estados deseados contra los actuales y ‚à´(‡Ø†)
ùëö reconstructores integrales.
ùúé= ùëã(‡Ø†‡¨ø‡¨µ) + ùêæ(‡Ø†‡¨æ‡¨µ)ùëí(‡Ø†‡¨ø‡¨∂) + ‚ãØ+ ùêæ(‡¨µ) ‡∂±ùëí
Luego se deriva (2-34) obteniendo (2-35).
ùúéÃá = ùëã(‡Ø†) + ùêæ(‡Ø†‡¨æ‡¨µ)ùëí(‡Ø†‡¨ø‡¨µ) + ‚ãØ+ ùêæ(‡¨µ)
Al despejar ùëã(‡Ø†) de (2-33) y reemplazarlo en (2-35), ùúéÃá se define como (2-36).
ùëã(‡Ø†‡¨ø‡¨µ) ‚àí‚ãØ‚àí
ùëã‡µ∞+ ùêæ(‡Ø†‡¨æ‡¨µ)ùëí(‡Ø†‡¨ø‡¨µ) + ‚ãØ+ ùêæ(‡¨µ)
Cuando la se√±al de control se encuentra sobre la superficie deseada ùúéÃá = 0, ùúè‡Øò‡Ø§ est√° accionado tal como
(2-37) lo indica.
ùëã(‡Ø†‡¨ø‡¨µ) ‚àí‚ãØ‚àí
ùëã‡µ∞+ ùêæ(‡Ø†‡¨æ‡¨µ)ùëí(‡Ø†‡¨ø‡¨µ) + ‚ãØ+ ùêæ(‡¨µ)
Al despejar ùúè‡Øò‡Ø§ se genera (2-38).
ùúè‡Øò‡Ø§= ‚Ñè‡Ø†ùëã(‡Ø†‡¨ø‡¨µ) + ‚ãØ+ ‚Ñè‡¨∂ùëãÃá + ‚Ñè‡¨µùëã‚àí‚Ñè‡Ø†‡¨æ‡¨µ·âåùêæ(‡Ø†‡¨æ‡¨µ)ùëí(‡Ø†‡¨ø‡¨µ) + ‚ãØ+ ùêæ(‡¨µ)
Por otro lado; en caso de que ùúéÃá ‚â†0, ùúè‡Øò‡Ø§ y ùúè‡Øá se accionan. La se√±al ùúè‡Øá se iguala a ‚àíùêø sign(ùúé) seg√∫n
ùúè‡Øá= ‚àíùêøùë†ùëñùëîùëõ(ùúé)
Considerando (2-35) y teniendo en cuenta la activaci√≥n de las dos se√±ales ùúè‡Øò‡Ø§ y ùúè‡Øá, se calcula(2-40).
‚àíùêøùë†ùëîùëõ(ùúé) = ‡µ¨
ùëã(‡Ø†‡¨ø‡¨µ) ‚àí‚ãØ‚àí
ùëã‡µ∞+ ùêæ(‡Ø†‡¨æ‡¨µ)ùëí(‡Ø†‡¨ø‡¨µ) + ‚ãØ+ ùêæ(‡¨µ)
Reemplazando (2-37), (2-39) y (2-40) se obtiene (2-41), donde ùúé.se define en
‚àíùêøsign(ùúé) =
‚àí‚Ñè(‡Ø†‡¨æ‡¨µ)ùêøsign(ùúé) =
Los valores de ùêæ(‡Øú) se determinan derivando ùëö veces la superficie ùúé, luego se hace la transformada de
Laplace y se igualan los par√°metros a los que tienen la din√°mica del error que considera la ubicaci√≥n de los
polos seg√∫n la tasa de amortiguaci√≥n ùúâ, la frecuencia natural no amortiguada ùë§‡Ø° y los par√°metros de
estabilidad de Routh-Hurwitz , tal como lo muestra (2-42). Donde ùõΩ y ùúÖ dependen del valor de ùëö.
ùëí(‡Ø†) + ùêæ(‡Ø†‡¨æ‡¨µ)ùëí(‡Ø†‡¨ø‡¨µ) + ùêæ(‡Ø†)ùëí(‡Ø†‡¨ø‡¨∂) + ‚Ä¶ + ùêæ(‡¨∂)ùëíÃá + ùêæ(‡¨µ)ùëí
ùë†(‡Ø†) + ùêæ(‡Ø†‡¨æ‡¨µ)ùë†(‡Ø†‡¨ø‡¨µ) + ùêæ(‡Ø†)ùë†(‡Ø†‡¨ø‡¨∂) + ‚Ä¶ + ùêæ(‡¨∂)ùë†+ ùêæ(‡¨µ)
= (ùë†‡¨∂+ 2ùúâùë§‡Ø°+ ùë§‡Ø°‡¨∂)‡∞â(ùë†+ ùõº)‡∞ë
2.7.2 Planitud diferencial
La estrategia de planitud diferencial aplicada en MP involucra una salida diferencialmente independiente
que permite parametrizar los estados, entradas y salidas del sistema en funci√≥n de la salida y un n√∫mero
finito de sus derivadas en el tiempo; adem√°s, esta funci√≥n es invertible con el fin de obtener una soluci√≥n
en las variables originales . El pasar de un espacio de estados y de entradas usualmente no lineales a un
espacio de salidas planas representable como un tren de integradores se denomina difeomorfismo,
usualmente representado con Œ¶.
Por lo tanto, un sistema de orden ùëõ de una entrada y una salida representado por (2-43); donde los
estados ùë•‚àà‚Ñù‡Ø° y la entrada ùúè‚àà‚Ñù‡Ø†, es diferencialmente plano si existe una salida ficticia ùêπ= Œ¶(ùëã) que
permite la parametrizaci√≥n de los estados y la entrada conforme a (2-44); donde Œ¶‡Ø´ yŒ¶‡∞õ representan el
difeomorfismo de los estados y la entrada respectivamente, siendo estas funciones de clase ùê∂‡Æ∂ o
infinitamente derivables. La Fig. 2-8 representa esquem√°ticamente este concepto.
ùëãÃá = ùëì(ùëã, ùúè)
‡¨ø‡¨µ‡µ´ùêπ, ùêπÃá , ‚Ä¶ , ùêπ‡Ø°‡¨ø‡¨µ‡µØ
‡¨ø‡¨µ‡µ´ùêπ, ùêπÃá, ‚Ä¶ , ùêπ‡Ø°‡¨ø‡¨µ‡µØ
Fig. 2-8. Esquem√°tico de difeomorfismo .
En la planitud, todo el conjunto de soluciones del sistema est√°n en correspondencia uno a uno con las
trayectorias pertenecientes al espacio de salidas planas; como resultado, el comportamiento deseado que se
especifica en la salida plana determina las trayectorias de estado y de las entradas de control. Por tal motivo
la estrategia de control se centra en la superficie plana y en su controlabilidad.
Si se considera el MP como una representaci√≥n de estados de la forma (2-45) donde ùê¥ y ùêµ son matrices
de dimensiones ùëõ ùëã ùëõ y ùëõ ùëã ùëö respectivamente.
ùëãÃá = ùê¥ùëã+ ùêµùúè
Siguiendo el criterio de controlabilidad de Kalman , una condici√≥n necesaria y suficiente para que el
sistema (2-45) sea controlable es que el rango de la matriz de controlabilidad ùêæ‡Øñ expresada en (2-46) sea
igual a ùëõ.
Si este requisito se cumple, la salida plana est√° dada por un m√≥dulo de factor constante y una
combinaci√≥n de los estados obtenidos de la √∫ltima fila de la matriz inversa de ùêæ‡Øñ, tal como lo indica (2-47).
Por otro lado, ùêπ puede expresarse como (2-48); donde ùúÜ es un vector de dimensi√≥n 1 √ó ùëõ y la salida
plana se concentra en encontrar los valores de ùúÜ. Para esto, lo primero es hallar las ùëõ‚àí1 derivadas de ùêπ y
sustituir valores con (2-45) .
ùúÜùê¥(‡Ø°‡¨ø‡¨µ)ùëã+ ‚ãØ+ ùúÜùêµùúè(‡Ø°‡¨ø‡¨∂)
Debido a que se busca que ùëã solo se exprese en t√©rminos de ùêπ y sus derivadas, la entrada ùúè y sus
derivadas deben ser anuladas, para ello, ùúÜ debe satisfacer (2-49) .
En consecuencia, todas las ùëã se parametrizan en t√©rminos de ùêπ y sus derivadas. Luego, de la expresi√≥n
(2-45) se puede definir ùúè como una representaci√≥n de ùêπ, como lo describe (2-50); donde ùêπ(‡Øú) y ‚Ñè(‡Øú) es la i-
√©sima derivada de ùêπ y el i-√©simo factor del sistema respectivamente.
ùúè= ‚Ñè‡Ø°‡¨æ‡¨µùêπ(‡Ø°) + ‚Ñè‡Ø°ùêπ(‡Ø°‡¨ø‡¨µ) + ‚ãØ+ ‚Ñè‡¨∂ùêπÃá + ‚Ñè‡¨µùêπ
Con el fin de garantizar el seguimiento suave de ùêπ, se plantea un controlador auxiliar con una acci√≥n
integral que proporcione robustez al sistema, el cual se denomina ùë£‡Øî‡Ø®‡Ø´ (2-51); donde ùêπ‡Øú‡Øó y ùõæ‡Ø° son la i-
√©sima derivada deseada de la planitud y el i-√©simo coeficiente respectivamente.
ùë£‡Øî‡Ø®‡Ø´= ùêπ(‡Ø°)
‡Øó+ ùõæ(‡Ø°‡¨æ‡¨µ)‡µ£ùêπ(‡Ø°‡¨ø‡¨µ)
‡Øó‚àíùêπ(‡Ø°‡¨ø‡¨µ)‡µß+ ùõæ(‡Ø°)‡µ£ùêπ(‡Ø°‡¨ø‡¨∂)
‡Øó‚àíùêπ(‡Ø°‡¨ø‡¨∂)‡µß+ ‚Ä¶ + ùõæ(‡¨∂)[ùêπ‡Øó‚àíùêπ] + ùõæ‡¨µ‡∂±[ùêπ‡Øó‚àíùêπ] ùëëùë°
A partir de (2-50) se sustituye la derivada ùêπ(‡Ø°) por ùë£‡Øî‡Ø®‡Ø´ como lo presenta (2-52).
ùúè= ‚Ñè(‡Ø°‡¨æ‡¨µ)ùë£‡Øî‡Ø®‡Ø´+ ‚Ñè‡Ø°ùêπ(‡Ø°‡¨ø‡¨µ) + ‚ãØ+ ‚Ñè‡¨∂ùêπÃá + ‚Ñè‡¨µùêπ
Luego, se igualan (2-50) y (2-52) y se genera la din√°mica del error (2-53). Con el fin de eliminar las
integrales se deriva con respecto al tiempo (2-54); donde ùëí‡Øú‡Æø= ùêπ(‡Øú)
‡Øó‚àíùêπ(‡Øú) y ùëí‡Æø= ùêπ‡Øó‚àíùêπ.
‡Æø+ ùõæ(‡Ø°‡¨æ‡¨µ)ùëí(‡Ø°‡¨ø‡¨µ)
‡Æø+ ùõæ‡Ø°ùëí(‡Ø°‡¨ø‡¨∂)
‡Æø+ ‚Ä¶ + ùõæ(‡¨∂)ùëíÃá‡Æø+ ùõæ(‡¨µ) ‡∂±ùëíùêπùëëùë°
ùêπ(‡Ø°‡¨æ‡¨µ) = ùë£‡Øî‡Ø®‡Ø´Ãá
0 = ùêπ(‡Ø°‡¨æ‡¨µ)
‡Øó+ ùõæ(‡Ø°‡¨æ‡¨µ)ùëí(‡Ø°)
‡Æø+ ùõæ‡Ø°ùëí(‡Ø°‡¨ø‡¨µ)
‡Æø+ ‚Ä¶ + ùõæ(‡¨∂)ùëíÃá‡Æø+ ùõæ‡¨µùëí‡Æø‚àíùêπ(‡Ø°‡¨æ‡¨µ)
0 = ùëí(‡Ø°‡¨æ‡¨µ)
‡Æø+ ùõæ(‡Ø°‡¨æ‡¨µ)ùëí(‡Ø°)
‡Æø+ ùõæ‡Ø°ùëí(‡Ø°‡¨ø‡¨µ)
‡Æø+ ‚Ä¶ + ùõæ(‡¨∂)ùëíÃá‡Æø+ ùõæ‡¨µùëí‡Æø
Los valores de ùõæ‡Øú se consiguen al hacer la transformada de Laplace de (2-54) e igualarlos a los
par√°metros de estabilizad de Routh-Hurwitz (2-55) .
ùë†(‡Ø°‡¨æ‡¨µ) + ùõæ(‡Ø°‡¨æ‡¨µ)ùë†(‡Ø°) + ùõæ‡Ø°ùë†(‡Ø°‡¨ø‡¨µ) + ‚Ä¶ + ùõæ(‡¨∂)ùë†+ ùõæ‡¨µ= (ùë†‡¨∂+ 2ùúâùë§‡Ø°+ ùë§‡Ø°‡¨∂)‡∞â(ùë†+ ùõº)‡∞ë
2.8 Error y esfuerzo de control
La Fig. 2-9 muestra el esquem√°tico de la configuraci√≥n del sistema de control aplicado a un MP, donde
ùëãÃà‡Øó, ùëãÃá‡Øó, ùëã‡Øó son las aceleraciones, velocidades y posiciones deseadas de la plataforma m√≥vil y ùëãÃà, ùëãÃá, ùëã son
las aceleraciones, velocidades y posiciones en un instante de tiempo de la plataforma m√≥vil. La sumatoria
de la norma Euclediana de discretizaci√≥n de la diferencia entre los estados deseados y los actuales se
denomina error de control ùëí‡Øñ (2-56) .
ùëí‡Øñ‡ØëÃà = ‡∑ç‡∏ÆùëãÃà‡Øó‡Øú‚àíùëãÃà‡Øú‡∏Æ
ùëí‡Øñ‡ØëÃá = ‡∑ç‡∏ÆùëãÃá‡Øó‡Øú‚àíùëãÃá‡Øú‡∏Æ
ùëí‡Øñ‡Øë= ‡∑ç‚Äñùëã‡Øó‡Øú‚àíùëã‡Øú‚Äñ
El esfuerzo de control (ùê∏ùê∂) de la Fig. 2-9 cuantifica el torque (ùúè) por unidad de tiempo o el √°rea bajo
la curva que se requiere para llegar a las condiciones deseadas, lo que est√° relacionado con la energ√≠a de la
estrategia de control. Para calcular ùê∏ùê∂ se requiere de la sumatoria de la norma Euclediana de la
discretizaci√≥n de ùúè (2-57).
2.9 Optimizaci√≥n
En ingenier√≠a la optimizaci√≥n consiste en encontrar los mejores resultados bajo ciertas condiciones; por
ejemplo, encontrar el mejor desempe√±o de un proceso ante una m√≠nima inversi√≥n. Respecto a MPs, la
optimizaci√≥n se enfoca en encontrar las condiciones o par√°metros de dise√±o (estructurales, control, etc) que
generan un mejor comportamiento usualmente representado matem√°ticamente como funciones objetivo
(FOs) .
El desempe√±o de un MP depende de m√°s de una funci√≥n objetivo y tiene m√°s de una soluci√≥n v√°lida,
por tal motivo se han desarrollado m√©todos estructurados para la b√∫squeda de estas soluciones, las cuales
se resumen en la Tabla 2-1.
Fig. 2-9. Esquem√°tico del error y esfuerzo de control.
Tabla 2-1. Clasificaci√≥n de los problemas de optimizaci√≥n .
Caracter√≠stica del problema
Tipo de funci√≥n objetivo
Existencia de restricciones
Con restricciones
Sin restricciones
Tipo de variables
N√∫mero de FOs
Mono objetivo
Multi objetivo
Una vez el problema ha sido caracterizado, el siguiente paso es escoger el m√©todo de optimizaci√≥n, el
cual puede ser m√©todo cl√°sico o no tradicional.
2.9.1 M√©todos de optimizaci√≥n cl√°sicos
Estos m√©todos son usados para encontrar los m√°ximos y m√≠nimos de una funci√≥n que sea doblemente
diferenciable continua con respecto a los par√°metros de dise√±o. La Tabla 2-2 indica la clasificaci√≥n de estas
Tabla 2-2. Clasificaci√≥n de m√©todos cl√°sicos de optimizaci√≥n .
Clasificaci√≥n de m√©todos cl√°sicos
Variable simple
M√©todos directos
M√©todos de gradiente
Multivariable
M√©todos directos
M√©todos de gradiente
Restricciones
Con restricciones
Sin restricciones
Especializadas
Problemas particulares (i.e.
programaci√≥n entera).
Debido a que en los MPs existen FOs no lineales con variables mixtas y restricciones no lineales; esta
metodolog√≠a cl√°sica es poco eficiente y compleja de implementar. Por lo que se utilizan m√©todos
metaheur√≠sticos basados en b√∫squeda por entornos y bioinspirados, los cuales se agrupan en m√©todos no
tradicionales de optimizaci√≥n 
2.9.2 M√©todos de optimizaci√≥n no tradicionales
Estos m√©todos fueron desarrollados debido a que los problemas en ingenier√≠a no suelen cumplir con los
requisitos que requiere una optimizaci√≥n tradicional. Una de las t√©cnicas m√°s usadas en optimizaci√≥n de
MPs son los algoritmos evolutivos (AE), los cuales emulan los principios evolutivos de la naturaleza
(bioinspirados) para llevar a cabo la b√∫squeda en las configuraciones √≥ptimas. Una de las diferencias m√°s
cr√≠ticas con respecto a los m√©todos cl√°sicos es que los AE utilizan una poblaci√≥n de soluciones en cada
iteraci√≥n, lo que genera m√∫ltiples respuestas optimizadas en caso de que la naturaleza de este lo requiera.
Existen varios m√©todos de AE como: algoritmos gen√©ticos, evoluci√≥n diferencial, ente otros.
2.9.3 Planteamiento de un problema de optimizaci√≥n
En el dise√±o de un MP se pueden tener varias soluciones v√°lidas dependiendo de la forma en que se
halla planteado el problema considerando criterios adicionales que ayuden a la elecci√≥n, por lo que este
dise√±o se maneja como un problema de optimizaci√≥n. Por ello, se requiere encontrar las condiciones que
dan los valores m√°ximos y m√≠nimos de una funci√≥n objetivo .
El problema de optimizaci√≥n se plantea como (2-58) ; donde ùêó es el vector de dise√±o de ùëõ
dimensiones, ùëì(ùêó) es la funci√≥n objetivo y ùëî‡Øú(ùêó) y ‚Ñé‡Øù(ùêó) son las restricciones de desigualdad e igualdad
respectivamente. Las restricciones representan las relaciones entre las variables de dise√±o y dem√°s
par√°metros que satisfacen y limitan ciertos fen√≥menos f√≠sicos propios del MP. El espacio de b√∫squeda o de
dise√±o est√° definido por ùêó. Mientras que ùëî‡Øú(ùêó) fijan el comportamiento el MP, ‚Ñé‡Øù(ùêó) est√°n ligadas a las
respuestas del sistema o a las variables de dise√±o.
Encontrar ùêó= ùë•‡¨µ
ùë•‡Ø° que minimice ùëì(ùêó) sujeto a:
ùëñ= 1,2,3, ‚Ä¶ , ùëö
ùëó= 1,2,3, ‚Ä¶ , ùëù
2.9.4 Concepto de dominancia
Muchos algoritmos de optimizaci√≥n usan el concepto de dominancia. En estos algoritmos, dos
soluciones son comparadas con base en si una domina o no a la otra soluci√≥n. Para explicar esto, Deb 
asume que si hay ùëÄ funciones objetivo, una configuraci√≥n ùêó‡¨µ domina a una configuraci√≥n ùêó‡¨∂ si se
cumplen dos condiciones:
1. La soluci√≥n *ùëì‡Øù‡µ´ùêó‡¨µ‡µØ no es peor que una soluci√≥n de ùëì‡Øù‡µ´ùêó‡¨∂‡µØ para todas las ùëó= 1,2, ‚Ä¶ , ùëÄ.
2. La soluci√≥n ùëì‡Øù‡µ´ùêó‡¨µ‡µØ es estrictamente mejor que ùëì‡Øù‡µ´ùêó‡¨∂‡µØ en al menos una ùëó= 1,2, ‚Ä¶ , ùëÄ.
Este m√©todo establece un orden entre las soluciones y determina las deseables para continuar con el
proceso de optimizaci√≥n y generaci√≥n del Frente de Pareto.
2.9.5 Frente de Pareto
En un problema con varias funciones objetivo, la noci√≥n de √≥ptimo cambia porque la meta es encontrar
un conjunto de soluciones en lugar de una √∫nica como se hace en la optimizaci√≥n global. La noci√≥n de
√≥ptimo adoptada m√°s com√∫nmente es la propuesta originalmente por Francis Ysidro Edgeworth y
posteriormente generalizada por Vilfredo Pareto; donde, una soluci√≥n ùêó‚ààŒ© es un √≥ptimo de Pareto con
respecto a Œ© si y solo si no existe un ùêó·á±‚ààŒ© en la cual ùêï= ùêπ(ùêó·á±) = ùëì‡¨µ(ùêó·á±), ùëì‡¨∂(ùêó·á±), ‚Ä¶ , ùëì‡Øû(ùêó·á±) domine a
ùêî= ùêπ(ùêó) = ùëì‡¨µ(ùêó), ùëì‡¨∂(ùêó), ‚Ä¶ , ùëì‡Øû(ùêó) , teniendo en cuenta el concepto de dominancia descrito en la
Secci√≥n 2.9.4.
Las soluciones ùêó pueden no tener una relaci√≥n aparente m√°s all√° de su pertenencia al conjunto √≥ptimo
de Pareto. Ellas conforman el conjunto de todas las soluciones cuyos vectores asociados no est√°n
dominados; las soluciones √≥ptimas de Pareto se clasifican como tales con base a sus valores funcionales
evaluados y cuando son graficados en el espacio objetivo las ùêî forman un Frente de Pareto (FP) . El
procedimiento para generar el FP es calcular muchos puntos ùêó en Œ© y sus correspondientes ùêî, ya que no es
f√°cil encontrar una expresi√≥n anal√≠tica de la l√≠nea o superficie que contiene estos puntos . Cuando hay
un n√∫mero suficiente de estos es posible determinar los puntos no dominados y graficar su distribuci√≥n
como en Fig. 2-10.
Fig. 2-10. Esquem√°tico de un FP.
2.9.6 M√©todos implementados
En el desarrollo de este trabajo se aplicaron dos t√©cnicas de optimizaci√≥n: 1) una cl√°sica de variable
simple y b√∫squeda directa llamada Secci√≥n dorada y 2) el m√©todo no tradicional bioinspirado multiobjetivo
restringido basado en la evoluci√≥n diferencial (ED).
2.9.6.1 Secci√≥n dorada
Esta t√©cnica encuentra una soluci√≥n de ùêó tal que ùëì(ùêó) tenga el m√≠nimo valor. Este m√©todo se basa en la
eliminaci√≥n de regiones que depende de los valores de ùëì(ùêó) evaluada en dos puntos y asumiendo que ùëì(ùêó)
es unimodal en el espacio de b√∫squeda. Estas t√©cnicas de eliminaci√≥n de regiones consideran dos puntos
ùêóùüè y ùêóùüê dentro de un intervalo (ùëé, ùëè) y siguen el criterio de selecci√≥n mostrado en (2-59) .
ùëì(ùêó)‡Ø†‡Øú‡Ø° no se encuentra en la zona (ùëé, ùêó‡¨µ)
ùëì(ùêó)‡Ø†‡Øú‡Ø° no se encuentra en la zona (ùêó‡¨∂, ùëè)
ùëì(ùêó)‡Ø†‡Øú‡Ø°no se encuentra en la zona (ùëé, ùêó‡¨µ) ni en (ùêó‡¨∂, ùëè)
Las iteraciones de b√∫squeda dentro del WS se hacen normalizando el espacio de b√∫squeda (ùëé, ùëè) a (0,1)
y tomando dos puntos de cada extremo de la zona de b√∫squeda que abarcan una zona ùëá= 0.618 (n√∫mero
dorado). Con las dos nuevas funciones se eval√∫a cual zona debe ser eliminada hasta que el espacio de
b√∫squeda sea menor a un l√≠mite establecido, tal como lo indica la Fig. 2-11.
Fig. 2-11. Ubicaci√≥n de los puntos en una b√∫squeda por secci√≥n dorada 
2.9.6.2 Evoluci√≥n diferencial multiobjetivo elitista restringido
Evoluci√≥n diferencial (ED) es un algoritmo que simula la evoluci√≥n combinada para generar una serie
de direcciones de b√∫squeda basadas en la distribuci√≥n de la poblaci√≥n actual. Cada i-√©simo vector de la
poblaci√≥n, es capaz de generar un descendiente llamado vector de prueba (ùë£‡Øõ). Estos vectores contienen
las variables de dise√±o (ùêó) y sus respectivas ùëõ FOs ùëì(ùêó)‡Ø°. La creaci√≥n de un nuevo vector o vector hijo ùëü‡Øõ
se describe en los siguientes pasos .
De un tama√±o de poblaci√≥n de ùëò vectores, se calcula la diferencia entre un par de vectores ùëü‡¨µ y ùëü‡¨∂
elegidos arbitrariamente y diferentes entre s√≠ y del que se trata en ese momento, llamado objetivo o
padre,para definir una direcci√≥n de b√∫squeda.
De la diferencia se genera un vector el cual es escalado usando un par√°metro multiplicativo llamado
Factor de mutaci√≥n 0 < ùêπ< 2 .
Se determina un vector de mutaci√≥n ùëü‡¨∏ el cual es obtenido de la suma de un tercer vector ùëü‡¨∑ con el
vector escalado del paso 2. ùëü‡¨∑ es diferente a ùëü‡¨µ, ùëü‡¨∂ y al vector objetivo.
El vector ùëü‡¨∏ se combina con el vector objetivo (ùëü‡Ø£) por cruzado binomial y bajo el control de un
factor de cruza 0 < ùê∂ùëü< 1 el cual determina la similitud entre ùëü‡¨∏ y ùëü‡Ø£. De esta cruza resulta ùëü‡Øõ.
Se agrupan todos los ùëü‡Ø£ y ùëü‡Øõ y se seleccionan los vectores no dominados. Un vector no dominado
es aquel que genera la mejor soluci√≥n en al menos una ùëì(ùêó) y no es peor que todas las dem√°s (Secci√≥n
2.9.4). El an√°lisis de dominancia organiza los vectores en varios niveles de frentes.
Si por no dominancia se escoge un n√∫mero de vectores que excede el tama√±o fijo de la poblaci√≥n,
se realiza una selecci√≥n por torneo de hacinamiento. En esta comparaci√≥n entre las ùëì(ùêó) de cada nivel de
frente se escogen aquellos que tengan mayor distancia con sus vecinos y se seleccionan los ùëò mejores
vectores, que ser√°n los nuevos ùëü‡Ø£.
Aunque existen variantes del ED, en este trabajo se implement√≥ el Ed/rand/1/bin, donde cada vector se
le agrega una penalizaci√≥n en caso de que este incurra en violaciones de las restricciones, se consideran los
ùëü‡Ø£ y ùëü‡Øõ, es multiobjetivo, los vectores ùëü‡¨µ, ùëü‡¨∂ y ùëü‡¨∑ se eligen al azar, solo se usan un par de vectores
diferenciales y existe un cruce binomial.
3 ESTADO DEL ARTE
Durante la √∫ltima d√©cada, m√°s de 200 diferentes MPs se han desarrollado y muchas de esos se han
enfocado en el campo de la automatizaci√≥n, manipulaci√≥n de material y ensamblaje entre otras, debido a
que se requieren maquinas con alta velocidad y aceleraci√≥n. Desde 1965 con el trabajo de Stewart , se
ha probado que los MPs son complementarios a los robots seriales. Sin embargo, a pesar de los grandes
esfuerzos en investigaci√≥n y de anteriores reivindicaciones a√∫n la industria no responde a los MPs y la gran
mayor√≠a de estos mecanismos solo han sido aplicados en laboratorios .
Los retos tecnol√≥gicos alrededor de los MPs en cuanto a generaci√≥n de movimiento est√°n relacionados
con: el dise√±o mec√°nico, el an√°lisis cinem√°tico y din√°mico, el espacio de trabajo de trabajo y la optimizaci√≥n
entre otros. Por todo lo anterior, se requiere un panorama de los desarrollos e investigaciones en MP y las
particularidades que se deben tener en cuenta al momento de aplicar este tipo de mecanismos en la MA.
3.1 Configuraciones mec√°nicas de los MPs
Se han desarrollado multitud de MPs, desde los desarrollos de tipo hex√°podos como el de Stewart los
cuales al inicio fueron rechazados debido a la dificultad de su control, hasta los dise√±os m√°s populares como
el tipo Delta. Anteriormente, se destac√≥ la importancia que los MPs tuvieran brazos r√≠gidos, as√≠ que, a
continuaci√≥n, se destacan algunos de estos, los cuales se han aplicado o son aplicables a MA y en donde la
ubicaci√≥n de los dosificadores o sistemas de cura del material est√° prevista en la plataforma m√≥vil.
Una forma de describir los MPs es de acuerdo con el tipo de articulaci√≥n que tienen. Las articulaciones
mas usadas son las prism√°ticas (P), esf√©ricas (S), rotacional (R), universal (U), helicoidal (H), cil√≠ndrico
(C). Es as√≠, que si un MP posee 6 brazos iguales cada uno con una articulaci√≥n rotacional, una universal y
una esf√©rica este se describe como un 6 RUS. Por ejemplo, la plataforma Gough Stewart posee 6 brazos
iguales cada uno compuesto por una articulaci√≥n esf√©rica, una prism√°tica y otra esf√©rica, lo que se resume
como 6 SPS. A lo largo de este texto se describe ejemplos de MPs siguiendo este tipo de abreviaci√≥n.
Fu et.al. presentaron un robot que consta de 6 DOFs con tres brazos, el cual tiene una estructura
cinem√°tica con tres brazos id√©nticos conectados de la plataforma base fija hasta la plataforma m√≥vil. Cada
brazo tiene una articulaci√≥n R activa, dos articulaciones R pasivas, una articulaci√≥n P activa y una de tipo
U. Las seis articulaciones activas son accionadas por servomotores y sensadas por potenci√≥metros lineales
(Fig. 3-1). La ventaja de este robot es que las traslaciones y las rotaciones est√°n desacopladas, la posici√≥n
final de la plataforma m√≥vil depende √∫nicamente de los actuadores prism√°ticos, mientras que la rotaci√≥n
final si depende de los seis actuadores. La reconfiguraci√≥n de la estructura se simplifica debido a la
estructura modular.
Fig. 3-1. MP de 6 DOFs. A) Isom√©trico. B) Detalles del sistema rotacional superior .
En algunas circunstancias, cuando el dosificador o boquilla poseen un peso considerable, los MPs con
6 DOFs, en los cuales sus brazos soportan uno o m√°s motores, no son recomendados. Esto se debe a que la
ubicaci√≥n de los motores en las extremidades incrementa la inercia del sistema, afectando la precisi√≥n y la
rigidez. Por tal motivo, hay prototipos de MP con los motores en la base. Wei Ye et.al. expusieron un
MP reconfigurable o reconfigurable parallel mechanism (RPM) enfocado en el proceso de extrusi√≥n de
material fundido, buscando que este tuviera la habilidad de reconfigurar su estructura de acuerdo con las
diferentes entradas de trabajo; para esto, crearon un mecanismo paralelo con la habilidad de trasladar su
plataforma m√≥vil en los ejes X, Y y Z y rotarla en el eje X y Y (3T2R); permitiendo agregar material sobre
superficies planas, cil√≠ndricas, circulares y de forma libre. Debido a que requer√≠an m√≠nimo 3 DOFs, fue
necesario hacer que en el dise√±o la plataforma m√≥vil se uniera a la base fija por medio de 3 brazos. Dos de
los brazos son id√©nticos y poseen una caracter√≠stica cinem√°tica de tipo PMM- URR. El uso de forma
metam√≥rfica planar da a los brazos la caracter√≠stica de ser reconfigurables h√≠bridos. Este tipo de brazo por
s√≠ solo aporta 6 DOFs, pero la configuraci√≥n propuesta en este dise√±o, debido al uso del tercer brazo de tipo
RRUR restringe un DOF; pero, permite configurar el robot a cuatro modos de operaci√≥n. i.e. 3 traslaciones,
3 traslaciones y solo rotaci√≥n en X, 3 traslaciones y solo rotaci√≥n en Y y 3 traslaciones y rotaciones
permitidas en X y Y (Fig. 3-2).
Fig. 3-2. MP configurable .
Por otro lado, Dutta et al. presentaron un robot paralelo RSS de 6 DOFs (Fig. 3-3) con un nuevo
m√©todo de detecci√≥n de fuerzas externas aplicada en la plataforma m√≥vil, evitando sensores de fuerza
externos. Este desarrollo reduce costos, genera MP m√°s compactos y los hace m√°s vers√°tiles. Sin embargo,
el WS es restringido.
Fig. 3-3. 6 DOFs RSS .
Debido a las complejidades y costos que infiere la fabricaci√≥n de un MP, Song et.al. dise√±aron y
fabricaron un robot de bajo costo para trabajar en FFF, las razones para seleccionar esta t√©cnica fueron las
bajas vibraciones y cargas axiales que involucran ese proceso de MA en comparaci√≥n a otros procesos
como el arranque de viruta. La m√°quina se bas√≥ en un MP tipo Gough Stewart. Este MP usualmente consta
de 6 brazos con dos eslabones; el primer eslab√≥n se une en una esquina por un actuadores pasivo U y por
la otra esquina por un actuador activo tipo P; el otro eslab√≥n se conecta por un lado con el actuador P y por
el otro con la plataforma m√≥vil gracias a una articulaci√≥n S . Sin embargo, en busca de mayor precisi√≥n,
Song et.al. , propusieron que el movimiento de los actuadores lineales fuera generado con una adaptaci√≥n
de los motores a tornillos de bolas y guiados por ejes lisos. Se utilizaron 6 motores con sus respectivas
adaptaciones. Cada motor fue unido a la base con una articulaci√≥n de tipo universal (Fig. 3-4). El control
de la altura de la deposici√≥n de material fue sensado por medio de un l√°ser y una c√°mara. La c√°mara registra
el punto rojo del l√°ser y con la relaci√≥n de la lejan√≠a de este punto al centro de la c√°mara se determin√≥ la
distancia entre la boquilla y la superficie.
Fig. 3-4. Esquem√°tico del mecanismo y ensamble de un MP tipo Stewart de bajo costo .
Otro mecanismo 6 RUS probado en varias aplicaciones industriales es el tipo Zamanov . En este
mecanismo los puntos en la base generan un movimiento circular de extremidades tipo R unidas por
articulaciones U. Cada par de extremidades se une en un mismo punto tipo S en la plataforma m√≥vil. Una
ventaja de este MP es su capacidad de movimiento sin sobresaltos mec√°nicos por la configuraci√≥n RUS;
sin embargo su WS comparado con otros MP es restringido. La Fig. 3-5 muestra un esquem√°tico de este
Por otra parte, un MP similar al Zamanov 6 RUS es el mecanismo Hunt 6RUS . Este se compone
de dos plataformas triangulares una de ellas fija en el suelo. En la plataforma fija hay 6 actuadores R activos
localizados en cada v√©rtice del tri√°ngulo. Cada actuador esta unido a la plataforma m√≥vil a trav√©s de un
eslab√≥n. Cada eslab√≥n se une al actuador por medio de una articulaci√≥n U y la otra esquina est√° conectada
a la plataforma m√≥vil por una articulaci√≥n S, como se describe la Fig. 3-5. Este MP tiene la desventaja que,
al no involucrar mecanismos complejos, esto impacta negativamente el WS.
En ocasiones se requieren m√°quinas capaces de generar mayores velocidades y aceleraciones, debido a
esto Filho y Cabral trabajaron en un robot paralelo con una configuraci√≥n tipo HEXA, en donde una
plataforma fija es conectada a una plataforma m√≥vil por medio de brazos iguales con articulaciones de tipo
6 RUS (HEXA 6 RUS). Los brazos cumplen un patr√≥n circular centrado en el centro de la plataforma base
y hacen que el robot tenga 6 DOFs (Fig. 3-6), este MP adiciona amplio movimiento en el eje vertical y los
actuadores activos se encuentran en la base de la estructura. El adicionar dosificadores de material en la
plataforma m√≥vil, lo hace una elecci√≥n apta para MA.
Fig. 3-5. Mecanismo tipo Hunt 6 RUS. A) Esquem√°tico del MP. B) Vista superior de la configuraci√≥n. .
Fig. 3-6. Robot tipo Hexa .
Algunos MP admiten solo un rango de movimiento rotacional en ciertos puntos debido a las
singularidades mec√°nicas, algunos autores han solucionado esto con un brazo extra que una la base con la
plataforma m√≥vil pero, Gosselin et al. y Schreiber Gosselin propusieron un MP de 4 DOFs
compuesto por 4 brazos prism√°ticos activos en donde 2 brazos en un extremo tienen una articulaci√≥n
rotacional unida a la base fija y en el otro extremo de cada uno hay una articulaci√≥n rotacional unida a la
plataforma m√≥vil. Los otros 2 brazos en un extremo cada uno est√° unido a la base fija, en el otro extremo
ambos brazos est√°n unidos con una articulaci√≥n esf√©rica. Entre la articulaci√≥n esf√©rica y la plataforma m√≥vil
hay un brazo, la uni√≥n entre este brazo y la plataforma m√≥vil es por medio de una articulaci√≥n rotacional
(Fig. 3-7). Esta configuraci√≥n permiti√≥ el giro libre de la plataforma m√≥vil sin ning√∫n tipo de restricci√≥n,
pero se produjo redundancia, fuerzas antag√≥nicas y un incremento en la dificultad de control de
movimiento.
En otras ocasiones se requiere mayor torque en las extremidades, por lo que se deben activar m√°s
articulaciones. El trabajo de Gayral et.al. se enfoca en un MP compuesto de tres brazos con un
incremento de actividad en las articulaciones de rotacionales. Los investigadores propusieron un robot
paralelo de 6 DOFs, basado en tres brazos articulados tipo RRP con dos articulaciones activas y una
articulaci√≥n prism√°tica transversal en donde puede deslizarse una barra que conecta los brazos m√≥viles con
el actuador triangular final. Las barras est√°n unidas al actuador final por medio de articulaciones universales
ubicadas en los v√©rtices (Fig. 3-8). El valor agregado del dise√±o es que los actuadores se encuentran en la
base del robot. La ubicaci√≥n de los actuadores se debe al uso de un sistema de poleas planetario de dos
DOFs, lo que ayuda a transmitir la potencia del motor de la base a la articulaci√≥n rotacional activa. Debido
a que los motores se encuentran en la base del robot, la masa y la inercia de las extremidades se reduce,
generando un mecanismo liviano. El robot requiere de seis motores para su funcionamiento.
Fig. 3-7. MP de 4 DOFs libre de singularidades .
Fig. 3-8. MP de 6 DOFs. A. Modelo virtual. B. Esquem√°tico de las fuerzas en la plataforma m√≥vil .
Anteriormente se hab√≠a se√±alado, que uno de los MPs m√°s utilizados ha sido el tipo Delta, el cual solo
ofrece 3 DOFs en una estructura ligera. Sin embargo, a partir de su estructura se han hecho prototipos
incrementando sus DOFs y WS. Li y Angeles propusieron un robot basado en la distribuci√≥n de un
robot Delta, con tres brazos que unen la plataforma m√≥vil a la base. Los brazos tienen una distribuci√≥n
cinem√°tica de tipo CPS donde en la articulaci√≥n cil√≠ndrica est√° el actuador. El actuador cil√≠ndrico consta en
su interior de un mecanismo tipo RHHR, en el cual dos tornillos con roscas contrarias, uno frente al otro,
alineados axialmente y paralelos a la base, se encuentran unidos por la articulaci√≥n helicoidal (Fig. 3-9).
Esto hace que dependa de la direcci√≥n y velocidad de giro, la articulaci√≥n cil√≠ndrica gire o se traslade,
determinando que el robot tenga 6 DOFs y que los actuadores de encuentren cerca a la base, evitando
inercias y aumentando el WS con respecto al robot tipo Delta.
Fig. 3-9. MP de 6 DOFs. A) Esquem√°tico del mecanismo. B) Configuraci√≥n mec√°nica de la articulaci√≥n
cil√≠ndrica .
Otra modificaci√≥n de un robot tipo Delta es la propuesta por Azulay et.al. , quienes crearon un robot
paralelo que ofrece 6 DOFs soportados en una estructura en donde la plataforma m√≥vil se une a la base por
medio de 3 brazos. Cada uno de los brazos posee las siguientes caracter√≠sticas evidenciadas en la Fig. 3-10.
En la uni√≥n entre el brazo y la base hay un actuador de tipo prism√°tico que se desplaza de forma circular
con respecto al eje Z. Sobre este actuador existe un segundo actuador prism√°tico que se desplaza en
direcci√≥n normal con respecto al eje Z. Encima del √∫ltimo actuador hay una tercera articulaci√≥n cil√≠ndrica
que se une al brazo y permite su rotaci√≥n. Al otro extremo del brazo hay una articulaci√≥n esf√©rica unida a
la plataforma m√≥vil. El movimiento normal de los actuadores prism√°ticos de la base, incremental el WS en
los ejes X y Y, por lo que este mecanismo es propuesto para maquinado de alta precisi√≥n y MA.
Fig. 3-10. MP de 6 DOFs. A) Descripci√≥n de movimientos. B) Modelo fabricado .
Tambi√©n se han trabajado en mecanismos con cinem√°ticas desacopladas, un ejemplo es el desarrollo de
Song et.al. quienes propusieron una estrategia de dise√±o para robots con 4 -6 DOFs, para esto,
proporcionan la traslaci√≥n en X y Y por medio de una plataforma con articulaciones prism√°ticas. Sobre esa
plataforma inicialmente proponen una plataforma actuadora sostenida por tres cadenas cinem√°ticas tipo
UPS y en el centro una de tipo UP. La plataforma actuadora est√° girada 90¬∞ con respecto al eje Y (Fig.
3-11). Dentro de la metodolog√≠a propuesta se explica la configuraci√≥n para aumentar o disminuir DOFs. La
rigidez de este MP y bajas inercias sirve tanto procesos de MA como de arranque de viruta.
Fig. 3-11. Prototipo virtual de un mecanismo con 5 DOFs .
Otro trabajo en mecanismos con cinem√°ticas desacopladas es el de Zhang et.al. . En su trabajo, el
MP se fundamenta en un robot plano con 5 DOFs. La estructura se basa en un mecanismo plano alineado
verticalmente y con todos sus movimientos sobre ese plano. El mecanismo planar tiene 4 brazos id√©nticos
de tipo PRR, un brazo intermedio y una plataforma m√≥vil. A un extremo de dos brazos se encuentra unida
la plataforma m√≥vil por medio de uniones rotacionales. Al otro extremo cada una las uniones rotacionales
de cada brazo se encuentran unidas a una articulaci√≥n prism√°tica las cuales son colineales. Al otro extremo
de la estructura, los extremos de los dos brazos restantes se encuentran unidos rotacionalmente al brazo
intermedio, el cual en su otro extremo se une rotacionalmente a la plataforma m√≥vil. Al igual que los
anteriores dos brazos, en el otro extremo hay una uni√≥n rotacional entre el brazo y articulaciones prism√°ticas
colineales. Este mecanismo paralelo aporta movimientos traslacionales verticales y rotacionales en el eje
X. Al anterior robot paralelo se le agrego una base rotacional en el eje Z y la cual tambi√©n puede deslizarse
por medio de articulaciones prism√°ticas en el eje X (Fig. 3-12).
Seward y Bonev presentaron un MP de 6 DOFs llamado Hexapteron, que hace parte de la llamada
familia Multipteron, el cual consta de un WS amplio; este MP consiste en 6 brazos cada uno CRS, todos en
una configuraci√≥n ortogonal como lo indica laFig. 3-13.
Debido al tipo de estructura de los MPs, su WS es reducido en comparaci√≥n a los robots seriales, Viegas
et.al. propusieron un MP que se basa en soportes de tipo prism√°tico unidos a los brazos por medio de
articulaciones rotacionales. Crearon una estructura basada en 5 rieles que forman una red donde los
actuadores prism√°ticos pueden desplazarse, aumentando el WS (Fig. 3-14), bas√°ndose en la transici√≥n entre
rieles; lo que puede generar 8 configuraciones de ensamblaje modular. Se determin√≥ del an√°lisis de
movilidad del mecanismo basado en la sumatoria del n√∫mero de articulaciones, la espacialidad de cada
brazo y de la plataforma m√≥vil.
Fig. 3-12. Descripci√≥n de mecanismo h√≠brido .
Fig. 3-13. Hexapteron. A. Esquem√°tico. B. Dise√±o mec√°nico .
Fig. 3-14. Arquitectura del mecanismo de m√∫ltiples rieles .
Entre otros recientes e interesantes MPs ‚Äì , el mecanismo presentado por Rong et al. se
destaca ya que los autores propusieron un MP configurable (Fig. 3-15) que puede adaptarse a 32
configuraciones diferentes debido a su modo de bloqueo del motor, lo que permite muchos usos con
diferentes grados de libertad.
Fig. 3-15. MP configurable .
En el dise√±o de un MP, el an√°lisis din√°mico es una etapa crucial. Ayuda a comprender el rendimiento y
sirve para encontrar las dimensiones del robot mediante t√©cnicas de optimizaci√≥n.
3.2 Investigaciones en cinem√°tica y din√°mica
En el dise√±o de un MP el an√°lisis CI es una etapa esencial ya que permite conocer la relaci√≥n de
posicionamiento de la plataforma m√≥vil respecto a los actuadores (Secci√≥n 2.2). Por otra parte, como se
mencion√≥ en la Secci√≥n 2.4, el an√°lisis din√°mico permite determinar las fuerzas y torques relacionados con
el movimiento de la plataforma m√≥vil. A continuaci√≥n, se describen trabajos realizados con estos enfoques.
3.2.1 Avances en estudio de cinem√°tica inversa
Pedrammehr et al. evaluaron la CI de un MP tipo Hexarot, donde los modelos cinem√°ticos del
mecanismo se simularon para un escenario de movimiento dado utilizando MATLAB¬Æ y ADAMS¬Æ, los
cuales tuvieron concordancia con los del modelo ADAMS. De igual forma, Dharmalingum et al. 
presentaron el dise√±o y an√°lisis de un MP 5 DOF para manipulaci√≥n de piezas; donde, la CI fue una
extensi√≥n del m√©todo geom√©trico con el an√°lisis de cadenas cinem√°ticas internas y externas; el an√°lisis
cinem√°tico directo se resolvi√≥ utilizando el m√©todo de Newton-Raphson y los resultados de los an√°lisis
cinem√°ticos directo e inverso tambi√©n se validaron con simulaciones de MATLAB¬Æ y SolidWorks¬Æ.
Adicionalmente, Sheng y Li tambi√©n validaron la CI de un MP 3RRR con SimMechanics de
De forma complementaria, Russo et al. analizaron la CI de un MP 3-UPR con fines de dise√±o para
una aplicaci√≥n de pierna rob√≥tica. Ruiz et al. verificaron experimentalmente el impacto de las
redundancias con an√°lisis inverso cinem√°tico y el consumo energ√©tico de un MP.
El an√°lisis cinem√°tico inverso tambi√©n es usado para dise√±ar MP multioperaci√≥n o MP de dos
extremidades. De los primeros se estudian las restricciones que definen los . De los segundos, que
pueden tener ventajas, en t√©rminos de evasi√≥n de colisiones, arquitectura simple, transformaci√≥n de
configuraci√≥n r√°pida y gran WS, el an√°lisis cinem√°tico inverso proporciona una herramienta para encontrar
su configuraci√≥n √≥ptima .
Asimismo, se pueden encontrar en las bases de datos desarrollos como los de: Shen et al. con un
MP 3 DOFs; Vall√©s et al. con un MP enfocado en rehabilitaci√≥n de miembros inferiores; Ren et al.
 con 2 MP 6 DOFs para un robot b√≠pedo; Altuzarra et al. analizaron un MP considerando la
deformaci√≥n de eslabones; entre otros.
Respecto al an√°lisis de MPs con m√°s DOFs, se encuentra el estudio de CI en un Hunt 6 RUS hecho por
Gil y Aginaga et. al. quienes adem√°s trabajaron en las mejoras de la rigidez est√°tica de este
mecanismo usando las singularidades inversas. De forma similar Hesselbach et al. y Dehghani et al.
 determinaron una metodolog√≠a de calibraci√≥n para estos mecanismos basados en la CI.
Adicionalmente, existen implementaciones en la planificaci√≥n de trayectorias; tal como lo hicieron Chen et
al con adici√≥n de curvas B spline para manipular un MP 6UPU al igual que Li et al. quienes tambi√©n
trabajaron con una trayectoria de movimiento libre de singularidad del efector final mediante una curva Bspline de quinto orden.
Otros ejemplos de CI son los de: Antonov y Glazunov quienes estudiaron un MP 6 ODF de tres
cadenas cinem√°ticas, estableciendo el an√°lisis de movilidad basado en la teor√≠a del tornillo; Kausar et al.
 con su propuesta de un banco de mecanizado configurado como un MP 6 DOFs; Fomin et al. 
quienes se centraron en el an√°lisis cinem√°tico inverso y directo de un MP 6 DOFs con gu√≠a circular; Wang
et al que se inspiraron en la manipulaci√≥n de los brazos para proponer un MP 6 DOFs con dos
extremidades giratorias universales esf√©ricas; Liwei et al. y su estudio de un MP 6 DOFs utilizando el
m√©todo de geometr√≠a anal√≠tica espacial para CI; Thomas et al. quienes plantearon un modelo
cinem√°tico para un MP 3-PPSS usando el algoritmo de Levenberg-Marquardt y de predicci√≥n.
Asimismo se encuentran los trabajos de: Anirudh et al. MP 6 DOFs 3-RRRS donde implementaron
su control cinem√°tico a trav√©s de Arduino basado en el modelo de cinem√°tica inversa. Liang y Takeda 
quienes presentaron un m√©todo iterativo para resolver la CI de mecanismos paralelos de baja movilidad
(LMPM) y Han et al. que estudiaron un MP 6-P-RR-R-RR que debido a las juntas RR, la CI se calcul√≥
iterativamente mediante Newton-Raphson y la validaci√≥n se hizo utilizando MATLAB¬Æ, ADAMS¬Æ y un
prototipo f√≠sico.
3.2.2 Progresos en modelaci√≥n de la din√°mica
Como se mencion√≥ en la Secci√≥n 2.4 existen tres principales enfoques para la determinaci√≥n de la
din√°mica inversa de los MPs: la formulaci√≥n de N-E, la formulaci√≥n de E-L y el principio del VW; cada
uno de estos enfoques utiliza diferentes principios f√≠sicos y matem√°ticos para resolver el problema de la
din√°mica inversa y algunas implementaciones son descritas a continuaci√≥n.
3.2.2.1 Aplicaci√≥n de Newton Euler
En ocasiones, el an√°lisis din√°mico de los MPs es trabajado por el m√©todo anal√≠tico de la mec√°nica cl√°sica
y N-E. Por ejemplo, Bi y Kang investigaron las caracter√≠sticas din√°micas de un MP bajo esta
formulaci√≥n teniendo en cuenta la rigidez de los eslabones y considerando las ecuaciones de fuerza y
momento. Arian et.al. tambi√©n analizaron la din√°mica de un MP de 3 DOFs con el m√©todo N-E
presentando las fuerzas y torques de todas las articulaciones. Con el fin de validar los modelos din√°micos
y antes de implementarlos en mecanismos f√≠sicos, se sugiere utilizar software multif√≠sico como lo son
ADAMS¬Æ y SIMSCAPE ¬Æ. Como muestra de esto, Hraiech et al. trabajaron en el comportamiento
din√°mico de un mecanismo paralelo de 3 DOFs considerando las incertidumbres de sus par√°metros de
dise√±o, lo cual fue determinado por el formalismo N-E y un algoritmo basado en el operador Krawczyk y
finalmente validado con ADAMS¬Æ. Por otra parte, Zhang, Bing, et al. modelaron un mecanismo
accionado hidr√°ulicamente de 3 DOFs por el m√©todo N-E, y su verificaci√≥n fue desarrollada tambi√©n por
ADAMS¬Æ. Otros ejemplos de implementaci√≥n N-E con ADAMS¬Æ son los trabajos hechos por
Pedrammehr et al. quienes analizaron un Hexarot, Li, Jianfeng, et al. , Wang et al. , Zhao et
al. , Arian et al. y Cheng et al. con un an√°lisis de un MP redundante, entre otros. De estas
publicaciones se determina que, aunque N-E es independiente del sistema coordenado, este requiere largos
tiempos computacionales para determinar las reacciones internas, las cuales en muchas aplicaciones no se
requieren.
3.2.2.2 Soluciones con Euler Laplace
Debido a los problemas de eficiencia computacional y de informaci√≥n adicional que a veces no se
requiere se considera la formulaci√≥n E-L que no se enfoca en las fuerzas de reacci√≥n. Sin embargo, el
an√°lisis de MP usando el E-L puede ser exigente debido a que las derivaciones de la cadena cinem√°tica
consideran todas las coordenadas generalizadas independientes lo que ocasiona expresiones largas ,
especialmente si se quiere trabajar c√°lculo simb√≥lico como lo requieren los problemas de optimizaci√≥n. A
pesar de estos inconvenientes, hay estudios basados en E-L y algunos ejemplos se describen a continuaci√≥n.
Tom√°s et al. evaluaron modelo din√°mico de un mecanismo 3 PRUS con E-L y multiplicadores de
Lagrange y al igual que en anteriores estudios nombrados, ellos contrastaron sus resultados con ADAMS¬Æ.
Kuo y Tang propusieron un control de aceleraci√≥n apicando tratamiento de imagenes, cuyo objetivo
era adquirir la posici√≥n del efector final de un MP de 3 DOFs y reducir los c√°lculos relacionados con el
modelado E-L. La implementaci√≥n del sistema visual ayud√≥ a regular las aceleraciones de la posici√≥n y el
√°ngulo de orientaci√≥n del efector final al imponer un enfoque de servo visual que mejor√≥ el rendimiento
din√°mico y el c√°lculo del tiempo. Sin embargo, la adici√≥n de un sistema servo visual al controlador
incrementa la dificultad de implementaci√≥n. Otros autores que trabajaron con E-L fueron: Muralidharan et
al. con la din√°mica directa e inversa de una plataforma Gough-Stewart; Bernal et al. estudiaron
la din√°mica de un MP 6-3 PUS con validaci√≥n en MATLAB¬Æ y SOLIDWORKS¬Æ; Zhu et al. con
un MP 3 TPT; Geng et al. con la simplificaci√≥n de la distribuci√≥n de inercias de los cuerpos y Tsai
and Stamper con un MP translacional 3 DOFs, entre otros. En los anteriores trabajos se reportan
buenos resultados con la modelaci√≥n E-L; sin embargo, al momento de implementar esta metodolog√≠a en
problemas de optimizaci√≥n se requieren expresar de forma simb√≥lica lo que la hace larga, compleja,
propensa a errores y costosa computacionalmente debido a las derivadas parciales y al n√∫mero de
elementos.
3.2.2.3 Empleo del trabajo virtual
Por otro lado, el comportamiento din√°mico de los MPs tambi√©n puede establecerse por medio del VW
(Secci√≥n 2.4.3), existen varios ejemplos, como el de Danaei et.al. donde especificaron el modelo
din√°mico de un MP tipo Cuadripteron y el de Li et.al. cuyo trabajo se centr√≥ en analizar un MP de 5
DOFs enfocado en aplicaciones de manufactura. Debido a las m√∫ltiples aplicaciones de los m√©todos de la
teor√≠a de tornillos y el VW, Gallardo et.al. aplicaron ambas t√©cnicas en la determinaci√≥n de la
cinem√°tica y din√°mica de un MP de 4 DOFs e introduciendo el concepto de vector de primer orden para
computar las fuerzas asociadas a cualquier parte del MP y reduciendo el n√∫mero de par√°metros para
describir la din√°mica del robot. Al igual que en N-E y E-L, el VW puede ser validado con software de
simulaci√≥n mec√°nica. Como lo hicieron Chai et al. quienes dise√±aron, fabricaron y modelaron un MP
3 DOFs 2PRU-UPR y del cual su validaci√≥n fue por medio de ADAMS¬Æ software, al igual que lo hicieron
Yang et al. con un MP h√≠brido. De forma similar, lo hicieron Dongyi et al. quienes analizaron
din√°micamente un MP con una t√©cnica combinada N-E y VW y validaron esta propuesta por medio de
ADAMS¬Æ. Otros ejemplos son los trabajos de Li et al. , Han et al. con un MP 4 DOFs pickand-place. Xie et al. con un MP 3DOF redundante, y Arian et al. con un MP 4 DOFs basado en
movimiento tipo Sch”ßnflies.
En ocasiones, los modelos din√°micos son desarrollados con software matem√°tico y aplicados en
simuladores de estrategias de control. Uno de esto simuladores es SIMULINK¬Æ. Por ejemplo, Ghasemi et
al. derivaron la din√°mica con VW, propusieron un sistema de identificaci√≥n de posici√≥n para
evitar el modelo cinem√°tico directo y simplificar la expresi√≥n que fue introducida a SIMULINK¬Æ.
Otros desarrollos con VW y SIMULINK¬Æ. Fueron los presentados por Song et al. y Arian et al.
 . El valor agregado que tiene usar este software es que ayuda a realizar las deducciones
din√°micas ayuda a validar e implementar la estrategia de control; sin necesidad de exportaci√≥n,
traducci√≥n de formatos y versiones; adicionalmente los cambios se pueden hacer en tiempo real y
la implementaci√≥n f√≠sica se puede realizar conectando los puertos del computador a los drivers del
mecanismo.
3.3 Tendencias en espacio de trabajo
Como se mencion√≥ anteriormente, lo MP tienen un limitado WS y esto se debe a aquellas
configuraciones en donde el movimiento continuo instant√°neo no se pude determinar, estas configuraciones
se conocen como singularidades y muchos estudios se han concentrado en la forma de evitar estas
posiciones cr√≠ticas .
Cuando se desea dise√±ar un MP tambi√©n es necesario entender la naturaleza intr√≠nseca de las
singularidades y su relaci√≥n con la cinem√°tica y la configuraci√≥n del MP. Actualmente existen diferentes
puntos de vista de las singularidades en los MPs. Uno de los primeros estudios lo hizo Hunt donde se
defini√≥ las singularidades en configuraciones estacionarias y en las no definidas. Merlet propuso
aplicar la teor√≠a de geometr√≠a de Grassmann en el estudio de configuraciones particulares. M√°s adelante,
Gosselin y Angeles definieron 3 tipos de singularidades en t√©rminos del rango de la matriz. En
general, una posici√≥n singular en un MP se alcanza cuando el determinante de la matriz jacobiana es igual
a cero. Con base en esto, existen las singularidades de cinem√°tica directa y las de CI y m√°s recientemente
se han hecho estudios de singularidades utilizando la teor√≠a de tornillos. Debido a que la capacidad de
movimiento de la plataforma m√≥vil depende de las singularidades mec√°nicas del mecanismo, se puede
evidenciar la relaci√≥n directa entre estas y el WS.
Entre las variadas formas de hallar un WS existen enfoques anal√≠ticos como los de Gosselin y
Bonev y los basados en discretizaci√≥n. El primero puede ser potencialmente m√°s r√°pido y preciso,
pero aunque el segundo es de mayor consumo computacional (lo que depende del refinamiento del
muestreo) y con menor precisi√≥n, el an√°lisis solo se hace una vez, puede hacerse offline y es m√°s sencillo
de implementar.
Por ejemplo, Ye et.al. estudiaron el WS obteniendo los √°ngulos limites en el que el mecanismo no
tuviera singularidades; despu√©s, se determinaron capas sucesivas con separaci√≥n constante entre ellas y por
cada capa se hizo un barrido con la condici√≥n de que al analizar la cinem√°tica inversa, los √°ngulos
resultantes no cumplieran con los valores l√≠mite de singularidades. De forma similar trabajaron Azulay et.al.
 y An et.al. cuyos esfuerzos se concentraron en la determinaci√≥n de singularidades de la
discretizaci√≥n del espacio para as√≠ determinar la frontera del WS. Mirshekari et.al. compararon el WS
discretizado de 3 MP cada uno compuesto de 6 brazos con articulaciones rotacionales, universales y
esf√©ricas, concluyendo que el MP tipo Hexa ofrece el mayor WS (Fig. 3-16.). La Mura et.al. no solo
analizaron un WS discreto; adem√°s, generaron un algoritmo para que los movimientos dentro del WS fueran
suaves y as√≠ disminuir errores por inercia.
Fig. 3-16. WS alcanzado por 3 diferentes MP. A) Tipo Hexa. B) Tipo Hunt. C) Tipo Zamanov .
Otro m√©todo para determinar el WS es resolviendo la CI utilizando un an√°lisis de intervalos. El an√°lisis
de intervalos se enfoca en el an√°lisis continuo de una serie de puntos en vez de puntos discretos, lo cual
evita la omisi√≥n de zonas relacionadas con la resoluci√≥n o muestreo. El an√°lisis de intervalos provee una
herramienta para evaluar limites superiores e inferiores de una funci√≥n en la cual los intervalos son
desconocidos .
Por otra parte, Song et.al. validaron el movimiento de su prototipo MP definiendo el valor de cada
articulaci√≥n al indicar una la ubicaci√≥n requerida, luego transformaron ese valor a C√≥digo G. Este c√≥digo
G pas√≥ por un verificador de restricciones mec√°nicas y finalmente se hizo la transformaci√≥n a cuaterniones
para entrar al controlador de movimiento. El WS en las plataformas tipo Stewart est√° restringido por dos
variables de dise√±o. El rango de movimiento de los actuadores lineales y el √°ngulo de las articulaciones.
Otro an√°lisis de WS se ha hecho con base en el estudio de las singularidades cuando el MP posee varios
modos de ensamble o configuraci√≥n. Viegas et.al aplicaron la dependencia de las singularidades con
respecto a la nulidad de los determinante de las matrices Jacobianas seriales y paralelas. En el desarrollo de
su MP, describieron que, al haber nulidad en el determinante, se genera una p√©rdida de un DOFs en la
plataforma m√≥vil y el sistema se vuelve incontrolable. La fundamentaci√≥n de esto fue el trabajo de Gosselin
y Angeles .
En algunas ocasiones, el analizar la posici√≥n de la plataforma m√≥vil en coordenadas no cartesianas
facilita el trabajo, tal como lo hicieron Filho y Cabral , quienes determinaron el WS describiendo la
posici√≥n de la plataforma m√≥vil en coordenadas esf√©ricas y en una funci√≥n que determina si hay o no
restricciones corroborando el estado de las articulaciones. Para tal fin, desarrollaron un algoritmo de
b√∫squeda semejante a un Fibonacci. Al final, describieron el WS con una orientaci√≥n fija de la plataforma
m√≥vil y la relaci√≥n con la orientaci√≥n total.
A veces, se planea la fabricaci√≥n del MP para una tarea espec√≠fica, en donde se sabe el WS esperado,
as√≠ como lo plante√≥ Fiore et.al. , quienes definieron el volumen total de trabajo de su prototipo MP, en
donde exist√≠an mayores restricciones en el plano X y Y que en el Z, restricciones parecidas a un robot tipo
Delta. Por tal motivo se enfocaron en determinar un WS espec√≠fico de forma c√∫bica, forzando el dise√±o a
acaparar la mayor √°rea posible en X y Y sin ser afectado por las restricciones geom√©tricas del robot. Para
esto, aplicaron algoritmos gen√©ticos para encontrar la dimensi√≥n √≥ptima de las articulaciones.
Abeywaderna y Chen tambi√©n trabajaron con vol√∫menes predeterminados de trabajo. Describieron
las condiciones en las que su MP podr√≠a trabajar. Determinaron un volumen esperado de trabajo de forma
cil√≠ndrica (Fig. 3-17) y a partir de ah√≠ definieron las dimensiones del robot. Por costo computacional debido
a la discretizaci√≥n y a la simetr√≠a axial del WS esperado, se analiz√≥ solo una secci√≥n de restricciones
volum√©tricas para despu√©s realizar un patr√≥n circular de este espacio.
En otras ocasiones se requiere concentrar esfuerzos es en la destreza de movimientos del MP, tal como
lo hicieron Li y Angeles quienes relacionaron las caracter√≠sticas geom√©tricas del robot con un √≠ndice
de destreza, evidenciando la relaci√≥n entre las dimensiones de la plataforma, dimensiones de la base y la
altura de la plataforma m√≥vil de su prototipo.
Fig. 3-17. Posicionamiento del WS en un MP con an√°lisis cil√≠ndrico de espacio requerido de trabajo .
Para el an√°lisis espacial de MP tambi√©n se ha propuesto utilizar par√°metros adimensionales para evaluar
que tan lejos de una singularidad se encuentra la configuraci√≥n . Esto puede ser de utilidad en un
proceso de MA en donde se comparten espacios de trabajo entre varios MP .
En el estudio de los WS tambi√©n es relevante analizar otros par√°metros, por ejemplo, Miller 
investig√≥ la forma de dise√±ar MP en la que los WS tuvieran relaci√≥n con la manipulabilidad y la utilizaci√≥n
del espacio, con el fin de optimizar el campo de trabajo.
Desde otra perspectiva est√° el estudio de Zhang et.al. , el cual no solo determin√≥ el WS, sino tambi√©n
el numero condicional de la matriz jacobiana de velocidad. Esto lo realizaron con una orientaci√≥n constante
paralela de la plataforma m√≥vil con respecto a la base y modificando el √°ngulo entre la plataforma m√≥vil y
el brazo intermedio del prototipo. Por otro lado, Song et.al. propusieron examinar el WS de su prototipo
definiendo las restricciones del mecanismo, fundamentadas en el estudio del movimiento y la
transmisibilidad de potencia virtual generalizada global, lo anterior basados en la teor√≠a de tornillos.
Debido a que en ocasiones el movimiento de los brazos est√° inscrito en un volumen, usualmente una
esfera, el an√°lisis geom√©trico de las intersecciones de estos vol√∫menes ayuda a calcular el WS de un MP,
usualmente se utilizan herramientas gr√°ficas, de an√°lisis de volumenes y software de dise√±o asistido por
computador (CAD), tal como lo hizo Schreiber y Gosselin .
3.4 Estrategias de control en MPs
En cuanto a la estrategia de control, el comportamiento no lineal de la mayor√≠a de los PR y su necesidad
de controlar la relaci√≥n entre posiciones, velocidades y aceleraciones con los torques del motor, han sido
relevantes. Por lo tanto, los esquemas basados en errores y modelos son las principales estrategias de control
de los MP .
Existen implementaciones de algunos controladores para los MP. El control proporcional, integral y
derivativo (PID) y el control por modos deslizantes han sido los m√°s implementados. Sin embargo, aunque
el primero es el m√°s popular, no ha presentado buenos resultados debido a su incapacidad para garantizar
un buen rendimiento debido a la no linealidad de los MP . Por otra parte, el segundo, ha demostrado
mejores resultados ; sin embargo, el chattering del control atractivo a veces requiere energ√≠a adicional
debido a las incertidumbres y las perturbaciones externas.
Todos los controladores requieren sintonizar sus ganancias. Por lo general, es un procedimiento
emp√≠rico que no garantiza la mejor precisi√≥n y buen rendimiento ya que su implementaci√≥n ocurre despu√©s
del dise√±o y la fabricaci√≥n . Por lo tanto, es necesario incluir la sintonizaci√≥n a trav√©s del proceso de
dise√±o en paralelo.
El comportamiento de control tambi√©n tiene √≠ndices de rendimiento. En algunos casos, la energ√≠a
relacionada con el movimiento es cr√≠tica y se refiere a los requisitos de torque. Debido a esto, el esfuerzo
de control, que involucre los requisitos de torque a trav√©s del tiempo, es un indicador adecuado del
desempe√±o del MP .
3.5 Avances en la optimizaci√≥n de MPs
Otro enfoque relacionado con el estudio de los MPs es su optimizaci√≥n. Como se mencion√≥
anteriormente existen optimizaciones mono-objetivo y multi-objetivo. Respecto al primero, una funci√≥n
com√∫n en el an√°lisis de los MPs es el comportamiento din√°mico. Por ejemplo, Lu et al. optimizaron
un MP 3DOF 3 PPU minimizando la carga angular de las articulaciones con un an√°lisis de VW y validaci√≥n
con MATLAB¬Æ. Por otra parte, Yu et al. dise√±aron un MP 3 DOFs enfocado en la aspersion de pintura
pero que puede ser modificable para otras tareas; este sistema se optimiz√≥ utilizando CI y rendimiento
din√°mico, la contraparte din√°mica fue determinada por la teor√≠a VW. Otros estudios han considerado los
MPs y el WS como los de Zhang et al. , Rong et al. , Zhang et al. , Wu et al. y Zhao
Desde otro √°ngulo, se han desarrollado estrategias de optimizaci√≥n m√°s complejas de MPs trabajando
con m√°s par√°metros de dise√±o e indicadores. Por ejemplo Canran et al. optimizaron y estudiaron 4
mecanismos paralelos planares analizando aspectos cinem√°ticos, mec√°nicos y de transmisi√≥n como
par√°metros de entrada y como afectan estos el WS, para esto dieron pesos a esos par√°metros y evaluaron
los resultados del WS analizando las combinatorias de los factores de peso. De forma similar, Russo et al.
 consiguieron una optimizaci√≥n que se hizo con una funci√≥n mono-objetivo de algoritmos gen√©ticos y
la t√©cnica de sumatoria normalizada de pesos de funciones, donde a cada funci√≥n objetivo se le asign√≥ un
peso. Este peso fue variado en un algoritmo. Del mismo modo, Yu et al. se enfocaron en un MP 5
DOFs para pintar. Analizaron el WS, la manipulabilidad, la precisi√≥n de desempe√±o y el comportamiento
din√°mico. Luego, definieron 3 parametros de dise√±o relacionado con las longitudes de los brazos y
optimizaron agregando peso a las funciones para analizarlo con algoritmos gen√©ticos mono-objetivo.
Tambien existen desarrollos con tendencia multi-objetivo, algunos ejemplos son el de Huang et al. 
quienes presentaron un MP 3 DOFs de estructura modificable enfocada en procesos de manufactura;
utilizaron una optimizaci√≥n de algoritmos gen√©ticos y generaron un frente de Pareto; analizaron cuatro
par√°metros de dise√±o y 3 FOs; al final, presentaron un indicador de selecci√≥n de la mejor opci√≥n del FP
llamada a comprehensive index que se basa en la sumatoria de las FOs. Adem√°s, Li et al. dise√±aron
un MP 6 DOFs tipo Stewart considerando cuatro FOs, cuatro variables de dise√±o y una trayectoria
sinosoidal en las tres dimensiones usando dos estrategias, la primera una de tipo mono-objetivo con
modificaci√≥n de pesos a las FOs y luego una optimizaci√≥n con Non-dominated Sorting Genetic Algorithm
(NSGA II). Al final, analizaron el FP y escogieron bajo sus requerimientos la mejor opci√≥n. Asimismo, Shi
et al. dise√±aron una MP de 3 DOFs considerando el largo de los brazos y dos √°ngulos de configuraci√≥n
como variables de dise√±o y el WS y un indice de destreza como FOs, luego generaron un FP usando
NSGA II de MATLAB¬Æ.
Adicionalmente, Zhou et al. trabajaron con un MP 3DOF que consta de acuadores lineales fijos
en la base y una estructura con paralelogramos para mejorar la estabilidad. Aunque evaluaron 4 indicadores,
se enfocaron en el WS y un indicador de carga para su dise√±o. La longitud de los brazos la determinaron
con algoritmos gen√©ticos. Igualmente, Sun and Lian optimizaron un MP con un enfoque multiobjetivo generando un FP entre la rigidez y la masa. finalmente, Enferadi et al. presentaron la
optimizaci√≥n de un MP 3UPS -S usando 3 par√°metros de dise√±o y 4 FOs; los cuales fueron implementados
en un NSGA-II de MATLAB¬Æ.
3.6 Conclusi√≥n del an√°lisis del estado del arte
En conclusi√≥n,aunque existe una variedad de MPs, aquellos con 5 y 6 DOFs permiten los movimientos
que se esperan en MA de la plataforma m√≥vil y disminuyen las imprecisiones causadas por los mecanismos
lineales; sin embargo, ofrecen un WS reducido. En los casos en que se desacoplaron movimientos lineales
y rotacionales, la ubicaci√≥n de motores a un extremo de los brazos incrementa las inercias y los
requerimientos de control, para disminuir estos efectos se ubican los actuadores en la plataforma fija del
La fabricaci√≥n, ensamblaje y mantenimiento del MP tambi√©n es un aspecto a considerar, debido a que
como la MA cobra cada vez m√°s fuerza, los componentes relacionados con el proceso, ensamblaje y
tolerancias de manufactura deben ser viables. Por ejemplo aunque actuadores roscados presentan
resultados, la fabricaci√≥n y puesta a punto de √©stos es compleja por las tolerancias.
Debido a que el MP necesita ser controlado, es indispensable determinar su comportamiento din√°mico,
esto se hace por medio de la modelaci√≥n din√°mica. De las tres metodolog√≠as m√°s usadas el VW es
computacionalmente m√°s eficiente y puede aplicarse con software matem√°tico para ser implementado en
el controlador en tiempo real. Esto ocurre porque no se requieren derivadas parciales, an√°lisis simb√≥lico ni
estudio de reacciones en las articulaciones. Cabe resaltar que los MPs sim√©tricos favorecen la modelaci√≥n
por la reducci√≥n de escenarios a analizar.
Por otra parte, las optimizaciones implementadas en los MPs se han concentrado en las longitudes de
los brazos y en indicadores como WS y la cinem√°tica; adem√°s, al incrementar el n√∫mero de FOs hay
tendencia a trabajar estas optimizaciones de forma mono-objetivo con valores de peso a las funciones.
Por lo anterior, esta tesis desarrolla una metodolog√≠a de dise√±o para un MP enfocado en MA que
considere 5 o 6 DOFs; que analice lo siguiente: el WS, un apropiado √≠ndice de manipulabilidad, indicadores
de esfuerzo y error de control, as√≠ como las ganancias del controlador; y que se determinen simultaneamente
a trav√©s de una estrategia de optimizaci√≥n multi-objetivo como lo es por ejemplo la ED.
4 DESCRIPCI√ìN DEL MECANISMO
En esta secci√≥n se profundiza la descripci√≥n del MP a dise√±ar entre varios candidatos para luego mostrar
sus caracter√≠sticas m√°s relevantes. Por esto, se abordan temas como metodolog√≠as de comparaci√≥n, criterios
de selecci√≥n, configuraciones de las plataformas fijas y m√≥viles y resistencia de los eslabones, entre otros
aspectos. Luego, se analiza el comportamiento cinem√°tico inverso del MP seleccionado y finalmente se
determina su modelo din√°mico inverso.
4.1 Selecci√≥n del mecanismo
La selecci√≥n del MP se hace considerando los siguientes pasos: Primero, se preseleccionan 6 MPs de
acuerdo con su posible aplicaci√≥n en MA y a la cantidad de informaci√≥n de estos publicada. Segundo, se
determina la metodolog√≠a de selecci√≥n basada en escalas de importancia de criterios relevantes para su
construcci√≥n y aplicaci√≥n en MA. Tercero, se definen los criterios de selecci√≥n para finalmente implementar
la metodolog√≠a y seleccionar bajo sumatoria de resultado de evaluaci√≥n y comparaci√≥n de criterios el MP a
desarrollar.
4.1.1 Mecanismos analizados
Con base en los MPs m√°s estudiados y con proyecci√≥n a ser implementados en MA, se eligieron
preliminarmente los seis mecanismos de la Fig. 4-1, detallados en la Secci√≥n 3.1, como alternativas a ser
escogidas.
4.1.2 Metodolog√≠a de selecci√≥n
La metodolog√≠a utilizada es AHP. Esta metodolog√≠a es utilizada para la toma de decisiones y la
resoluci√≥n de problemas complejos de criterios m√∫ltiples. Fue desarrollada por Thomas L. Saaty y se basa
en la comparaci√≥n de las caracter√≠sticas de varias opciones con el fin de jerarquizarlas , . La
ventaja de este m√©todo es que se pueden incluir datos cuantitativos y cualitativos que por su an√°lisis muchas
veces no son considerados, pero pueden ser relevantes para la toma de decisiones. El m√©todo se basa en un
sistema de cotejo por pares donde se comparan 2 criterios bajo el esquema de medici√≥n descrita en la Tabla
4-1 y luego se analizan cada una de las alternativas con base en los mismos criterios. La Fig. 4-2 describe
gr√°ficamente este cotejo.
HEXA 6 RUS 
Zamanov 6RUS 
Hunt 6 RUS 
Stewart 
Hexapteron 
Fig. 4-1. MPS preliminarmente seleccionados.
Tabla 4-1. Escala fundamental de valoraci√≥n.
Intensidad de importancia en una
escala absoluta
Definici√≥n
Igual importancia.
Moderada importancia de uno sobre otro.
Esencial o fuerte importancia.
Muy fuerte importancia.
Extrema importancia.
2, 4, 6 y 8
Valores intermedios
Fig. 4-2. Esquema de asociaci√≥n de criterios
4.1.3 Definici√≥n de criterios
Se definen los criterios de evaluaci√≥n para los seis MPs alternativos descritos anteriormente. Estos
criterios son: movimiento continuo, precisi√≥n, robustez, simplicidad de fabricaci√≥n y WS y su relevancia
se basa en estudios anteriores .
Las caracter√≠sticas de los MPs se fueron tomadas de las investigaciones de: , , , ,
 , respectivamente y la descripci√≥n de cada uno de estos criterios se resume en la Tabla 4-2.
El cotejo por pares de todos los criterios descrito en la Tabla 4-2 y valorado como en la Tabla 4-1 da
como resultado la Tabla 4-3; la cual, describe entre otras cosas que es moderadamente m√°s importante
(valor 4) el movimiento continuo que la Robustez, entre otras relaciones. Una vez analizadas estas
comparaciones, el an√°lisis de todo el conjunto de criterios determin√≥ en su comparaci√≥n paritaria que el
criterio m√°s relevante es el de movimiento continuo, seguido por la precisi√≥n, el WS, la robustez y
finalmente la simplicidad de fabricaci√≥n.
La Tabla 4-3 describe los resultados del an√°lisis y los valores normalizados de la matriz de pesos; de los
cuales, la mejor opci√≥n es la cual se acerca a uno punto cero (1.0). En este caso, la mejor alternativa es el
robot paralelo HEXA 6RUS, seguido por el Hunt 6 RUS. En la Fig. 4-3 se visualiza la sumatoria de los
criterios justificando la elecci√≥n.
Tabla 4-2. Descripci√≥n de criterios.
Descripci√≥n
Movimiento continuo
Se relaciona con la capacidad de generar movimientos continuos
sin escalones o sobresaltos. Tiene relaci√≥n con el tipo de actuador.
Los actuadores de movimientos discretos disminuyen esta
capacidad.
La m√≠nima diferencia que existe entre la posici√≥n final de la
plataforma m√≥vil con respecto a la posici√≥n que fue enviada desde
el punto de control.
Capacidad f√≠sica de la estructura para evitar distorsiones del
movimiento debido a las vibraciones del ensamblaje.
Simplicidad de la
fabricaci√≥n
Las piezas geom√©tricamente complejas, involucran mayor tiempo
de fabricaci√≥n, m√°s material e incremento en el costo.
Cada mecanismo posee un volumen en el cual pueden moverse,
este volumen tiene restricciones relacionadas con la geometr√≠a de
los actuadores y la cinem√°tica conjunta del paralelismo de estos.
Tabla 4-3. Comparaci√≥n entre criterios.
Movimiento
Simplicidad
Fabricaci√≥n
Comparaci√≥n
Movimiento
Simplicidad
Fabricaci√≥n
Tabla 4-4. An√°lisis de alternativas.
Movimiento
Precisi√≥n Robustez
Simplicidad
Resultado de AHP
HEXA 6 RUS
Hunt 6 RUS
Zamarov 6 RUS
Hexapteron
Fig. 4-3. Representaci√≥n gr√°fica de la selecci√≥n.
4.2 Especificaciones del mecanismo
La Fig. 4-4 muestra el esquem√°tico del MP tipo HEXA 6RUS. Este consta de seis brazos con tres tipos
de articulaciones: rotacional, universal y esf√©rica o RUS (Fig. 4-5). Cada brazo est√° fijo a una plataforma
fija superior (Fig. 4-6) por su articulaci√≥n rotacional y por el otro extremo la articulaci√≥n esf√©rica est√° unida
a una plataforma m√≥vil (Fig. 4-7). La articulaci√≥n rotacional es la activa debido a que en esta se fijan los
motores. Los motores son DC de 48V y 60 W, con un sistema planetario que ofrece 4.5 Nm, todo de marca
MAXON¬Æ y detallado en el Anexo B
Adem√°s, cada brazo consta de dos eslabones: el superior y el inferior: El primero va desde el punto ùê¥
hasta el punto ùêµ con una longitud ùëô‡Øï, el segundo va desde el punto ùêµ hasta el punto ùê∂ con una longitud ùëô‡Ø•;
los seis brazos tienen el mismo valor de ùëô‡Øï y ùëô‡Ø•.
El dimensionamiento de la estructura tiene en cuenta varias consideraciones como las dimensiones de
las plataformas, los materiales, las dimensiones de los eslabones y el comportamiento mec√°nico de los
brazos, las cuales se detallan a a continuaci√≥n.
Los materiales de fabricaci√≥n inciden en la resistencia, rigidez, masa y confiabilidad del MP. Existe una
amplia gama de materiales polim√©ricos y met√°licos usados para estos mecanismos. Sin embargo, los
primeros no poseen l√≠mites de fatiga que obligan a descartarlos. Las aleaciones met√°licas en cambio tienen
ventajas en cuanto a la resistencia a la fluencia, a la fatiga, facilidad de mecanizado y de stock, por lo que
fueron usadas en el MP HEXA 6RUS.
La dimensi√≥n ùê∑ de la plataforma fija (Fig. 4-6) est√° relacionada directamente con el torque del motor,
entre m√°s grande esta dimensi√≥n, mayores requerimientos, esta es una plataforma mecanizada en un Acero
AISI 1045 y sus dimensiones se detallan en la Tabla 4-5. Por otra parte, los requerimientos de torques
obligan a que la plataforma m√≥vil sea lo m√°s peque√±a y liviana posible. Esta plataforma est√° fabricada en
6RUS Zamarov
Hexapteron
Robots opcionales
Mov-Continuo
Simplicidad
Volumen de trabajo
Aluminio 7075 T6 y fue dimensionada para que las articulaciones esf√©ricas y el extrusor estuvieran
organizados de forma compacta (Tabla 4-5).
Adicionalmente, los eslabones de los brazos fueron dise√±ados en Aluminio 7075 T6 con un perfil
cil√≠ndrico de 8 y 6 mm de di√°metro para los eslabones superiores e inferiores respectivamente.
Las consideraciones estructurales buscan garantizar criterios de resistencia y estabilidad. Las piezas que
m√°s requerimientos mec√°nicos necesita son los brazos. El dise√±o de estos brazos debe considerar la
resistencia, rigidez y la vida √∫til de los eslabones. Para esto, se toma como base la posici√≥n m√°s cr√≠tica del
eslab√≥n superior, la cual es cuando este act√∫a como una barra empotrada paralela a la plataforma fija, tal
como lo indica la Fig. 4-8, donde ùêπ‡Ø† es una sexta parte de la masa de la plataforma m√≥vil, ùêπ‡¨∂ es la fuerza a
la tracci√≥n del eslab√≥n inferior, ùêπ‡¨µy ùëÄ‡Øç son la carga que soporta y el momento flector del eslab√≥n superior.
Por otra parte, el eslab√≥n inferior est√° sometido a una tensi√≥n por las fuerzas ùêπ‡¨∂.
Fig. 4-4. Esquem√°tico de la configuraci√≥n del HEXA 6RUS.
Fig. 4-5. Esquem√°tico de la configuraci√≥n de un brazo del HEXA 6RUS.
Fig. 4-6. Esquem√°tico de la configuraci√≥n de la plataforma fija superior HEXA 6RUS.
Fig. 4-7. Esquem√°tico de la configuraci√≥n de la plataforma m√≥vil del HEXA 6RUS.
Tabla 4-5. Dimensiones de las plataformas.
Descripci√≥n
Con respecto al eslab√≥n superior, este se encuentra en un estado combinado de flexi√≥n-torsi√≥n-carga por
lo que su an√°lisis utiliza la teor√≠a de Von Mises combinada con an√°lisis de fatiga. Para este dise√±o se
contempla el criterio de Goodman modificado (4-1) y los par√°metros del material (Tabla 4-6) donde:
ùëõ‡Øô es el factor de seguridad (Tabla 4-6).
ùëÜ‡Ø¨ es la resistencia a la fluencia (Tabla 4-6).
ùëÜ‡Øî es la resistencia alternante ùëÜ‡Øî= ùëÜ‡Ø¨‚àíùëÜ‡Ø†.
ùëÜ‡Øò l√≠mite de resistencia a la fatiga (4-2).
ùëÜ‡Ø† resistencia media (4-5).
ùëÜ‡Ø®‡Øß resistencia a la tensi√≥n (Tabla 4-6).
ùê∑‡Øï Di√°metro del eslab√≥n (Tabla 4-6).
ùêπ‡¨∂ fuerza a la tracci√≥n del eslab√≥n inferior ùêπ‡¨∂= ùêπ‡Ø† ùë°ùëéùëõ (ùõº).
Fig. 4-8. Esquem√°tico de la distribuci√≥n de fuerzas de un brazo.
ùëÜ‡Øò= ‡∂•ùúé‡Øò‡¨∂+ 3ùúè‡Øò‡¨∂
ùúé‡Øò: Esfuerzo m√°ximo en flexi√≥n para una viga circular (4-3).
ùúè‡Øò: Esfuerzo m√°ximo cortante para una viga circular (4-4).
2ùêº+ 4 ùêπ‡¨∂cos (ùõº)
ùëÜ‡Ø†= ‡µ´ùëÜ‡Ø¨‚àíùëÜ‡Øò‡µØùëÜ‡Ø®‡Øß
Respecto al eslab√≥n inferior, este est√° principalmente sometido a tensi√≥n y debe cumplir con (4-6),
donde ùëÜ‡Øß es el esfuerzo a la tensi√≥n en el eslab√≥n y ùê∑‡Ø• es el di√°metro del eslab√≥n (Tabla 4-6).
Tabla 4-6. Algunas propiedades del Aluminio 7075 T6 y de los eslabones.
En conclusi√≥n, se eligi√≥ el HEXA 6 RUS como MP a trabajar llevando a cabo lo siguiente: En primer
lugar, se preseleccionaron seis posibles MP seg√∫n su aplicabilidad en MA y la cantidad de informaci√≥n
publicada sobre ellos. En segundo lugar, se implement√≥ la metodolog√≠a AHP que se basa en escalas de
importancia para los criterios: movimiento continuo, precisi√≥n, robustez, simplicidad de fabricaci√≥n y WS.
Una vez analizados los MPs, la suma de los resultados de evaluaci√≥n y la comparaci√≥n de criterios present√≥
el elegido. Luego, se detall√≥ la configuraci√≥n mec√°nica del HEXA 6 RUS y algunas consideraciones
estructurales de los eslabones: para que los eslabones garanticen estabilidad dimensional y una vida √∫til,
deben contemplar las condiciones de resistencia a la fatiga y a la fluencia las cuales son obligatorias de
cumplir. En el resto de este trabajo se concentran esfuerzos en el dise√±o del HEXA 6 RUS.
4.3 Determinaci√≥n de la cinem√°tica inversa
Como se nombr√≥ en la Secci√≥n 2.2, la CI consiste en determinar las coordenadas generalizadas del
actuador seg√∫n la posici√≥n y orientaci√≥n de la plataforma m√≥vil respecto, para ello, inicialmente se
describen los v√©rtices de las plataformas y luego de desarrolla el modelo matem√°tico de la relaci√≥n
plataforma m√≥vil ‚Äì actuador (Fig. 4-4).
En este trabajo la CI toma particular inter√©s debido a que el MP va a ser aplicado en MA, donde las
posiciones y velocidades de la plataforma m√≥vil deben seguirse seg√∫n el software discretizador; adem√°s,
los √°ngulos y posiciones determinados en la CI luego son usados en el modelamiento din√°mico
(Secci√≥n 4.4), que a su vez ayuda a determinar indicadores de desempe√±o (i.e. manipulabilidad (Secci√≥n
5.2)); adicionalmente, la CI se usa en el c√°lculo del WS (Secci√≥n 5.1). Sin embargo, para mayor informaci√≥n
acerca del desarrollo de la cinem√°tica directa del HEXA 6 RUS puede consultarse el trabajo de
Valencia et al. .
4.3.1 V√©rtices de las plataformas
Las i-√©simas coordenadas de los v√©rtices de la plataforma fija superior (ùíÉùíÇùíä) se describen seg√∫n
(4-8) a (4-13), mientras que los i-√©simos v√©rtices de la plataforma m√≥vil (ùëùùëô‡Øú) se describen de (4-14) a
(4-19), todo con base en la Fig. 4-4. Donde ùêöùíä y ùêúùíä son vectores del centro de la plataforma fija y m√≥vil
respectivamente al i-√©simo v√©rtice, mientras ùê∑ y ùëë son la magnitud de media arista de las plataformas fija
ùíÉùíÇùüè= ‡µ£a ùëêùëúùë†‡µ´ùëéùë†ùëñùëõ(ùê∑/a)‡µØ
ùíÉùíÇùüê= ‡µ£a ùëêùëúùë†‡µ´ùëéùë†ùëñùëõ(ùê∑/a)‡µØ
ùíÉùíÇùüë= ùëπùíõ(120) ùëèùëé‡¨µ
ùíÉùíÇùüí= ùêëùê≥(120) ùëèùëé‡¨∂
ùíÉùíÇùüì= ùêëùê≥(120) ùëèùëé‡¨∑
ùíÉùíÇùüî= ùêëùê≥(120) ùëèùëé‡¨∏
ùíëùíçùüè= ‡µ£c ùëêùëúùë†‡µ´ùëéùë†ùëñùëõ(ùëë/c)‡µØ
ùíëùíçùüê= ‡µ£c ùëêùëúùë†‡µ´ùëéùë†ùëñùëõ(ùëë/c)‡µØ
ùíëùíçùüë= ùêëùê≥(120‡Ø¢) ùíëùíçùüè
ùíëùíçùüí= ùêëùê≥(120‡Ø¢) ùíëùíçùüê
ùíëùíçùüì= ùêëùê≥(120‡Ø¢) ùíëùíçùüë
ùíëùíçùüî= ùêëùê≥(120‡Ø¢) ùíëùíçùüí
La matriz de rotaci√≥n de la referencia absoluta ùêπ a la referencia que se encuentra en el centro de la
plataforma m√≥vil (‚Ñë) se determina con (4-20). Donde ùúë , ùúÉ y ùúì son los √°ngulos de rotaci√≥n respecto a la
referencia ùêπ.
ùï¥= ùêëùê≤(ùúÉ)ùêëùê±(ùúë) ùêëùê≥(ùúì)
4.3.2 Modelo matem√°tico para la cinem√°tica inversa
Inicialmente, se halla una referencia relacionada con cada v√©rtice de la plataforma fija (ùêπùëñ) y con cada
v√©rtice de la plataforma m√≥vil (‚Ñ±ùëñ). Las matrices de rotaci√≥n de F a ùêπùëñ y de ‚Ñë a ‚Ñ±ùëñ se representan con ùêëùêÖùê¢
(4-21) respectivamente y las cuales dependen del √°ngulo de rotaci√≥n ùõº‡Øú (4-22), considerando que
ùëñ =1, ‚Ä¶, 6.
Luego, la traslaci√≥n de la referencia ùêπùëñ y ‚Ñ±ùëñ a los v√©rtices de la plataforma fija (ùê¥‡Øú) y m√≥vil (ùê∂‡Øú)
son(4-23) y (4-24) respectivamente.
De este modo, el vector que describe la posici√≥n de ùê¥‡Øú respecto a ùêπ es (4-25).
En la Fig. 4-4, el marco de referencia ùëì‡Øú= ‡µ£ùë•‡Øô‡Øú, ùë¶‡Øô‡Øú, ùëß‡Øô‡Øú‡µß est√° configurado para que ùëß‡Øô‡Øú coincida con el
eje de rotaci√≥n y que ùë¶‡Øô‡Øú est√© perpendicular hacia arriba con respecto a la plataforma fija. Como resultado,
la rotaci√≥n del marco ùëì‡Øú con respecto a ùêπùëñ es (4-26).
= ùêëùíõ(180‡Ø¢)ùêëùíô(90‡Ø¢)
El vector ùíçùíÉ que describe el i-√©simo eslab√≥n superior es (4-27), el cual inicia en ùê¥‡Øú y termina en ùêµ‡Øú.
Donde ùúÅ es el √°ngulo de rotaci√≥n de la articulaci√≥n activa seg√∫n Fig. 4-4.
|ùëô‡Øï|[ùëêùëúùë†ùúÅ, ùë†ùëñùëõùúÅ, 0]‡Øç
La posici√≥n de la articulaci√≥n universal ùêµ‡Øú con respecto a la referencia ùêπ es (4-28).
ùíëùíÉ‡Øú= ùíçùíÉùíä+ ùíëùíÇùíä
Teniendo en cuenta que la posici√≥n deseada de la plataforma m√≥vil es (4-29).
La posici√≥n de la articulaci√≥n esf√©rica ùê∂‡Øú con respecto a la referencia ùêπ es (4-30).
Si ùêµ‡Øú= [ùêµ‡Ø´‡Øú
ùêµ‡Ø≠‡Øú]‡Øç y ùê∂‡Øú= [ùê∂‡Ø´‡Øú
ùê∂‡Ø≠‡Øú]‡Øç, la longitud al cuadrado del eslab√≥n ùëô‡Ø•
‡¨∂ es(4-31).
‡¨∂= (ùê∂‡Ø´‡Øú‚àíùêµ‡Ø´‡Øú)‡¨∂+ ‡µ´ùê∂‡Ø¨‡Øú‚àíùêµ‡Ø¨‡Øú‡µØ
‡¨∂+ (ùê∂‡Ø≠‡Øú‚àíùêµ‡Ø≠‡Øú)‡¨∂
0 = (ùê∂‡Ø´‡Øú‚àíùêµ‡Ø´‡Øú)‡¨∂+ ‡µ´ùê∂‡Ø¨‡Øú‚àíùêµ‡Ø¨‡Øú‡µØ
‡¨∂+ (ùê∂‡Ø≠‡Øú‚àíùêµ‡Ø≠‡Øú)‡¨∂‚àíùëô‡Ø•‡Øú
La ecuaci√≥n (4-31) puede ser expresada como la multiplicaci√≥n de 2 vectores igualada a cero, tal como
lo indica(4-32).
√∞‡¨π‡Øú][ùë†ùëñùëõ‡¨∂ùúÅ‡Øú
Por lo tanto, ùúÅ‡Øú es (4-33).
ùúÅ‡Øú= arctan(ùëõùë¢ùëö/ùëëùëíùëõ)
√∞‡¨µ‡¨π‡Øú= √∞‡¨µ‡Øú+ √∞‡¨π‡Øú
ùëõùë¢ùëö= ·âÜ√∞‡¨µ‡¨π‡Øú√∞‡¨∂‡Øú
‡¨∂‚àí√∞‡¨∏‡Øú‡∂ß‚àí√∞‡¨∂‡Øú
‡¨∂‡µØ·âá/ ·âÄ√∞‡¨∂‡Øú‡µ´√∞‡¨∏‡Øú
ùëëùëíùëõ= ·âÜ√∞‡¨µ‡¨π‡Øú√∞‡¨∏‡Øú
En el punto ùê¥‡Øú del marco de referencia ùëÅ‡Øú= [ùë•‡Øá‡Øú, ùë¶‡Øá‡Øú, ùëß‡Øá‡Øú] de la Fig. 4-4, el eje ùëß‡Øá‡Øú coincide con ùëß‡Øô‡Øú y
ùë•‡Øá‡Øú con ùê¥ùêµ‡Øú; como resultado, la rotaci√≥n del marco ùëÅ‡Øú con respecto a ùëì‡Øú es(4-34).
La rotaci√≥n del marco de referencia ùëÅ‡Øú con respecto a ùêπ teniendo en cuenta (4-21), (4-26) y (4-34) es
Ahora, es necesario determinar el vector unitario ùíí‡Øú que tiene la misma direcci√≥n del eslab√≥n que apunta
a ùê∂‡Øú desde ùêµ‡Øú. Para esto, lo primero es determinar la ecuaci√≥n de la cadena cerrada de cada extremidad
seg√∫n (4-36).
ùíëùíÇ‡Øú+ |ùëô‡Øï|ùíî‡Øú+ |ùëô‡Ø•|ùíí‡Øú= ùíë+ ùíÑ‡Øú
Donde ùíîùíä es el vector unitario expresado en(4-37) y que apunta a ùêµ‡Øú desde ùê¥‡Øú, ùíÑ‡Øú (4-38) es el vector que
une el centro de la plataforma m√≥vil a la articulaci√≥n esf√©rica, tal como lo indica la Fig. 4-4. Para hallar ùíî‡Øú
se requieren expresar el vector del eslab√≥n superior desde la referencia ùëÅùëñ :
Por lo tanto, ùííùíä es (4-39).
ùíí‡Øú= (ùíë+ ùíÑ‡Øú‚àíùíëùíÇ‡Øú‚àí|ùëô‡Øï|ùíî‡Øú)/|ùëô‡Ø•|
Ahora, se requiere saber la matriz de transformaci√≥n del marco de referencia ‚Ñè‡Øú= [ùë•‚Ñè‡Øú, ùë¶‚Ñè‡Øú, ùëß‚Ñè‡Øú] con
respecto a la referencia ùêπ. Para lo anterior se requieren dos marcos de referencia, el ‚Ñò y el ‚Ñè como lo
muestra la Fig. 4-9. Primero, el eje ùë•‚Ñè‡Øú esta alineado con el eslab√≥n inferior y su eje ùëß‚Ñè‡Øú con el eje de giro
de la articulaci√≥n universal. Para esto, lo primero que se necesita es rotar 90‡Ø¢ con respecto a ùë•‡Øá‡Øú en el
marco de referencia ùëÅ‡Øú (Fig. 4-9. A), esto genera un nuevo marco de referencia ‚Ñòùëñ definido en (4-40).
Luego, la matriz de rotaci√≥n de la referencia ‚Ñè‡Øú con respecto a ‚Ñò‡Øú=‡µ£ùë•‚Ñò‡Øú, ùë¶‚Ñò‡Øú, ùëß‚Ñò‡Øú‡µß puede ser calculada.
Inicialmente, el eje ùë•‚Ñò‡Øú est√° alineado con ùíçùíÉ‡Øú; as√≠ que se debe hacer una primera rotaci√≥n ‚Ñß‡¨µ‡Øú respecto al eje
ùë¶‚Ñò‡Øú; luego, se rota en el eje z de la nueva referencia un √°ngulo de ‚Ñß‡¨∂‡Øú(4-41).
Fig. 4-9. Ubicaci√≥n de los planos de referencia A) ‚Ñò y B) ‚Ñè.
= ùêëùíô(90‡Ø¢)ùêëùíö(‚Ñß‡¨µ‡Øú)ùêëùíõ(‚Ñß‡¨∂‡Øú)
Por lo anterior, la matriz de rotaci√≥n para expresar el marco de referencia ‚Ñè‡Øú con respecto a ùêπ es (4-42)
, tal como lo indica la Fig. 4-9 B.
Los √°ngulos ‚Ñß‡¨µ‡Øú y ‚Ñß‡¨∂‡Øú se determinan de la siguiente forma. Si el vector ùíí‡Øú con respecto a ‚Ñèùëñ es(4-43) y
ùíí‡Øú respecto a ùêπ es (4-39) entonces ùíí‡Øú es (4-44); donde ‚Ñö es una matriz de transformaci√≥n.
ùëêùëúùë†(‚Ñß‡¨∂‡Øú)ùë†ùëñùëõ(‚Ñß‡¨µ‡Øú)
ùëêùëúùë†(‚Ñß‡¨∂‡Øú)ùëêùëúùë†(‚Ñß‡¨µ‡Øú)
Invirtiendo la matriz ‚Ñö y multiplic√°ndola por ùëû‡Øú ya se puede determinar ‚Ñß‡¨µ‡Øú y ‚Ñß‡¨∂‡Øú seg√∫n (4-45), teniendo
en cuenta que ‚Ñã= [‚Ñã‡¨µ, ‚Ñã‡¨∂, ‚Ñã‡¨∑]‡Øç.
[‚Ñö]‡¨ø‡¨µùëû‡Øú= ‚Ñã
‚Ñß‡¨µ‡Øú= atan (‚Ñã‡¨∂‡Øú/‚Ñã‡¨∑‡Øú)
‚Ñß‡¨∂‡Øú= arcsin (‚Ñã‡¨µ‡Øú)
Finalmente, considerando la Fig. 4-4, el vector que describe al i-√©simo eslab√≥n inferior (ùíçùíì‡Øú), el cual
inicia en la articulaci√≥n universal ùêµ‡Øú y termina en la esf√©rica ùê∂‡Øú es(4-46).
ùíçùíì‡Øú= ùíÑ‡Øú+ ùíë‡Øç‚àí‡µ´ùíçùíÉ‡Øú+ ùíëùíÇ‡Øú‡µØ
4.4 Desarrollo de la modelaci√≥n din√°mica
Como se mencion√≥ anteriormente, existen distintas formas de obtener el modelo matem√°tico de la
din√°mica de un robot paralelo como lo son N-E, E-L y VW. Este √∫ltimo se basa en adoptar el principio de
D‚ÄôAlembert en el cual la suma de las fuerzas a trav√©s de un desplazamiento virtual del mecanismo es igual
a cero y ha demostrado ser uno de los menos exigentes a nivel computacional , por lo que se
aplica en el an√°lisis del HEXA 6RUS. Este an√°lisis consta del an√°lisis de velocidad y aceleraci√≥n, la
evaluaci√≥n de las matrices jacobianas de velocidades, aceleraciones y de los eslabones y finalmente la
determinaci√≥n del modelo din√°mico.
4.4.1 An√°lisis de velocidad
Una vez determinada la CI (Secci√≥n 4.3), se necesita analizar es la velocidad de los componentes.
Inicialmente, la velocidad lineal deseada de la plataforma m√≥vil seg√∫n el plano ùêπ es (4-47).
ùíóùíë= [ùë•Ãá, ùë¶Ãá, ùëßÃá]
La velocidad angular de la plataforma m√≥vil seg√∫n el marco ùêπ se indica en (4-48).
ùíòùíë= ‡µ£ùúÉÃá, ùúëÃá, ùúìÃá‡µß
Si la rotaci√≥n del i-√©simo eslab√≥n superior con respecto a ùëìùëñ es ùúÅ‡Øú, entonces la velocidad de rotaci√≥n
respecto a ùëìùëñ se describe como ùúÅ‡∞™Ãá ; con respecto al plano de referencia ùêπ, la velocidad angular de la
articulaci√≥n es ‚Ñ®Ãá (4-49) .
La velocidad lineal del centro de masa del eslab√≥n superior es (4-50).
ùêØùíÉùíä= ‚Ñ®‡∞™Ãá √ó ‡µ´ùíçùíÉ‡Øú/2‡µØ
La velocidad de la articulaci√≥n esf√©rica ùíëùíÑ‡¨ôÃá es (4-51).
= ùíó‡Ø£+ ùíò‡Ø£√ó ùíÑ‡Øú
Por otro lado, ùíëùíÑ‡∞™Ãá tambi√©n puede expresarse como (4-52); donde, ùíëùíÉ‡∞™Ãá es la velocidad de ùêµ‡Øú y ùíò‡Ø•‡Øú es la
velocidad angular del i-√©simo eslab√≥n inferior.
+ ùíò‡Ø•‡Øú√ó ùíçùíì‡Øú
Adicionalmente, la velocidad ùíëùíÉ‡∞™Ãá seg√∫n (4-52) es (4-53).
= ùíëùíÑ‡∞™Ãá ‚àíùíò‡Ø•‡Øú√ó ùíçùíì‡Øú
La cual tambi√©n puede plantearse como (4-54).
= ùñÖ‡∞™Ãá √ó ùíçùíÉ‡Øú
Reemplazando (4-51), (4-52), (4-53) y (4-54) se obtiene (4-55).
ùíò‡Ø•‡Øú√ó ùíçùíì‡Øú= ùíó‡Ø£+ ùíò‡Ø£√ó ùíÑ‡Øú‚àíùñÖ‡∞™Ãá √ó ùíçùíÉ‡Øú
Con el fin de obtener ùíò‡Ø•‡Øú, se opera ambos lados de (4-55) por el producto cruz de ùíçùíì‡Øú y se divide por la
norma al cuadrado negativa de ùíçùíì‡Øú, as√≠ como lo indica (4-63) .
‡µ´ùíóùíë+ ùíòùíë√ó ùíÑ‡Øú‚àíùñÖ‡∞™Ãá √ó ùíçùíÉ‡Øú‡µØ√ó ùíçùíì‡Øú
4.4.2 An√°lisis de aceleraci√≥n
La aceleraci√≥n lineal deseada de la plataforma m√≥vil seg√∫n el plano ùêπ es (4-57) y la aceleraci√≥n angular
de la misma se expresa en (4-58).
La aceleraci√≥n de la plataforma m√≥vil est√° relacionada con la aceleraci√≥n angular de la articulaci√≥n
cil√≠ndrica activa. Por tal motivo, derivando (4-49) se obtiene la expresi√≥n (4-59); donde ùúÅÃà‡≠ß es la aceleraci√≥n
angular de la articulaci√≥n activa y ‡µ£‚Ñ®Ãà ‡Ø´‡Øú
‚Ñ®Ãà ‡Ø≠‡Øú‡µß son las tres componentes del vector resultante de las
rotaciones con respecto al marco de referencia ùêπ.
ùúÅÃà‡≠ß]‡Øç= ‡µ£‚Ñ®Ãà ‡Ø´‡Øú
La aceleraci√≥n lineal del centro de masa del eslab√≥n superior se calcula derivando (4-50), generando
ùêØÃáùíÉùíä= ùñÖÃà ‡Øú√ó ‡µ´ùíçùíÉ‡Øú/2‡µØ+ ùñÖÃá ‡Øú√ó ·âÄ‚Ñ®Ãá ‡Øú√ó ‡µ´ùíçùíÉ‡Øú/2‡µØ·âÅ
Al derivar (4-55) y considerando (4-59), la aceleraci√≥n del mecanismo se puede describir como (4-61).
Donde la aceleraci√≥n angular del i-√©simo eslab√≥n inferior es ùíòÃá ‡Ø•‡Øú.
√ó ùíçùíì‡Øú= ùíòÃá ‡Ø•‡¨µ‡Øú+ ùíòÃá ‡Ø•‡¨∂‡Øú+ ùíòÃá ‡Ø•‡¨∑‡Øú
ùíòÃá ‡Ø•‡¨µ‡Øú= ùíó‡Ø£Ãá + ùíò‡Ø£Ãá √ó ùíÑ‡Øú
ùíòÃá ‡Ø•‡¨∂‡Øú= ùíòùíë√ó ‡µ´ùíòùíë√ó ùíÑ‡Øú‡µØ‚àíùñÖ‡¨ôÃà √ó ùíçùíÉ‡Øú‚àí ùíò‡Ø•‡Øú√ó ‡µ´ùíò‡Ø•‡Øú√ó ùíçùíì‡Øú‡µØ
ùíòÃá ‡Ø•‡¨∑‡Øú= ùñÖ‡¨ôÃá √ó ‡µ´ùñÖ‡¨ôÃá √ó ùíçùíÉ‡Øú‡µØ
4.4.3 Matriz Jacobiana de velocidades
Un paso cr√≠tico en la formulaci√≥n de las ecuaciones de movimiento es la determinaci√≥n de las matrices
Jacobianas (ùêâùíë), quienes expresan la relaci√≥n de la velocidad de las articulaciones (ùú±Ãá ) con respecto de la
velocidad de la plataforma m√≥vil ùëøÃá ; donde ùëøÃá = [ùë•Ãá
ùúìÃá], tal como lo describe (4-62).
Respecto al mecanismo, (4-55) describe la velocidad del sistema. Con el fin de obtener la matriz
Jacobiana es necesario despejar la velocidad angular de cada i-√©sima articulaci√≥n rotacional ùúÅÃá‡≠ß; para esto,
se elimina la expresi√≥n de la izquierda de la igualdad (ùíò‡Ø•‡Øú√ó ùíçùíì‡Øú) de (4-55) utilizando el operador punto, tal
como lo muestra (4-63). De esta forma solo ùúÅÃá‡≠ß es inc√≥gnita.
‡µ´ùíò‡Ø•‡Øú√ó ùíçùíì‡Øú‡µØ‚àôùíçùíì‡Øú
‡µ´ùíóùíë+ ùíòùíë√ó ùíÑ‡Øú‚àíùñÖ‡¨ôÃá √ó ùíçùíÉ‡Øú‡µØ‚àôùíçùíì‡Øú
‡µ´ùíóùíë+ ùíòùíë√ó ùíÑ‡Øú‚àíùñÖ‡¨ôÃá √ó ùíçùíÉ‡Øú‡µØ‚àôùíçùíì‡Øú
Al calcular el lado derecho de (4-63), esta expresi√≥n puede factorizarse en t√©rminos de ‡µ´ùúÅÃá‡≠ß
y el vector (ùìêùíä)‡¨µ‡≠∂‡¨ª, tal como lo se√±ala (4-64).
Al despejar ùúÅÃá‡≠ß de (4-64) se obtiene (4-65), donde ‡µ´ùêâùê©ùê¢‡µØ‡¨µ‡≠∂‡¨∫ es la i-√©sima fila de la matriz Jacobiana de
velocidades.
4.4.4 Matriz Jacobiana de aceleraciones
Otro paso fundamental es la determinaci√≥n de la transformaci√≥n de la aceleraci√≥n de la plataforma m√≥vil
(XÃà) a las aceleraciones de las articulaciones activas (Œ¶Ãà ) , tal como lo describe (4-66); donde, ùêâùíÇùüèes una
matriz de 6 X 6 y ùêâùíÇùüê es un vector de 6 X 1.
ùöΩÃà = ùêâùíÇùüèXÃà + ùêâùíÇùüê
La base de esta transformaci√≥n es (4-61); para trabajar con el lado derecho de la expresi√≥n se opera por
el producto punto, obteniendo como resultado (4-67).
√ó ùíçùíì‡Øú‡µØ‚àôùíçùíì‡Øú= (ùíòÃá ‡Ø•‡¨µ‡Øú+ ùíòÃá ‡Ø•‡¨∂‡Øú+ ùíòÃá ‡Ø•‡¨∑‡Øú) ‚àôùíçùíì‡Øú= 0
El lado derecho de (4-67) puede escribirse como la multiplicaci√≥n de dos vectores: ùõÉùê¢ùüèùê±ùüñ y
1‡µß‡¨µ‡≠∂‡¨º (4-68).
De esta forma ùúÅ‡∞™Ãà puede formularse como (4-66), donde ùêâùíÇùüèùíä y ùêâùíÇùüêùíä corresponden a la i-√©sima fila de la
transformaci√≥n que ilustra (4-69).
ùúÅÃà‡≠ß= ùêâùêöùüèùíä[ùíóùíëÃá
ùíòùíëÃá ]‡Øç+ ùë±ùíÇùüêùíä
4.4.5 Matrices Jacobianas de los eslabones
Siguiendo la descripci√≥n de la velocidad angular de la articulaci√≥n rotacional ‚Ñ®Ãá (4-49) y la deducci√≥n
de ùúÅÃá‡Øú en (4-65); la ‚Ñ®Ãá ‡Øú es (4-70).
La velocidad del centro de masa del i-√©simo eslab√≥n superior con respecto a la referencia ùêπ (Fig. 4-4),
ùêëÃá ùíÉùíä , se formula como (4-71) .
ùêëÃá ùíÉùíä= ùñÖ‡¨ôÃá √ó ùíçùíÉ‡Øú/2
Por lo tanto, de (4-71) se puede factorizar ùëøÃá , lo que da como resultado la matriz Jacobiana de velocidades
del i-√©simo eslab√≥n superior ùêâùëπùíÉùíä (4-72).
Ahora, teniendo en cuenta que ùñÖ‡¨ôÃá se expresa como (4-70), la velocidad angular del i-√©simo eslab√≥n
inferior ùíòùíìùíä seg√∫n (4-56) se puede escribir como (4-73). Esto determina que ùíòùíìùíä es funci√≥n de ùëãÃá.
‡µ´ùíóùíë+ ùíòùíë√ó ùíÑ‡Øú‚àí( ùêë‡Æø‡Øú
ùêâùê©ùê¢ùëãÃá ‡Øç‡µß) √ó ùíçùíÉ‡Øú‡µØ√ó ùíçùíì‡Øú
Luego, las velocidades del centro de masa del i-√©simo eslab√≥n inferior (ùëπÃá ùíìùíä); considera ùíòùíìùíä (4-73) y la
longitud del eslab√≥n, se describe como (4-74).
ùëπÃá ùíìùíä= ùíò‡Ø•‡Øú√ó
De forma similar que (4-72) se factorizan los t√©rminos ùëãÃá de ùñÖ‡¨ôÃá (4-70), de ùíòùíìùíä (4-73) y ùëπÃá ùíìùíä (4-74)
generando las matrices Jacobianas relacionadas en (4-75) (4-76) y (4-77) respectivamente.
ùñÖ‡¨ôÃá = ùêâùùéùíÉùíäùëãÃá
ùíòùíìùíä= ùêâùùéùíìùíäùëãÃá
ùëπÃá ùíìùíä= ùêâùëπùíìùíäùëãÃá = ·âé
4.4.6 Modelo din√°mico por el principio de trabajo virtual
Con el fin de analizar la din√°mica inversa, se requiere una trayectoria deseada de la plataforma m√≥vil
para determinar el torque requerido para producir ese movimiento; el cual depende de los par√°metros
estructurales, la posici√≥n, la cinem√°tica, la gravedad, las fuerzas externas y el momento ejercido en la
plataforma m√≥vil. Por lo anterior, la ecuaci√≥n explicita de la din√°mica del mecanismo es (4-78), donde ùúè es
el vector de torque de las articulaciones activas, ùëÄ es la matriz de inercia, ùê∂ relaciona el vector de Coriolis
y de los t√©rminos centrifugales y ùê∫ es el vector de las fuerzas gravitacionales
ùúè= ùëÄùëãÃà + ùê∂+ ùê∫
Las ecuaciones din√°micas de movimiento son formuladas bajo los principios de D‚ÄôAlembert y del VW
debido a las ventajas computacionales anteriormente mencionadas. Estas ecuaciones se plantean usando el
concepto de sistemas de fuerzas equipolentes que consisten en una fuerza y un momento que reemplazan
todas las fuerzas y momentos incluyendo las de reacci√≥n que act√∫an sobre el mecanismo .
El VW del mecanismo relaciona el trabajo ejercido por los momentos y por las fuerzas. El VW que
ejerce el momento se define como el producto entre la suma de los momentos del centro de masa
‡µ´ùëÄ‡Øú‚àíùêΩ‡ØúùúÉÃà ‡Øú‡µØ, donde ùëÄ son los momentos aplicados, ùêΩ son los momentos de inercia, ùúÉÃà las aceleraciones
angulares y los cambios virtuales en la orientaci√≥n angular del cuerpo ‡µ´ùõøùúÉ‡Øú‡µØ. El VW que ejercen las fuerzas
es el producto de las fuerzas resultantes aplicadas en el centro de masa ‡µ´ùêπ‡Øú‚àíùëö‡Øúùëé‡Øú‡µØ donde ùêπ son las fuerzas
aplicadas en el centro de masa, ùëö es la masa del sistema y ùëé las aceleraciones, por los cambios virtuales de
desplazamiento ‡µ´ùõøùëÖ‡Øú‡µØ , tal como lo relaciona (4-79).
‡µ´ùëÄ‡Øú‚àíùêΩ‡ØúùúÉÃà ‡Øú‡µØùõøùúÉ‡Øú= 0
Adicionando las dos ecuaciones de (4-79) se obtiene (4-80) la cual expresa y clasifica el VW en dos
aspectos: el generado por las fuerzas externas (ùõøùëä‡Øò) y el ocasionado por las fuerzas internas y las inercias
ùõøùëä‡Øò= ùêπ‡ØúùõøùëÖ‡Øú+ ùëÄ‡ØúùõøùúÉ‡Øú
ùõøùëä‡Øú= ùëö‡Øúùëé‡ØúùõøùëÖ‡Øú+ ùêΩ‡ØúùúÉÃà ‡ØúùõøùúÉ‡Øú
Como se mencion√≥, ùõøùëä‡Øò se relaciona con las fuerzas externas (ùêπ‡Øò) y ùõøùëä‡Øú con las fuerzas internas (ùêπ‡Øú),
ambas asociadas a un sistema independiente de coordenadas (ùõøùëû) seg√∫n , por lo que (4-80) puede
expresarse como (4-81).
Debido a que ùõøùëû‚â†0, entonces (4-82).
De acuerdo con lo anterior, la aplicaci√≥n del principio de VW en el mecanismo puede enfocarse en las
fuerzas externas y las fuerzas inerciales.
4.4.6.1 Determinaci√≥n del trabajo virtual de las fuerzas externas
El VW que las fuerzas externas ejercen sobre el sistema lo describe (4-83); donde ùõøùúÅ es la rotaci√≥n
virtual del actuador activo, Œ¥ùëè‡Ø≠ es el desplazamiento virtual en z del eslab√≥n superior, m‡Øï masa del eslab√≥n
superior, ùëî gravedad, Œ¥ùëü‡Ø≠ es el desplazamiento virtual en z del eslab√≥n inferior, m‡Øï masa del eslab√≥n
superior, m‡Ø• masa del eslab√≥n inferior, ùõøùëß es el desplazamiento virtual en z de la plataforma m√≥vil y m‡Ø£
es la masa de la plataforma m√≥vil.
Œ¥ùúÅùúè+ Œ¥ùëè‡Ø≠(‚àím‡Øïùëî) + Œ¥ùëü‡Ø≠(‚àím‡Ø•ùëî) + ùõøùëß‡µ´‚àím‡Ø£ùëî‡µØ
Considerando (4-65), (4-72) y (4-77), se puede reescribir (4-83) como (4-84).
‡µ´J‡Ø£Œ¥ùëã‡µØùúè+ (J‡Øã‡Øï‡Ø≠Œ¥ùëã)(‚àím‡Øïùëî) + (J‡Øã‡Ø•‡Ø≠Œ¥ùëã)(‚àím‡Ø•ùëî) + ùõøùëß‡µ´‚àím‡Ø£ùëî‡µØ
Reorganizando (4-84) respecto a ùõøùëã se obtiene (4-85).
‡Øç(‚àím‡Øïùëî) + ùêâùëπùíìùíõ
Debido a que ùõøùëã‚â†0, se despeja ùúè y se plantea (4-86).
‡Øç(m‡Øïùëî) + ùêâùëπùíìùíõ
Por lo anterior, la totalidad de las fuerzas externas ùêπ‡Øò equivalen a la sumatoria de las fuerzas involucradas
en el VW de cada una de las seis extremidades m√°s las relacionadas con la plataforma m√≥vil, reescribiendo
esto se tiene (4-87).
ùë∏ùíÜ= ‡∑ç·âÄùêâùëπùíÉùíõùíä
ùëª(m‡Øïùëî) + ùêâùëπùíìùíõùíä
4.4.6.2 An√°lisis del trabajo virtual de las fuerzas internas e inerciales
El VW de las fuerzas inerciales se puede analizar por cada uno de los componentes del sistema; de este
modo F‡Øï, F‡Ø• y F‡Ø£ relaciona las fuerzas de los eslabones superiores, inferiores y las relacionadas con la
plataforma m√≥vil respectivamente, tal como (4-88).
Œ¥ùëãF‡Øï+ Œ¥ùëãF‡Ø•+ Œ¥ùëãF‡Ø£
Œ¥ùëã‡µ´F‡Øï+ F‡Ø•+F‡Ø£‡µØ
Por lo anterior, el primer paso es analizar las fuerzas internas de la plataforma m√≥vil (ùêπ‡Ø£). El tensor de
inercia de este componente respecto a ùêπ es (4-89); donde ùêàùíëùíÑ es el tensor de inercia de la plataforma, el cual
es calculado en el software CAD donde fue dise√±ada la plataforma.
La representaci√≥n de ùêπ‡Ø£ es (4-90).
ùêÖùíë= ùêÖùíëùë¥ùëãÃà + ùêÖùíëùë™
ùëö‡Ø£ es la masa de la plataforma.
ùë∞ùíè ùêó ùíé es la matriz identidad de n X m.
El siguiente paso es analizar las fuerzas internas del i-√©simo eslab√≥n superior (ùë≠ùíÉùíä). El tensor de inercia
del i-√©simo eslab√≥n superior respecto a ùêπ es (4-91); donde ùëö‡Øï es la masa del eslab√≥n superior
Considerando la descripci√≥n de fuerzas internas de y los desplazamientos virtuales, el VW del i-
√©simo eslab√≥n superior relacionado con las fuerzas internas es (4-92).
Œ¥ùëÖùëèùëñùëö‡ØïùíóÃá ùíÉùíä+ Œ¥ùúõ‡Øïùêà‡Øï‡ØúùñÖÃà ùíä+ Œ¥ùúõ‡Øï‡Øú·âÄùñÖÃá ùíä√ó ‡µ´ùêàùíÉùíäùñÖÃá ùíä‡µØ·âÅ
Considerando (4-72) y (4-75), se puede reescribir (4-92) como (4-93).
(ùêâùëπùíÉùíäŒ¥X) ùëö‡ØïùíóÃá ùíÉùíä+ (ùêâùùéùíÉùíäŒ¥X) ùêà‡Øï‡ØúùñÖÃà ùíä+ (J‡∞†‡Øï‡ØúŒ¥X) ·âÄùñÖÃá ùíä√ó ‡µ´ùêàùíÉùíäùñÖÃá ùíä‡µØ·âÅ
Teniendo en cuenta (4-60) y reorganizando (4-93) respecto a ùõøùëã se obtiene (4-94).
ùêâùëπùíÉùíäùëö‡Øï·âÄùñÖÃà ùíä√ó ‡µ´ùíçùíÉ‡Øú/2‡µØ·âÅ+ ùêâùùéùíÉùíäùêàùíÉùíäùñÖÃà ùíä
+ùêâùëπùíÉùíäùëö‡Øï‡µ¨ùñÖÃá ùíä√ó ·âÄùñÖÃá ùíä√ó ‡µ´ùíçùíÉ‡Øú/2‡µØ·âÅ‡µ∞+ ùêâùùéùíÉùíä·âÄùñÖÃá ùíä√ó ‡µ´ùêàùíÉùíäùñÖÃá ùíä‡µØ·âÅ
Se factoriza ùñÖÃà ùíä de modo tal que (4-94) quede como (4-95), donde ùöºùíä es una matriz de 6X3 que resulta de
la factorizaci√≥n.
+ùêâùëπùíÉùíäùëö‡Øï‡µ¨ùñÖÃá ùíä√ó ·âÄùñÖÃá ùíä√ó ‡µ´ùíçùíÉ‡Øú/2‡µØ·âÅ‡µ∞+ ùêâùùéùíÉùíä·âÄùñÖÃá ‡Øú√ó ‡µ´ùêàùíÉùíäùñÖÃá ùíä‡µØ·âÅ
ùùÅùíä es una matriz de 6X3 donde cada columna puede representarse de la siguiente forma ùúá‡Øú=
ùúá‡¨∑‡Øú], ùêπ‡Øï‡Øú puede declararse como (4-96).
ùêâùíÇùüèùíä ùëãÃà + ùêâùíÇùüêùíä
+ùêâùëπùíÉùíäùëö‡Øï‡µ¨ùñÖÃá ùíä√ó ·âÄùñÖÃá ùíä√ó ‡µ´ùíçùíÉ‡Øú/2‡µØ·âÅ‡µ∞+ ùêâùùéùíÉùíä·âÄùñÖÃá ùíä√ó ‡µ´ùêàùíÉùíäùñÖÃá ùíä‡µØ·âÅ
ùùÅùíä= ùöºùíäùêë‡Æø‡Øú‡Øù
La representaci√≥n de ùêπ‡Øï es (4-97).
ùêÖùíÉ= ùêÖùíÉùë¥ùëã+ùêÖùíÉùë™
ùêÖùíÉùë¥= ‡∑çùúá‡¨∑‡ØúùêâùíÇùüèùíä
ùêÖùíÉùë™= ‡∑çùúá‡¨∑‡ØúùêâùíÇùüêùíä
+ ‡∑çùêâ‡Øã‡Øï‡Øúùëö‡Øï‡µ¨ùñÖÃá ùíä√ó ·âÄ ùñÖÃá ùíä√ó ‡µ´ùíçùíÉ‡Øú/2‡µØ·âÅ‡µ∞+ ùêâùùéùíÉùíä·âÄùñÖÃá ùíä√ó ‡µ´ùêàùíÉùíä ùñÖÃá ùíä‡µØ·âÅ
Lo siguiente es analizar las fuerzas internas del i-√©simo eslab√≥n inferior (ùêπ‡Ø•‡Øú). El tensor de inercia del
eslab√≥n inferior respecto a ùêπ es (4-98); donde ùëö‡Ø• es la masa del eslab√≥n inferior
El VW del i-√©simo eslab√≥n inferior relacionado con las fuerzas internas es (4-99); donde, ùõÖùëπùíì es el
desplazamiento virtual del eslab√≥n inferior y Œ¥ùúõ‡Ø• es la rotaci√≥n virtual del eslab√≥n inferior.
ùõÖùëπùíìùëö‡Ø•ùíóÃá ùíì+ ùõÖùùïùíìùêàùíìùíòÃá ùíì+ ùõÖùùïùíì‡µ´ùíòùíìùíä√ó (ùêàùíìùíäùíòùíìùíä)‡µØ
Considerando (4-76) y (4-77), se puede reescribir (4-99) como (4-100).
(ùêâùëπùíìùíäùõÖùëø)ùëö‡Ø•ùíóÃá ùíì+ (ùêâùùéùíìùíäùõÖùëø)ùêàùíìùíòÃá ùíì+ (ùêâùùéùíìùíäùõÖùëø)‡µ´ùíòùíìùíä√ó (ùêàùíìùíäùíòùíìùíä)‡µØ
Reorganizando (4-100) respecto a ùúπùëø se obtiene ùêÖùíìùíä seg√∫n (4-101). Donde, ùùà corresponde a una matriz
de 6X3, que representa la factorizaci√≥n de (ùêâùëπùíìùíä ùëö‡Ø•) ·âÄùíòÃá ùíìùíä√ó ‡µ´ùíçùíì‡Øú/2‡µØ·âÅ+ (ùêâùùéùíìùíä ùêàùíìùíä) con respecto ùíòÃá ùíìùíä.
ùêÖùíìùíä= ùùàùíòÃá ùíìùíä+ ùêâùùéùíìùíä
ùëª(ùíòùíìùíä√ó ùêàùíìùíäùíòùíìùíä)
Adicionalmente, (4-101) puede expresarse como (4-102); donde ùúå‡Øú es una matriz de 6X3 que denota
ùùÜùíä= ùùàùíäùêëùë≠ùíäùíã
y cada columna puede expresarse de la siguiente forma ùùÜùíä= [ùúå‡¨µ‡Øú
ùêΩ‡Øî‡¨µ‡ØúùëãÃà + ùêΩ‡Øî‡¨∂‡Øú
‡µ©+ ùùà(ùíòÃá ùíìùüèùíä+ ùíòÃá ùíìùüêùíä) + ùêâùùéùíìùíä
‡Øç(ùíòùíìùíä√ó ùêàùíìùíäùíòùíìùíä)
Por lo anterior, las fuerzas relacionadas con el eslab√≥n inferior son (4-103).
ùêÖùíì= ùêÖùíìùë¥ùëøÃà + ùêÖùíìùë¥
ùêÖùíìùë¥= ùùÜùüëùíäùêâùíÇùüèùíä
ùëñ= 1, ‚Ä¶ ,6.
ùêÖùíìùë™= ùùÜùüëùíäùêâùíÇùüêùíä+ ùùà(ùíòÃá ùíìùüèùíä+ ùíòÃá ùíìùüêùíä) + ùêâùùéùíìùíä(ùíòùíìùíä√ó ùêàùíìùíäùíòùíìùíä)
ùëñ= 1, ‚Ä¶ ,6.
Teniendo en cuenta (4-82), (4-87), (4-97) y (4-103) se determina ùùâ como (4-104).
‡Øç‡¨ø‡¨µùë∏ùíÜ‚àíùêÖùíìùë¥ùëøÃà ‚àíùêÖùíÉùë¥ùëøÃà ‚àíùêÖùíÉùë™‚àíùêÖùíìùë¥
Finalmente, ya se pueden plantear las expresiones ùêå (4-105), ùêÇ (4-106)y ùêÜ (4-107) de (4-78).
‡Øç/‡µ´ùêÖùíëùë¥+ ùêÖùíÉùë¥+ ùêÖùíìùë¥‡µØ
‡Øç/‡µ´ùêÖùíëùë™+ ùêÖùíÉùë™+ ùêÖùíìùë™‡µØ
En conclusi√≥n, por el m√©todo AHP y criterios de movimiento continuo, precisi√≥n, robustez, simplicidad
de fabricaci√≥n y WS, se seleccion√≥ el MP HEXA 6 RUS. Su an√°lisis de CI requiere las dimensiones de la
distribuci√≥n hexagonal de los actuadores, as√≠ como las matrices de rotaci√≥n que modifican los planos de
trabajo seg√∫n el eje de rotaci√≥n, las dimensiones de los brazos y de las plataformas. Adicionalmente, se
desarroll√≥ la modelaci√≥n de la din√°mica inversa del MP, esto requiere de un an√°lisis de velocidad y de
aceleraci√≥n en las cuales hay un enfoque en el comportamiento de la articulaci√≥n activa rotacional. Debido
a quien rige el movimiento es la plataforma m√≥vil, es necesario relacionar el movimiento de esta plataforma
con respecto a las articulaciones; para esto, se determinan las matrices Jacobianas de velocidad, aceleraci√≥n
y de los centros de masa de los eslabones. Una vez determinado dichos an√°lisis y matrices, el MP se puede
modelar bajo el principio de VW que considera el VW de las fuerzas externas, internas e inerciales y los
movimientos virtuales. El desarrollo de la CI y de la din√°mica se hicieron en MATLAB¬Æ se puede
nencontrar en el Anexo C.
5 DETERMINACI√ìN DE LAS FUNCIONES
Con el fin de optimizar el dise√±o del HEXA 6 RUS es necesario determinar las FOs: el WS (Secci√≥n 2.5),
la manipulabilidad (Secci√≥n 2.6), el EC y el ùëí‡Øñ (Secci√≥n 2.8). Las dos primeras dependen de la CI y de las
matrices Jacobianas; mientras que las dos √∫ltimas, dependen de la respuesta de la estrategia de control.
5.1 C√°lculo del espacio de trabajo
Los MPs poseen ventajas en cuanto a rigidez, momentos e inercias comparados con los mecanismos
seriales; sin embargo, tiene desventajas entre otras cosas por su reducido WS y su manipulabilidad, ambas
ocasionadas por las cadenas cinem√°ticas cerradas. Por tal motivo, dichas caracter√≠sticas se hacen
indispensables al momento del dise√±o del HEXA 6RUS. En t√©rminos de multidireccionalidad y
procesamiento el WS es relevante para determinar el volumen de la pieza que se puede fabricar.
El estudio del WS del HEXA 6RUS se enfoca en un m√©todo de orientaci√≥n fija de forma discreta
configurable (Secci√≥n 2.5). Para esto se deben considerar tres fases: la evaluaci√≥n de posici√≥n, la generaci√≥n
de nube de puntos y el c√°lculo del volumen.
5.1.1 Evaluaci√≥n de posici√≥n
Con el fin de evaluar las posiciones l√≠mites del WS se utiliza una funci√≥n que eval√∫a y encuentra una
posici√≥n no restringida considerando el punto inicial y la direcci√≥n de un vector. Esta funci√≥n se aplica a
cada posici√≥n a evaluar y tiene dos aspectos importantes: el estudio de las restricciones y la implementaci√≥n
algor√≠tmica.
La funci√≥n de evaluaci√≥n tiene como entrada la posici√≥n de la plataforma m√≥vil y retorna un dato
booleano de uno (1) si todas las restricciones se respetan o cero (0) si al menos una restricci√≥n no se cumple.
Se considera que las posiciones no restringidas m√°s alejadas del centro crean el l√≠mite del WS. La
Fig. 5-1 esquematiza la b√∫squeda del l√≠mite del WS que consta de cinco pasos.
1. La b√∫squeda inicia creando un vector ùë£‡Øü entre el punto inicial ùëÉ‡Øñ y el punto a estudiar.
2. Se define una tolerancia Œµ.
3. La b√∫squeda empieza a una magnitud |ùë£‡Øü|.
4. El algoritmo alterna la magnitud del vector ùë£‡Øü aument√°ndola o disminuy√©ndola, dependiendo si no
existen o existen restricciones respectivamente.
5. La magnitud se va modificando seg√∫n el n√∫mero dorado 0.618 (Secci√≥n 2.9.6.1) hasta que est√©
dentro de la zona Œµ.
Por lo anterior es necesario definir las restricciones e implementarlas en un algoritmo de b√∫squeda de
secci√≥n dorada.
Fig. 5-1. Esquem√°tico de b√∫squeda secci√≥n dorada.
5.1.1.1 Restricciones
Las restricciones que se tienen en cuenta son los √°ngulos entre las plataformas y los eslabones. El √°ngulo
entre la plataforma fija y el eslab√≥n superior ùúÅ‡Øú ilustrado en Fig. 4-4 y descrito en la CI (4-33) debe ser real
y positivo (5-1) .ùúå
El √°ngulo ùúÇ‡Øú (Fig. 4-8) entre el eslab√≥n superior (ùê¥ùêµùëñ) y el eslab√≥n inferior (ùêµùê∂ùëñ) debe ser real y mayor
a 90¬∫ (5-2). Este √°ngulo es calculado siguiendo el producto punto tal como lo muestra (5-3).
ùúÇ‡Øú= arccos ·âÜ‚àí
‡∏´ùëô‡Øï‡Øú‡∏´‡∏´ùëô‡Ø•‡Øú‡∏´·âá
El √°ngulo ùúÜ‡Øú entre el eslab√≥n inferior y la plataforma m√≥vil (ùíÑùíä) de la Fig. 4-8 debe ser real y mayor a
90¬∫ (5-4). Este √°ngulo es calculado siguiendo el producto punto tal como lo muestra (5-5).
ùúÜ‡Øú= arccos·âÜ‚àí
‡∏´ùëô‡Ø•‡Øú‡∏´|ùëê‡Øú|·âá
Al final, una posici√≥n no restringida es aquella en donde cada uno de los i-√©simos brazos cumple las
condiciones anteriormente descritas.
5.1.1.2 Algoritmo
El Pseudoc√≥digo 5-1 detalla la b√∫squeda con secci√≥n dorada implementada en la determinaci√≥n de
posiciones no restringidas, donde el vector que inicia en X=0 y Y=0 tiene un origen ÔÅ≤ y un punto final œà,
tal como lo muestra
Fig. 5-1. La b√∫squeda va alternando su zona de enfoque un rango de 0.618 y analiza
si hay restricciones de movimiento con la subfunci√≥n EVAL POS.
5.1.2 Generaci√≥n de nube de puntos
El objetivo es crear puntos coordenados en el espacio que luego ser√°n evaluados para crear la superficie
externa del WS. Como el HEXA 6RUS es sim√©trico solo se calcula un tercio de su volumen y luego se
replica, as√≠ que solo se genera una porci√≥n de la nube de puntos. Para esto se requieren hallar los puntos
cr√≠ticos o l√≠mites y la determinaci√≥n de puntos no restringidos que generan el l√≠mite del WS.
5.1.2.1 Puntos cr√≠ticos
El punto inicial ùëÉ‡Øñ siempre se encuentra sobre el eje Z as√≠ que X=0 y Y=0.
Para la creaci√≥n de nube de puntos, se recorre la distancia di desde el punto m√°s alto alcanzable ùëÉ‡Øß‡Ø¢ hasta
el punto m√°s bajo alcanzable ùëÉ‡Øï‡Ø¢ con un cierto paso ùëù‡Ø™‡Ø¶ , tal como lo muestra la Fig. 5-2.
Con el fin de calcular el ùëÉ‡Øß‡Ø¢, el vector ùë£‡Øü inicia en la plataforma fija superior alineado con el centro de
esta y apuntando hacia abajo; luego su magnitud empieza a manipularse seg√∫n la Secci√≥n 5.1.1.2 hasta
encontrar el primer punto no restringido.
Luego, para hallar el ùëÉ‡Øï‡Ø¢ el vector ùë£‡Øü inicia en la plataforma fija superior alineado con el centro de esta
y apuntando hacia abajo; luego se configura |ùë£‡Øü| = 2(ùëô‡Øï+ ùëô‡Ø•), esta magnitud tambi√©n se manipula seg√∫n
Secci√≥n 5.1.1.2. y se considera que este punto no debe estar m√°s abajo que la base de la estructura.
Una vez determinado di y seleccionado el paso con que se recorre esta distancia, lo siguiente es crear el
punto medio ùëÉ‡Ø†, el cual es el promedio entre el l√≠mite superior y el l√≠mite inferior.
Fig. 5-2. Puntos m√°s bajos y altos del WS
Pseudoc√≥digo 5-1. B√∫squeda con secci√≥n dorada
Valor del error
Magnitud de ùúï
ùë£ùë¢ùëù= ùë¢‡∑ú(ùúï)
Vector unitario de ùúï
ùëé= 0; ùëè= ùëöùëâ
Inicializar: ùëéùë§= 0; ùëèùë§= 1; ùêøùë§= ùëèùë§‚àíùëéùë§; ùëò= 0
if |ùêøùë§(ùëè‚àíùëé)| > ùëíùëüùëüùëúùëü
while |ùêøùë§(ùëè‚àíùëé)| > ùëíùëüùëüùëúùëü
ùë§1 = ùëéùë§+ 0.618 ùêøùë§
ùë§2 = ùëèùë§‚àí0.618 ùêøùë§
ùëã1 = ùë§1(ùëè‚àíùëé) + ùëé
ùëÉùëã1 = [ùëã1ùë£ùë¢ùëù+ ùúå, 0,0,0]
El vector va modificando su magnitud,
manteniendo su origen y direcci√≥n.
EVAL POS ùëñùëõ(ùëÉùëã1, ùêø‡Øï, ùêø‡Ø•) = ùëìùëéùëôùë†ùëí
Si al menos hay una restricci√≥n en ùëÉùëã1
considerando los valores de ùêø‡Øï y ùêø‡Ø•.
ùê∂ùëúùëúùëüùëëùëíùëõùëéùëëùëé= ùëÉùëã1
El algoritmo retorna la coordenada no
restringida
ùë§1 = ùëéùë§+ 0.618 ùêøùë§
ùë§2 = ùëèùë§‚àí0.618 ùêøùë§
ùëÉùëã1 = [ùúå, 0,0,0]
if ùê∏ùë£ùëéùëôùëÉùëúùë†ùëñùëõ(ùëÉùëã1, ùêø‡Øî‡Ø•‡Ø†, ùêø‡Ø•‡Ø¢‡Øó) = ùëìùëéùëôùë†ùëí
ùê∂ùëúùëúùëüùëëùëíùëõùëéùëëùëé= ùëÉùëã1
5.1.2.2 Determinaci√≥n de puntos
Por cada ùëù‡Ø™‡Ø¶ se generan puntos uniformemente distribuidos a un √°ngulo ùëé‡Øõ en el plano X-Y en un
barrido total de 120¬∫, tal como lo ilustra Fig. 5-3. Cada punto se ubica en la zona l√≠mite de restricciones
aplicando la funci√≥n de evaluaci√≥n de posici√≥n anteriormente descrita.
Fig. 5-3. Vista superior de la secci√≥n analizada.
5.1.3 C√°lculo del volumen
Una vez generados todos los puntos no restringidos, se considera ùëÉ‡Ø† como el centro del volumen,
entonces, se seleccionan tres puntos de la nube de puntos y junto con ùëÉ‡Ø† se crea un tetraedro y se calcula
su volumen. La sumatoria de todos los vol√∫menes es el WS del HEXA 6RUS.
Fig. 5-4. Esquem√°tico de la creaci√≥n de tetraedros para calcular el WS.
5.2 Identificaci√≥n de la manipulabilidad
Seg√∫n la Secci√≥n 2.6, la destreza o manipulabilidad del HEXA 6RUS puede cuantificarse mediante el
n√∫mero condicional de las Jacobianas traslacionales y rotacionales. Considerando las submatrices ‡µ´ùêâùë∑‡∞∑ùüèùë∏‡µØ‡Ø©
y ‡µ´ùêâùë∑‡∞∑ùüèùë∏‡µØ‡Ø™ de (2-14) y el comportamiento en velocidad del MP (4-65), la Jacobiana traslacional se define
como (5-6) y la Jacobiana rotacional es (5-7); donde ùêâùíó son las tres primeras filas de ùêâùíë
‡¨ø‡¨µ y ùêâùíò son las tres
√∫ltimas filas de ùêâùíë
‡µ´ùë±ùë∑‡∞∑ùüèùë∏‡µØ‡Ø©ùúªÃá
‡µ´ùêâùë∑‡∞∑ùüèùë∏‡µØ‡Ø™ùúªÃá
Con el fin de medir la relaci√≥n de errores entre los motores y la plataforma m√≥vil, se aplica el concepto
de (2-9) y (2-11), teniendo en cuenta que las submatrices ùêâùíó y ùêâùíò no son cuadradas, el n√∫mero condicional
de cada una de estas es (5-8) y (5-9).
Una vez se tienen los indicadores del comportamiento lineal y rotacional de los errores, se promedian
(5-10) para identificar la relaci√≥n del error en velocidad ùúÖ(J‡Ø©‡Ø™).
ùúÖ(J‡Ø©‡Ø™) = ùúÖ(J‡Ø©) + ùúÖ(J‡Ø™)
Cabe resaltar que esta relaci√≥n es para una sola posici√≥n de la plataforma m√≥vil. Como se requiere
analizar el comportamiento general del HEXA 6RUS, hay que evaluar ùúÖ(J‡Ø©‡Ø™) en cada posici√≥n del WS tal
como lo muestra (5-11), donde ùúÇ es la manipulabilidad general del MP.
Debido al costo computacional que requiere (5-11), esta se aproxima con una suma de puntos discretos
del WS, donde ùúÖ(J‡Ø©‡Ø™)‡Øú corresponde a una i-√©sima posici√≥n y ùëÅ son el n√∫mero de puntos analizados del
A causa de que ya estan determinados los l√≠mites del WS definidos por la nube de puntos (Secci√≥n 5.1.2)
y el centro del volumen ùëÉ‡Ø† de la Fig. 5-4, el modo de calcular la manipulabilidad del HEXA 6RUS se
realiza con los siguiente cuatro pasos.
1. Se crea un vector entre un punto de la nube de puntos y ùëÉ‡Ø†.
2. La magnitud de ese vector es dividida en ùëõ‡Ø† partes (Fig. 5-5).
3. Cada nuevo vector es una posici√≥n del WS, a la cual se le analiza ùúÖ(ùêΩ‡Ø©‡Ø™) (5-10).
4. Se realiza el proceso con cada punto de la nube de puntos y se determina ùúÇ (5-11).
Fig. 5-5. Esquem√°tico de la discretizaci√≥n del WS para el an√°lisis de manipulabilidad.
5.3 Implementaci√≥n de la estrategia de control
Inicialmente y luego de estudios previos , se escogi√≥ una estrategia de control h√≠brida que considera
la estrategia de planitud diferencial por su eficacia a la hora de seguir trayectorias junto con la propiedad
de conmutaci√≥n de los modos deslizantes. Por tal motivo, la se√±al de control ùúè‡Øñ‡Ø¢‡Ø° (5-13) est√° compuesta
por dos componentes: la se√±al de control equivalente ùúè‡Øò‡Ø§ y la se√±al de control atractivo ùúè‡Øá, tal como lo
indica Fig. 5-6.
ùúè‡Øñ‡Ø¢‡Ø°= ùúè‡Øò‡Ø§+ ùúè‡Øá
Fig. 5-6. Esquem√°tico del control h√≠brido propuesto.
5.3.1 Control equivalente por planitud diferencial
Respecto a la consecuci√≥n del control equivalente basado en planitud diferencial (Secci√≥n 2.7.1), el
primer paso es hacer una representaci√≥n de estados (2-45) del MP de acuerdo con (4-78), lo que genera
La matriz de controlabilidad es (5-15), su rango es 12 y su determinante es ‚â†0, por lo que se considera
un sistema controlable.
Debido a que es controlable se puede determinar ùêπ (2-47), la cual es (5-16).
Por lo que ùëÄ no infringe la propiedad de planitud diferencial para calcular la parametrizaci√≥n porque ùêπ
puede ser representada por cualquier escalar multiplicado ùêπ , entonces ùêπ se considera ùêπ= ùëã‡¨µ= ùëã.
Seg√∫n (2-48), ùêπ puede presentarse como (5-17) y ùêπÃá como (5-18); donde ùúÜ= [1
0] cumple con la
anulaci√≥n de ùúè y sus derivadas siguiendo los requisitos de (2-49),evidenciado en (5-27).
ùêπÃá = ùúÜùê¥ùëã+ ùúÜùêµùúè= [1
1/ùëÄ‡µ®= 1/ùëÄ‚â†0
Luego por (2-52) y (5-14): ùêπ= ùëã‡¨µ= ùëã, ùêπÃá = ùëã‡¨∂= ùëãÃá, por lo que ùêπÃà = ùëãÃà; lo que implica que (4-78) se
puede expresar como(5-20).
ùúè= ùëÄùêπÃà + ùê∂+ ùê∫
Con el fin de garantizar un movimiento suave de ùêπ se plantea ùë£‡Øî‡Ø®‡Ø´ seg√∫n (2-51) obteniendo (5-21).
ùë£‡Øî‡Ø®‡Ø´= ùêπÃà‡Øó+ ùõæ(‡¨∑)‡µ£ùêπÃá‡Øó‚àíùêπÃá‡µß+ ùõæ(‡¨∂)[ùêπ‡Øó‚àíùêπ] + ùõæ(‡¨µ) ‡∂±[ùêπ‡Øó‚àíùêπ]ùëëùë°
A partir de (5-20) se sustituye la derivada ùêπÃà por ùë£‡Øî‡Ø®‡Ø´ como lo presenta (5-22)
ùúè= ùëÄùë£‡Øî‡Ø®‡Ø´+ ùê∂+ ùê∫
Luego, se genera la din√°mica del error (5-23), con base en (2-53), donde (ùëí= ùêπ‡Øó‚àíùêπ).
ùëíÃà + ùõæ(‡¨∑)ùëíÃá + ùõæ(‡¨∂)ùëí+ ùõæ(‡¨µ) ‡∂±ùëíùëëùë°= 0
Para calcular los par√°metros ùõæ(‡Øú) se deriva (5-23) y se consideran la ubicaci√≥n de los polos seg√∫n la tasa
de amortiguaci√≥n ùúâ y la frecuencia natural no amortiguada ùë§‡Ø°=
ùúâ ùë°ùë† , tal como lo muestra (5-24).
ùëí‚Éõ+ ùõæ(3)ùëíÃà + ùõæ(2)ùëíÃá + ùõæ(1)ùëí= 0
ùë†‡¨∑+ ùõæ(3)ùë†‡¨∂+ ùõæ(2)ùë†+ ùõæ(1) = (ùë†‡¨∂+ 2ùúâùë§‡Ø°ùë†+ ùë§‡Ø°
‡¨∂)(ùë†+ 5ùúâùë§‡Ø°)
Finalmente, los valores de los par√°metros son (5-25). Se recalca que los valores de ùúâ y ùë°‡Ø¶ son variables
de dise√±o para optimizar, tema que ser√° profundizado en la Secci√≥n 6.1.
(10ùúâ‡¨∂+ 1)ùë§‡Ø°
La implementaci√≥n de esta estrategia se hace reemplazando ùêπ por ùëã de (5-23)en (5-22), de donde se
obtiene (5-26). La Fig. 5-7 muestra el esquem√°tico de la configuraci√≥n de ùúè‡Øò‡Ø§.
ùëãÃà = ùëãÃà‡Øó+ ùõæ(‡¨∑)‡µ£ùëãÃá‡Øó‚àíùëãÃá‡µß+ ùõæ(‡¨∂)[ùëã‡Øó‚àíùëã] + ùõæ(‡¨µ) ‡∂±[ùëã‡Øó‚àíùëã] ùëëùë°
ùúè‡Øò‡Ø§= ùëÄ‡µ¨ùëãÃà‡Øó+ ùõæ(‡¨∑)‡µ£ùëãÃá‡Øó‚àíùëãÃá‡µß+ ùõæ(‡¨∂)[ùëã‡Øó‚àíùëã] + ùõæ(‡¨µ) ‡∂±[ùëã‡Øó‚àíùëã] ùëëùë°‡µ∞+ ùê∂+ ùê∫
Sin embargo, como lo menciona Craig , la implementaci√≥n de solo este controlador es inalcanzable
en la pr√°ctica debido a la discretizaci√≥n involucrada por el uso de computadores y por las inexactitudes
causadas por las simplificaciones en la modelaci√≥n din√°mica. Por tal motivo, se sugiere el uso de un control
atractivo que reencauce la se√±al de control en caso de que se desv√≠e de la superficie deseada de respuesta.
Por lo anterior, se debe contemplar que la ley de control es discontinua a trav√©s de la superficie.
5.3.2 Control atractivo
El dise√±o de este controlador atractivo ùúè‡Øá se hace bajo el concepto de modos deslizantes, el cual se basa
en el uso de una se√±al de conmutaci√≥n para confinar el comportamiento a la se√±al de control equivalente
descrito en la Secci√≥n 2.7.1. Para tal fin, se considera que cuando las trayectorias de vector de estado del
sistema siguen la superficie ùúé lo cual se refleja en que ùúéÃá = 0, el control equivalente no se activa; en caso
contrario, el controlador conmuta con la funci√≥n ùë†ùëñùëîùëõ y una ganancia ùêø que limita el movimiento a las
especificaciones de torque del motor. Al considerar que la implementaci√≥n se hace en MATLAB¬Æ y que
en la pr√°ctica la funci√≥n ùë†ùëñùëîùëõ genera chattering al ser tan estricta, ùë†ùëñùëîùëõ es reemplazada por una saturaci√≥n
(ùë†ùëéùë°). Esta nueva funci√≥n produce una se√±al de salida correspondiente a un valor de entrada limitada por
valores de saturaci√≥n m√°ximos y m√≠nimos; estos l√≠mites son especificados por el valor de ùêø. De esta forma
(2-32) se reescribe como lo indica (5-27).
ùúè‡Øá= ·âÑ‚àíùêøsat(ùúé)
Fig. 5-7. Esquem√°tico del control equivalente por planitud diferencial.
Con base en desarrollos anteriores y en la Secci√≥n 2.7.1, el primer paso es despejar ùëã(‡Ø†) del
sistema descrito de la forma de (2-33) que para este MP es (4-78) por un controlador de seguimiento de
trayectoria (5-28).
ùëãÃà = (ùúè/ùëÄ) ‚àí(ùê∂/ùëÄ) ‚àí(ùê∫/ùëÄ)
Debido a que el comportamiento es de segundo orden, la superficie deslizante ùúé debe ser de un orden
inferior seg√∫n (2-34) y se debe considerar un reconstructor integral de segundo orden, tal como lo muestra
ùúé= ùëãÃá + ùêæ(‡¨∑)ùëí+ ùêæ(‡¨∂) ‡∂±ùëíùëëùë°+ ùêæ(‡¨µ) ‡∂±‡∂±ùëíùëëùë°ùëëùë°
Tomando la derivada de la superficie (5-29) se obtiene (5-30).
ùúéÃá = ùëãÃà + ùêæ(‡¨∑)ùëíÃá + ùêæ(‡¨∂)ùëí+ ùêæ(‡¨µ) ‡∂±ùëíùëëùë°
La expresi√≥n ùúéÃá se puede plantear seg√∫n (5-31) teniendo en cuenta (5-28) y (5-30).
ùúéÃá = ‡µ´(ùúè/ùëÄ) ‚àí(ùê∂/ùëÄ) ‚àí(ùê∫/ùëÄ)‡µØ+ ùêæ(‡¨∑)ùëíÃá + ùêæ(‡¨∂)ùëí+ ùêæ(‡¨µ) ‡∂±ùëíùëëùë°
Cuando la se√±al de control se encuentra sobre la superficie deseada ùúéÃá = 0, un torque ùúè‡Ø¢‡Ø£‡Øñ se acciona,
tal como (5-32) lo indica.
ùúéÃá = 0 = ‡µ´ùúè‡Ø¢‡Ø£‡Øñ/ùëÄ‡µØ‚àí‡µ¨ùê∂
ùëÄ‡µ∞+ ùêæ(‡¨∑)ùëíÃá + ùêæ(‡¨∂)ùëí+ ùêæ(‡¨µ) ‡∂±ùëíùëëùë°
Despejando ùúè‡Ø¢‡Ø£‡Øñ de (5-32) se obtiene (5-33).
ùúè‡Ø¢‡Ø£‡Øñ= ùê∂+ ùê∫‚àíùëÄ‡µ¨ùêæ(‡¨∑)ùëíÃá + ùêæ(‡¨∂)ùëí+ ùêæ(‡¨µ) ‡∂±ùëíùëëùë°‡µ∞
Por otro lado; en caso de que ùúéÃá ‚â†0, ùúè‡Ø¢‡Ø£‡Øñ (5-33) y ùúè‡Øî‡Øñ se accionan. La se√±al ùúè‡Øî‡Øñ se iguala a ‚àíùêø sat(ùúé)
seg√∫n (5-34).
ùúè‡Øî‡Øñ= ‚àíùêøsat(ùúé)
Considerando (5-31) y teniendo en cuenta la activaci√≥n de las dos se√±ales ùúè‡Ø¢‡Ø£‡Øñ y ùúè‡Øá se calcula (5-35).
ùúéÃá = ùúè‡Øî‡Øñ= ‚àíùêøsat(ùúé) = ·âÜ‡µ´ùúè‡Ø¢‡Ø£‡Øñ+ ùúè‡Øá‡µØ
ùëÄ‡µ∞+ ùêæ(3)ùëíÃá + ùêæ(2)ùëí+ ùêæ(1) ‡∂±ùëíùëëùë°
Reemplazando (5-33), (5-34) y (5-35) se obtiene (5-36).
‚àíùêøsat(ùúé) =
·âÜùê∂+ ùê∫‚àíùëÄ‡µ´ùêæ(‡¨∑)ùëíÃá + ùêæ(‡¨∂)ùëí+ ùêæ(‡¨µ) ‚à´ùëí‡µØ+ ùúè‡Øá
ùëÄ‡µ∞+ ùêæ(‡¨∑)ùëíÃá + ùêæ(‡¨∂)ùëí+ ùêæ(‡¨µ) ‡∂±ùëíùëëùë°
‚àíùêøsat(ùúé) =
‚àíùëÄùêøsat(ùúé) =
Los valores de ùêæ(‡Øú) se obtiene de la din√°mica del error (2-42) como se indica en (5-37).
ùëí‚Éõ+ ùêæ(3)ùëíÃà + ùêæ(2)ùëíÃá + ùêæ(1)ùëí= 0
ùë†‡¨∑+ ùêæ(3)ùë†‡¨∂+ ùêæ(2)ùë†+ ùêæ(1) = (ùë†‡¨∂+ 2ùúâùë§‡Ø°ùë†+ ùë§‡Ø°
‡¨∂)(ùë†+ 5ùúâùë§‡Ø°)
Los valores de los par√°metros son (5-38).
(10ùúâ‡¨∂+ 1)ùë§‡Ø°
Ahora, considerando, ùúè‡Øò‡Ø§ (5-26) y ùúè‡Øá (5-36) se calcula ùúè‡Øñ‡Ø¢‡Ø° (5-13) y se obtiene (5-39); donde ùúé es de la
forma de (5-29). La Fig. 5-8 muestra el esquem√°tico del controlador, donde las l√≠neas punteadas encierran
la secci√≥n del ùúè‡Øá.
ùúè‡Øñ‡Ø¢‡Ø°= ùëÄ‡µ¨ùëãÃà‡Øó+ ùõæ(‡¨∑)‡µ£ùëãÃá‡Øó‚àíùëãÃá‡µß+ ùõæ(‡¨∂)[ùëã‡Øó‚àíùëã] + ùõæ(‡¨µ) ‡∂±[ùëã‡Øó‚àíùëã] ùëëùë°‡µ∞+ ùê∂+ ùê∫‚àíùëÄùêøsat(ùúé)
Fig. 5-8. Esquem√°tico del controlador ùúè‡Øñ‡Ø¢‡Ø°.
5.4 Esfuerzo de control
El esfuerzo de control (ùê∏ùê∂) cuantifica el torque (ùúè) por unidad de tiempo que se requiere para llegar a
las condiciones deseadas. Con base en la Fig. 2-9 y (2-57) y considerando que el HEXA 6RUS tiene seis
actuadores, la se√±al es obtenida como indica la Fig. 5-9 y calculada seg√∫n (5-40), donde ùê¥‡Øß‡Øú es la i-√©sima
√°rea bajo la curva de la se√±al de j-√©simo motor, para esto, la se√±al es discretizada en ùëö secciones y el √°rea
es aproximada con trapecios. Las amplitudes de las trayectorias dependen del WS y entre mayor la
trayectoria mayor la energ√≠a requerida; sin embargo, es de inter√©s saber si ese EC relacionado con el WS es
viable. Este c√°lculo sirve como indicador de desempe√±o al concentrarse en la energ√≠a requerida por los
eslabones. La Fig. 5-10 presenta el esquem√°tico de la discretizaci√≥n de la se√±al de torque del j-√©simo motor.
Este indicador est√° relacionado con la energ√≠a necesaria que la estrategia de control y el MP requieren para
generar una trayectoria.
5.5 Error de control
El error de control (ùëí‡Øñ) cuantifica la eficiencia del controlador, tal como se detalla en (2-56), en donde
se tienen en cuenta los errores de posici√≥n, velocidad y aceleraci√≥n lineales y angulares de la plataforma
m√≥vil. Tanto los errores lineales como los angulares poseen componentes relacionados con los ejes
cartesianos y var√≠an con respecto al tiempo.
El c√°lculo del error considera una discretizaci√≥n en ùëö partes y su correspondiente norma; en
consecuencia, para la cuantificaci√≥n del error inicialmente se determinan los ùëí‡Øñ parciales de cada tipo de
movimiento seg√∫n (5-41) a (5-46); donde ùëí‡Øñ‡Øë‡Øü es ùëí‡Øñ de la traslaci√≥n, ùëí‡Øñ‡ØëÃá‡Øü es ùëí‡Øñ de la velocidad lineal, ùëí‡Øñ‡ØëÃà‡Øü
es ùëí‡Øñ de la aceleraci√≥n lineal, ùëí‡Øñ‡Øë‡Øî es ùëí‡Øñ de la rotaci√≥n, ùëí‡Øñ‡ØëÃá‡Øî es ùëí‡Øñ de la velocidad angular y ùëí‡Øñ‡ØëÃà‡Øî es ùëí‡Øñ de
la aceleraci√≥n angular. Luego se promedian todos para hallar un ùëí‡Øñ‡Øç que considere todos los movimientos
de la plataforma m√≥vil (5-47).
Fig. 5-9. Esquem√°tico de la obtenci√≥n de EC.
Fig. 5-10. Esquem√°tico del √°rea bajo la curva del torque de un motor.
ùëö‡∑ç‡∂ß(ùëã‡Øó‡Ø´‡Øú‚àíùëã‡Ø´‡Øú)‡¨∂+ ‡µ´ùëã‡Øó‡Ø¨‡Øú‚àíùëã‡Ø¨‡Øú‡µØ
‡¨∂+ (ùëã‡Øó‡Ø≠‡Øú‚àíùëã‡Ø≠‡Øú)‡¨∂
ùëö‡∑ç‡∂ß‡µ´ùëãÃá‡Øó‡Ø´‡Øú‚àíùëãÃá‡Ø´‡Øú‡µØ
‡¨∂+ ‡µ´ùëãÃá‡Øó‡Ø¨‡Øú‚àíùëãÃá‡Ø¨‡Øú‡µØ
‡¨∂+ ‡µ´ùëãÃá‡Øó‡Ø≠‡Øú‚àíùëãÃá‡Ø≠‡Øú‡µØ
ùëö‡∑ç‡∂ß‡µ´ùëãÃà‡Øó‡Ø´‡Øú‚àíùëãÃà‡Ø´‡Øú‡µØ
‡¨∂+ ‡µ´ùëãÃà‡Øó‡Ø¨‡Øú‚àíùëãÃà‡Ø¨‡Øú‡µØ
‡¨∂+ ‡µ´ùëãÃà‡Øó‡Ø≠‡Øú‚àíùëãÃà‡Ø≠‡Øú‡µØ
ùëö‡∑ç‡∂ß‡µ´ùëã‡Øó‡∞ù‡Øú‚àíùëã‡∞ù‡Øú‡µØ
‡¨∂+ (ùëã‡Øó‡∞è‡Øú‚àíùëã‡∞è‡Øú)‡¨∂+ ‡µ´ùëã‡Øó‡∞ü‡Øú‚àíùëã‡∞ü‡Øú‡µØ
ùëö‡∑ç‡∂ß‡µ´ùëãÃá‡Øó‡∞ù‡Øú‚àíùëãÃá‡∞ù‡Øú‡µØ
‡¨∂+ ‡µ´ùëãÃá‡Øó‡∞è‡Øú‚àíùëãÃá‡∞è‡Øú‡µØ
‡¨∂+ ‡µ´ùëãÃá‡Øó‡∞ü‡Øú‚àíùëãÃá‡∞ü‡Øú‡µØ
ùëö‡∑ç‡∂ß‡µ´ùëãÃá‡Øó‡∞ù‡Øú‚àíùëãÃá‡∞ù‡Øú‡µØ
‡¨∂+ ‡µ´ùëãÃá‡Øó‡∞è‡Øú‚àíùëãÃá‡∞è‡Øú‡µØ
‡¨∂+ ‡µ´ùëãÃá‡Øó‡∞ü‡Øú‚àíùëãÃá‡∞ü‡Øú‡µØ
6 (ùëí‡Øñ‡Øë‡Øü+ ùëí‡Øñ‡ØëÃá‡Øü+ ùëí‡Øñ‡ØëÃà‡Øü+ ùëí‡Øñ‡Øë‡Øî+ ùëí‡Øñ‡ØëÃá‡Øî+ ùëí‡Øñ‡ØëÃà‡Øî)
En conclusi√≥n, para la determinaci√≥n de WS del MP se considera: el an√°lisis de l√≠mites por restricciones
y discretizaci√≥n; la evaluaci√≥n de posici√≥n de la plataforma m√≥vil acerca de la existencia de restricciones
teniendo en cuenta la cinem√°tica inversa; la generaci√≥n de una nube de puntos basada en las posiciones
l√≠mites permisibles y el c√°lculo del volumen a partir de los tetraedros formados por tres puntos de la nube
de puntos y el punto central. Adicionalmente, la manipulabilidad del MP considera una discretizaci√≥n del
WS y el n√∫mero condicional de las matrices Jacobianas de velocidad lineal y angular del MP. En cuanto a
la implementaci√≥n del controlador, este tiene en cuenta una estrategia h√≠brida que integra una planitud
diferencial junto con un control atractivo. Ambas partes tienen presente las ganancias de la estrategia de
control analizando la ubicaci√≥n de los polos seg√∫n ùúâ y ùë°‡Ø¶. Los valores de ùúâ y ùë°‡Ø¶ son variables de dise√±o
para optimizar. La secci√≥n de planitud diferencial examina: ùëãÃà‡Øó, ùëíÃá, ùëí y ‚à´ùëí junto con M, C, G y las ganancias
ùõæ(‡¨µ), ùõæ(‡¨∂) y ùõæ(‡¨∑). La secci√≥n atractiva procura que la se√±al de control se mantenga en la superficie ùúé para
que ùúéÃá = 0, para esto conmuta con la funci√≥n ùë†ùëéùë°. La implementaci√≥n de la parte atractiva usa: ùëãÃá, ùëí, ‚à´ùëí y
‚à´‚à´ùëí junto con M, un l√≠mite f√≠sico de torque L, las ganancias ùêæ(‡¨µ), ùêæ(‡¨∂) y ùêæ(‡¨∑) y la funci√≥n sat en reemplazo
de ùë†ùëñùëîùëõ. Finalmente, el ùê∏ùê∂ se relaciona con la energ√≠a necesaria para que el sistema sea controlado y es un
indicador de desempe√±o a ser optimizado; mientras que, el ùëí‡Øñ determina la eficiencia del controlador al
comparar las condiciones deseadas contra las realizadas y agruparlas en una expresi√≥n que tambi√©n es
candidata para optimizar. Todos estos c√°lculos son implementados en MATLAB¬Æ. El WS y ùúÇ se
encuentran en el Anexo D, mientras que, la estrategia de control, ùê∏ùê∂ y ùëí‡Øñ se encuentran en Anexo E
6 OPTIMIZACI√ìN DEL SISTEMA
Como se mencion√≥ anteriormente, la optimizaci√≥n considera aspectos dimensionales y estructurales de
los brazos, as√≠ como los par√°metros de la estrategia de control. Estos par√°metros tienen influencia en la
altura del mecanismo, el consumo energ√©tico, la robustez de movimiento y en los costos.
La optimizaci√≥n del HEXA 6RUS en este trabajo considera las variables de dise√±o, las FOs, las
restricciones, el problema de optimizaci√≥n, el an√°lisis de dominancia, la clasificaci√≥n de hacinamiento, la
evaluaci√≥n del algoritmo, la toma de decisi√≥n y la implementaci√≥n.
6.1 Variables de dise√±o
Se consideran las variables de dise√±o la longitud de los eslabones, la tasa de amortiguaci√≥n y el tiempo
de establecimiento tal como lo indica el vector ‚Ñò‡Øó (6-1).
6.2 Funciones objetivo
La optimizaci√≥n se enfoca en cuatro FOs: el WS (Secci√≥n5.1), la ùúÇ (Secci√≥n 5.2), el EC (Secci√≥n 5.4) y
el ùëí‡Øñ (Secci√≥n 5.5); las cuales pueden ser reescritas como ùëì‡¨µ, ùëì‡¨∂, ùëì‡¨∑ y ùëì‡¨∏ respectivamente. Estas FOs se
consideran de igual importancia, as√≠ que son evaluadas simult√°neamente y unificadas en dimensi√≥n y escala
para crear un FP (Secci√≥n 2.9.4). Por tal motivo, las FO se adimensionan y se escalan entre . Para esto,
se usa el enfoque lineal de adimensionamiento el cual depende de la evaluaci√≥n de cada valor de FO y de
los valores m√°ximos y m√≠nimos . Con el fin de conocer los valores extremos de cada FO, se hace una
combinaci√≥n sin repetici√≥n con las variables de dise√±o en sus dimensiones permisibles. El WS y ùúÇ dependen
de la cinem√°tica y din√°mica del HEXA 6RUS respectivamente, mientras que EC y ùëí‡Øñ adem√°s requiere una
se√±al de entrada deseada.
6.2.1 Funciones objetivo geom√©tricas
Entonces, para ùúÇ y ùê∏ùê∂ el escalamiento es ùëäùëÜ‡Øú‡Øù
‡Ø° (6-2) y ùúÇ‡Øú‡Øù
‡Ø° (6-3) respectivamente. Sin embargo, para el
c√°lculo de EC y ùëí‡Øñ se requiere un trabajo adicional ya que requieren de una se√±al de entrada para aplicar la
ley de control.
ùëöùëéùë•(ùëäùëÜ) ‚àíùëäùëÜ‡Øú‡Øù
ùëöùëéùë•(ùëäùëÜ) ‚àíùëöùëñùëõ(ùëäùëÜ)
ùúÇ‡Øú‡Øù‚àíùëöùëñùëõ(ùúÇ)
ùëöùëéùë•(ùúÇ) ‚àíùëöùëñùëõ(ùúÇ)
6.2.2 Funciones objetivo de control
Debido a que se requiere implementar la estrategia de control para calcular EC y ùëí‡Øñ, en consecuencia,
para este trabajo, se plantea una trayectoria deseada descrita a continuaci√≥n.
El primer paso es definir la se√±al de entrada ùëÜ‡Øó= [ùëãÃà‡Øó
ùëã‡Øó] que busca evaluar el comportamiento
del controlador cuando el movimiento de la plataforma m√≥vil ùëÜ‡Øú= [ùëãÃà‡Øú
ùëã‡Øú] abarca el WS. Como el
WS var√≠a por la modificaci√≥n de ùëô‡Øï y ùëô‡Ø•, ùëÜ‡Øó es funci√≥n de √©stas tal como se expresan de (6-4) a (6-12) para
los movimientos translacionales y (6-13) a (6-21) para los movimientos rotacionales; donde, ùê¥‡Ø´ es el
m√≠nimo valor en x del l√≠mite del WS, ùë°‡Øô‡Øú‡Ø° es el tiempo total de recorrido, ùê¥‡Ø¨ es el m√≠nimo valor en y del
l√≠mite del WS, ùëë‡Øú es la mitad de la altura m√°xima que tiene el WS (Secci√≥n 5.1.2.1), ùëì‡Ø≠= 2ùúãùë°‡Øô‡Øú‡Ø°
frecuencia del movimiento en z, ùëÉ‡Ø† es el punto medio de WS (Secci√≥n 5.1.2.1) y ùê¥‡Ø• es la amplitud del
movimiento rotacional
ùëß‡Øó= ùëë‡Øúùë†ùëñùëõ(ùëì‡Ø≠ùë°) + ùëÉ‡Ø†
ùë•Ãá‡Øó= 2 ‚àóùê¥‡Ø´
ùë¶Ãá‡Øó= 3 ‚àóùê¥‡Ø¨
ùëßÃá‡Øó= ùëë‡Øúùëì‡Ø≠ùëêùëúùë†(ùëì‡Ø≠ùë°)
ùë•Ãà‡Øó= 2 ‚àóùê¥‡Ø´
ùë¶Ãà = 6 ‚àóùê¥‡Ø¨
ùëßÃà = ‚àíùëë‡Øúùëì‡Ø≠
ùúÉ= ùê¥‡Ø•ùë†ùëñùëõ(ùëì‡Ø≠ùë°)
ùúÉÃá = ùê¥‡Ø•ùëì‡Ø≠ùëêùëúùë†(ùëì‡Ø≠ùë°)
ùúÉÃà = ‚àíùê¥‡Ø•ùëì‡Ø≠
Las anteriores expresiones generan una trayectoria dentro del WS de la forma como se representa en la
Fig. 6-1. Las amplitudes de las trayectorias dependen del WS y entre mayor la trayectoria mayor la energ√≠a
requerida; sin embargo, es de inter√©s saber si ese EC relacionado con el WS es viable. Es por eso que se
define un esfuerzo de control volum√©trico (ùê∏ùê∂ùëâ) bas√°ndose en (5-40), lo que resulta en (6-22).
6 WS ‡∑ç‡∑çùê¥‡Øß‡Øú
Ahora, el adimensionamiento de ECV es (6-23).
ùê∏ùê∂ùëâ‡Øú‡Øù‚àíùëöùëñùëõ(ùê∏ùê∂ùëâ)
ùëöùëéùë•(ùê∏ùê∂ùëâ) ‚àíùëöùëñùëõ(ùê∏ùê∂ùëâ)
El adimensionamiento de ùëíùëê considera el promedio entre cada componente de ùëÜ‡Øó y ùëÜ‡Øú, por ejemplo, para
(5-41) su adimensionamiento es (6-24). Teniendo en cuenta los errores en velocidad y aceleraci√≥n
traslacional (5-41) a (5-43) el ùëíùëê‡Øú‡Øù
‡Ø° es (6-25).
ùëö‡∑ç‡∂®‡µ¨ùëã‡Øó‡Ø´‡Øú‚àíùëã‡Ø´‡Øú
+ ‡µ¨ùëã‡Øó‡Ø≠‡Øú‚àíùëã‡Ø≠‡Øú
Fig. 6-1. Ejemplo de desplazamiento de prueba dentro del WS. Configuraci√≥n ùëô‡Øï= 0.3 m y ùëô‡Ø•= 0.3 m.
6.3 Restricciones
Las restricciones dividen el WS en dos regiones, la factible y la no factible , en un desarrollo de FP,
las soluciones deben ser factibles. Existen dos tipos de restricciones, las fuertes y la suaves. Las primeras
deben satisfacerse para que la soluci√≥n sea factible, las segundas poseen algo de flexibilidad debido a la
naturaleza del problema.
Las restricciones fuertes en este trabajo se relacionan con la resistencia y rigidez de los eslabones. Por
lo tanto, se contemplan la teor√≠a de Von Mises, el criterio de Goodman modificado y los par√°metros del
material (Secci√≥n 4), los cuales deben cumplirse para no tener problemas de deformaciones permanentes o
fallas (6-26) y (6-27).
Por otro lado, las restricciones flexibles se concentran en el adimensionamiento de las FOs.
6.4 Problema de optimizaci√≥n
La optimizaci√≥n se enfoca en minimizar cada i-√©sima FO (6-32).
ùêπùëÇ‡Øú(‚Ñò‡Øó) + ùëÖ‡Ø†Œ©(‚Ñò‡Øó)
Se tiene en cuenta un par√°metro de penalidad ùëÖ‡Ø† y una funci√≥n de penalizaci√≥n Œ©(‚Ñò‡Øó). El ùëÖ‡Ø† se usa
para mantener las configuraciones que violan las restricciones flexibles en la regi√≥n factible, pero con una
penalidad. La Œ©(‚Ñò‡Øó) agrupa todas las violaciones de restricciones (6-33) y (6-34), donde las restricciones
ùëî‡Øú(‚Ñò‡Øó) se expresan como (6-35) y (6-36).
Œ©(‚Ñò‡Øó) = ‡∑çùúî‡Øú(‚Ñò‡Øó)
ùúî‡Øú(‚Ñò‡Øó) = ‡µú|ùëî‡Øú(‚Ñò‡Øó)|,
si ùëî‡Øú(‚Ñò‡Øó) < 0,
en otro caso
ùëî‡Øú(‚Ñò‡Øó) = 1 ‚àíùëì‡Øú‚â•0
ùëî‡Øú(‚Ñò‡Øó) = ùëì‡Øú‚â•0
Los l√≠mites de las variables de dise√±o se describen de (6-37) a (6-40).
6.5 An√°lisis de dominancia
Debido a que en una optimizaci√≥n multi-objetivo se hace un an√°lisis del espacio generado por las FOs,
las opciones √≥ptimas que construyen el FP deben garantizar que no existen mejores que ellas. Para
garantizar esto la mayor√≠a de los algoritmos de optimizaci√≥n multi-objetivo usan el concepto de dominancia,
donde dos soluciones son comparadas bajo estas condiciones :
La soluci√≥n ‚Ñò‡Øó
‡¨µ no es peor que una soluci√≥n de ‚Ñò‡Øó
‡¨∂ en todas las FOs.
La soluci√≥n ‚Ñò‡Øó
‡¨µ es estrictamente mejor en al menos una FO generada por ‚Ñò‡Øó
Si cualquiera de las dos condiciones se viola, ‚Ñò‡Øó
‡¨µ no domina a ‚Ñò‡Øó
Debido a que se debe hacer un an√°lisis de dominancia de todas las FOs, en este trabajo se aplica el
enfoque Naive and Slow el cual identifica los ‚Ñò‡Øó que no son dominados. El Pseudoc√≥digo 6-1 describe
el paso a paso para encontrar el conjunto de soluciones no dominadas en un vector ùëÉ de tama√±o ùëÅ.
6.6 Clasificaci√≥n de hacinamiento
El m√©todo implementado en este trabajo considera el conjunto de las soluciones generadas por los padres
(ùêπùëÇ‡Ø£) y los hijos (ùêπùëÇ‡ØÄ‡¨æ‡¨µ) por lo que la poblaci√≥n ‡µ´ùëÖ‡Øß= ùêπùëÇ‡Ø£‚à™ùêπùëÇ‡ØÄ‡¨æ‡¨µ‡µØ luego de una generaci√≥n es de
tama√±o 2N . Una forma de clasificar estas soluciones es con un an√°lisis de cercan√≠a de soluciones o de
hacinamiento. Con este enfoque, primero se hace una clasificaci√≥n por dominancia de ùëÖ‡Øß, la nueva
poblaci√≥n consta de diferentes frentes no dominados. Por lo tanto, las mejores soluciones consideran los
mejores frentes, si el primer frente no tiene las N soluciones requeridas, se pasa al segundo frente, luego al
tercero y as√≠ sucesivamente. Las soluciones restantes son eliminadas. Este escenario se ilustra en Fig. 6-2.
En vez de descartar arbitrariamente miembros de los √∫ltimos frentes, se seleccionan aquellos que se
encuentran en las zonas menos hacinadas, esto genera que el FP abarque una mayor regi√≥n de soluciones.
Pseudoc√≥digo 6-1. Identificaci√≥n de soluciones no dominadas por el enfoque Naive and Slow
i=1 y crear un vector no dominado ùëÉ‚Ä≤
if ùëó domina la soluci√≥n ùëñ
Para una soluci√≥n ùëó‚ààùëÉ donde ùëó‚â†ùëñ
if hay m√°s soluciones en ùëÉ
ùëÉ‚Ä≤ = ùëÉ‚Ä≤ ‚à™{ùëñ}
El Pseudoc√≥digo 6-2 describe el paso a paso de este proceso. Inicialmente la poblaci√≥n ùëÖ‡Øß es creada;
luego, es organizada en diferentes niveles de no dominancia y a cada soluci√≥n se le asigna el nivel ese peso
(donde 1 es el mejor nivel). Despu√©s, se hace un torneo de hacinamiento que finalmente hace que las
soluciones con menos ‚Äúvecinos‚Äù tengan prioridad para crear la siguiente generaci√≥n ùêπùëÇ‡ØÄ‡¨æ‡¨µ.
6.7 Evaluaci√≥n del algoritmo
En este trabajo se desarrolla una estrategia metaheur√≠stica denominada Evoluci√≥n diferencial
multiobjetivo elitista restringido (EDMER) que se introduce en la Secci√≥n 2.9.6. Con el fin de evaluar la
exactitud de EDMER se seleccionan funciones num√©ricas con problemas multiobjetivo o multiobjective
problems (MOP) definidos y se contrastan con los Frentes de Pareto del algoritmo de optimizaci√≥n. Estas
MOP son utilizadas a menudo ya que examinan la capacidad de un algoritmo para "manejar" varias
caracter√≠sticas del dominio del problema debido a que incorporan caracter√≠sticas relevantes del espacio de
b√∫squeda que deben ser abordadas por alguna instancia particular del algoritmo. La m√©trica para definir el
error es el Pareto Front Distance Error (PFDE) (6-41); donde, ùëõ es el n√∫mero de puntos evaluados y ùëë es
la distancia entre el i-√©simo punto del FP y el i-√©simo punto de MOP .
Con el fin de evaluar el EDMER se eligen dos MOP: la expresi√≥n de Binh (6-42) y la de Viennet (6-43),
las cuales cuentan con dos y tres FOs respectivamente. Para ambos casos las MOP definen las funciones a
optimizar y las restricciones que deben cumplirse. Los FP de estas expresiones se contrastan con los puntos
ya definidos de ambas expresiones que pueden descargarse en . En ambos casos las soluciones del
EDMER con respecto a las MOP presentan FPDE < 1%. Adicionalmente, se generan FPs con el m√≥dulo
de algoritmos gen√©ticos o genetic algorithms (GA) ya programado de MATLAB¬Æ. La distribuci√≥n de los
FP del MOP, EDMER y GA se ilustran en Fig. 6-3 y Fig. 6-4.
Fig. 6-2. Esquem√°tico de la clasificaci√≥n por hacinamiento .
Definici√≥n
Restricciones
ùëì‡¨µ(ùë•, ùë¶) =
ùëì‡¨∂(ùë•, ùë¶) =
(ùë•‚àí5)‡¨∂+ (ùë¶‚àí5)‡¨∂
0 ‚â•(ùë•‚àí5)‡¨∂+ ùë¶‡¨∂‚àí25
0 ‚â•‚àí(ùë•‚àí8)‡¨∂‚àí(ùë¶+ 3)‡¨∂+ 7.7
Definici√≥n
Restricciones
ùëì‡¨µ(ùë•, ùë¶) =
ùëì‡¨∂(ùë•, ùë¶) =
ùëì‡¨∑(ùë•, ùë¶) =
(3ùë•‚àí2ùë¶+ 4)‡¨∂
+ (ùë•‚àíùë¶+ 1)‡¨∂
Fig. 6-3. Comparaci√≥n de FP del MOP, EDMER y GA de expresi√≥n de Binh
6.8 M√©todo de toma de decisi√≥n y espaciado
Debido a que el FP consta de varias soluciones √≥ptimas, se requiere saber el mejor punto de ese frente
con ayuda de estrategias de toma de decisiones. Numerosos enfoques han sido presentados en la literatura
 . El presente estudio usa la m√©trica LINMAP que consta en computar la distancia Euclidiana de cada
punto del FP (ùõ¨) con respecto al punto ideal, que en este trabajo es la coordenada [0
0]. La Fig.
6-5 es un ejemplo de la representaci√≥n gr√°fica del an√°lisis LINMAP de un FP de 3 FOs. Se resalta que el
c√°lculo de LINMAP se hace en el FP con las FOs adimensionadas.
La evaluaci√≥n del desempe√±o de AEs ha venido desarrollandose de forma cuantitativa, este trabajo
considera el espaciado de soluciones (ESP), el cual mide qu√© tan diversas o bien distribuidas est√°n las
soluciones en un FP . La m√©trica se describe con (6-44); donde ùëë‡Øú es la distancia euclidiana entre una
soluci√≥n ùë•‡Øú y su soluci√≥n m√°s cercana, ùëõ es el n√∫mero de soluciones en el FP y ùëëÃÖ es la distancia euclidiana
promedio entre soluciones, se resalta que valores peque√±os de ESP indican una mejor distribuci√≥n de las
soluciones .
Pseudoc√≥digo 6-2. Clasificaci√≥n de hacinamiento.
Ordenar las soluciones no dominadas de ùëÖ‡Øß en diferentes Frentes ‚Ñ±‡Øú
Establecer la siguiente generaci√≥n de padres en cero.
while ‡∏´ùêπùëÇ‡Ø£
‡ØÄ‡¨æ‡¨µ‡∏´+ |‚Ñ±‡Øú| ‚â§ùëÅ
Nombre el n√∫mero de soluciones de ‚Ñ±‡Øú como ùëô
while ùëö‚â§n√∫mero de FO
Por cada ùêπùëÇ‡Ø†‚Üíùëö= 1,2,3,4. Organizar cada ùêπùëÇ‡Ø† de menor a
Asignar un valor de distancia ùëë‡Ø†‡Øú= ‚àû a la primera y √∫ltima ùêπùëÇ‡Ø†
Calcular la distancia ùëë‡Ø†‡Øú para el resto de las soluciones que van de
ùëó= 2 hasta ùëô‚àí1
ùëë‡Ø†‡Øú= ùëë‡Ø†‡Øú+ ùêπùëÇ‡Ø†
ùêπùëÇ‡Ø†‡Ø†‡Øî‡Ø´‚àíùêπùëÇ‡Ø†‡Ø†‡Øú‡Ø°
Asignar ùëë‡Ø†‡Øú a cada ùêπùëÇ
Ordenar ùêπùëÇ‡Ø£
‡ØÄ‡¨æ‡¨µ seg√∫n el valor de ùëë‡Ø†‡Øú de mayor a menor
Escoger las primeras ùëÅ soluciones
6.9 . Implementaci√≥n
El Pseudoc√≥digo 6-3 describe la implementaci√≥n del EDMER en el HEXA 6RUS. Sin embargo, varios
autores remarcan que los valores de ùê∂‡Ø•, ùêπ y el n√∫mero de generaciones (numGen) var√≠a de acuerdo con el
problema . Por esta raz√≥n, la configuraci√≥n m√°s competitiva relacionada con Œõ fue inicialmente
analizada con cuatro configuraciones de ùê∂‡Ø•, ùêπ quienes son evaluadas en ocho condiciones de numGen
diferentes con un tama√±o de poblaci√≥n (npop) de 64. Los valores de ùê∂‡Ø• y ùêπ se toman de y y este
primer estudio se resume con la Tabla 6-1. Luego de determinar los valores de ùê∂‡Ø• y ùêπ con tendencia a tener
un Œõ menor, se escoge la mejor soluci√≥n de entre tres estudios en donde npop tiene un valor de 2‡Øú,
ùëñ= 5, 6, ‚Ä¶ 9 y esta soluci√≥n es en conclusi√≥n la opci√≥n m√°s competitiva de este trabajo.
Fig. 6-4. Comparaci√≥n de FP del MOP, EDMER y GA de expresi√≥n de Viennet.
Fig. 6-5. M√©todo de LINMAP de selecci√≥n de punto m√°s competitivo 
Pseudoc√≥digo 6-3. EDMER para HEXA 6RUS
Determinaci√≥n de ‚Ñò‡Øó y ùëõùëùùëéùëüùëé
ùë°‡Ø¶], ùëõùëùùëéùëüùëé= 4
Valores de tama√±o de poblaci√≥n ùëõùëùùëúùëù
ùëõùëùùëúùëù= 2 √ó 2‡Ø°‡Ø£‡Øî‡Ø•‡Øî
Valores de ùê∂‡Ø• y ùêπ
0.5], ùêπ= ‡µ•
Crear un vector con la combinatoria de ‚Ñò‡Øó basado
en los valores extremos.
‚Ñò‡Øó‡Øò= ·âÄ2‡Ø°‡Ø£‡Øî‡Ø•‡Øî
Determinar resto de poblaci√≥n
‚Ñò‡Øó‡Ø•= ùëüùëéùëõùëë(‚Ñò‡Øó
ùêπùëÇ‡Ø£ padres con ‚Ñò‡Øó‡Øòy ‚Ñò‡Øó‡Ø•
ùêπùëÇ‡Ø£= [ùêπùëÇùëí‡Øú
‚Üí‡µúùêπùëÇùëí‡Øú= ùëì‡Øú(‚Ñò‡Øó‡Øò) + ùëÖ‡Ø†Œ©(‚Ñò‡Øó‡Øò)
ùêπùëÇùëí‡Øù= ùëì‡Øú(‚Ñò‡Øó‡Ø•) + ùëÖ‡Ø†Œ©(‚Ñò‡Øó‡Ø•)
while G < numGen
Selecci√≥n de D, A, B y C.
ùê∑= 1, ‚Ä¶ , ùëõùëùùëúùëù
ùê¥= 1, ‚Ä¶ , ùëõùëùùëúùëù
ùêµ= 1, ‚Ä¶ , ùëõùëùùëúùëù
ùê∂= 1, ‚Ä¶ , ùëõùëùùëúùëù
if ùëü‡Øû,‡Ø†‚â§ùê∂‡Ø•‚ãÅùëö= ùê∑‡Øû
Generaci√≥n de un hijo
‡ØÄ‡¨æ‡¨µ= ùêπùëÇ‡Æº‡≥ñ,‡Ø†
+ ùêπ‡µ´ùêπùëÇ‡Æ∫‡≥ñ,‡Ø†
ùëò= 1, ‚Ä¶ , ùëõùëùùëúùëù
ùëö= 1, ‚Ä¶ , ùëõùëùùëéùëüùëé
La nueva generaci√≥n es el mismo padre
‡ØÄ‡¨æ‡¨µ= ùêπùëÇ‡Øû,‡Ø†
Unir la poblaci√≥n de padres e hijos.
An√°lisis de dominancia
Pseudoc√≥digo 6-1
Clasificaci√≥n por hacinamiento
Escoger los mejores sujetos como nuevos
Evaluaci√≥n de LINMAP
Tabla 6-1. Tabla de par√°metros de calibraci√≥n.
Configuraci√≥n
N√∫mero de generaciones
En conclusi√≥n, la aplicaci√≥n de la estrategia de optimizaci√≥n para el dise√±o del HEXA 6 RUS tuvo en
cuenta lo siguiente: Se consideraron como variables de dise√±o la longitud de los eslabones, la tasa de
amortiguaci√≥n y el tiempo de establecimiento. Las FOs fueron ùëäùëÜ‡Øú‡Øù
‡Ø°. Se definieron las
restricciones del problema relacionadas con la resistencia a la fatiga de los eslabones y el
adimensionamiento de las FOs. El algoritmo metaheur√≠stico elegido fue el EDMER del que se detall√≥ entre
otros su an√°lisis de dominancia, clasificaci√≥n de hacinamiento y su PFDE. Se eligi√≥ el LINMAP como
m√©todo de toma de decisi√≥n y se tomaron par√°metros de calibraci√≥n relacionados con ùê∂‡Ø•, ùêπ y n√∫mero de
generaciones Todo esto fue implementado en MATLAB¬Æ y detallado en el Anexo F.
7 RESULTADOS Y DISCUSI√ìN
En esta secci√≥n se presenta los resultados obtenidos al hacer el an√°lisis de la cinem√°tica inversa y algunos
ejemplos. Adicionalmente, se ilustra la soluci√≥n del WS y el an√°lisis de Œ∑. Luego se expone los efectos de
la estrategia de control y los resultados de los √≠ndices de EC y ùëí‡Øñ. Adem√°s, se exhibe la ejecuci√≥n del
EDMER, los FPs. Finalmente, se describe el prototipo resultante del proceso de dise√±o.
7.1 Producto del an√°lisis de cinem√°tica inversa
Se analizaron cinco posiciones con el fin de validar el c√°lculo de la cinem√°tica inversa. Para lo cual, se
tomaron las siguientes consideraciones. Para todas las posiciones analizadas la plataforma fija y la
plataforma m√≥vil mantuvieron las mismas dimensiones descritas en la Tabla 4-5. Las dimensiones de ùëô‡Øï y
ùëô‡Ø• variaron. Las posiciones cartesianas de la plataforma m√≥vil se describieron con ùëù considerando el
punto de origen el marco de referencia ùêπ el cual se ubic√≥ en la cara inferior de la plataforma fija. Las
posiciones angulares de la plataforma m√≥vil se describieron con el vector ùëù‡Øî‡Ø°‡Øö. Los √°ngulos obtenidos ùúÅ‡Øú
(4-33) se validaron con ayuda del software CAD Autodesk Power Shape¬Æ. Estos √°ngulos se renombraron
‡Øñ‡Øî‡Øü mientras que los del modelo CAD como ùúÅ‡Øú
‡Æº‡Æ∫‡ÆΩ. Adem√°s, se hall√≥ el error de la ra√≠z cuadr√°tica
media (RMSE) de cada validaci√≥n y se presentan dos vistas de la posici√≥n analizada. La Tabla 7-1 muestra
los valores de la primera validaci√≥n los cuales se ilustran en la Fig. 7-1. El RMSE es igual a 0.009¬∞.
Tabla 7-1. Datos de entrada de la validaci√≥n 1.
La Tabla 7-2 muestra los valores del segundo an√°lisis, mientras que Fig. 7-2 indica el esquem√°tico de la
configuraci√≥n en CAD. El RMSE es igual a 0.136¬∞. La Tabla 7-3 muestra los valores de la tercera validaci√≥n
los cuales se resumen en la Fig. 7-3. El RMSE es igual a 0.09¬∫. La Tabla 7-4 muestra los valores del segundo
an√°lisis, mientras que la Tabla 7-4 indica el esquem√°tico de la configuraci√≥n en CAD. El RMSE es igual a
0¬∫. LaTabla 7-5 muestra los valores de la tercera validaci√≥n los cuales se resumen en la Fig. 7-5. El RMSE
es igual a 0¬∫.
Fig. 7-1. Esquem√°tico de la primera validaci√≥n de la cinem√°tica inversa.
Tabla 7-2. Datos de entrada de la validaci√≥n 2
Fig. 7-2. Esquem√°tico de la segunda validaci√≥n de la cinem√°tica inversa.
Tabla 7-3. Datos de entrada de la validaci√≥n 3.
Fig. 7-3. Esquem√°tico de la tercera validaci√≥n de la cinem√°tica inversa.
Tabla 7-4. Datos de entrada de la validaci√≥n 3.
452.90 mm.
Fig. 7-4. Esquem√°tico de la cuarta validaci√≥n de la cinem√°tica inversa.
Tabla 7-5. Datos de entrada de la validaci√≥n 3.
397.26 mm.
Fig. 7-5. Esquem√°tico de la quinta validaci√≥n de la cinem√°tica inversa.
7.2 Soluci√≥n del espacio de trabajo
Con el fin de demostrar los resultados de la metodolog√≠a para el c√°lculo de WS, se computaron dos WS
modificando la longitud de los eslabones. Cada WS se calcul√≥ siguiendo el Pseudoc√≥digo 5-1. Se hizo una
discretizaci√≥n en el eje Z (ùëù‡Ø™‡Ø¶) como lo indica la Fig. 5-2 de diecinueve partes y en cada capa discretizada
se evaluaron veinticinco vecindades de singularidades. Como el mecanismo es sim√©trico con estas
vecindades se hicieron dos patrones circulares de 120¬∞ cada una y se hizo el c√°lculo de cada tetraedro seg√∫n
la Secci√≥n 5.1.3. Con el fin de evitar sobreimpulsos en los torques, el limite inferior alcanzable ùëÉ‡Øï‡Ø¢ del WS
se configuro como un 90% del total alcanzable, ùëÉ‡Øï‡Ø¢= 0.9ùëÉ‡Øï‡Ø¢. Para evitar colisiones entre los eslabones
inferiores y la pieza impresa, el l√≠mite ùëÉ‡Øß‡Ø¢ debe estar por debajo de la articulaci√≥n universal. Esto implica
que la longitud de los eslabones, determinan la altura m√°xima del HEXA 6RUS.
La Fig. 7-6 expone el WS obtenido con un ùëô‡Øï= 0.07 m y ùëô‡Ø•= 0.18 m, esta configuraci√≥n genera un
WS=8.49 ùëí‡¨ø‡¨π ùëêùëö‡¨∑ y una altura m√°xima del HEXA 6RUS de 0.77m.
Por otra parte, al igualar los valores de los eslabones a 0.5 m el valor de WS es de 1200 ùëêùëö‡¨∑, lo que
implica una altura del dispositivo de 0.49 m. La Fig. 7-7 esquematiza estos valores.
Debido al impacto de las variaciones sobre el tama√±o del HEXA 6RUS y a que WS es una funci√≥n
objetivo que debe ser adimensionada seg√∫n la Secci√≥n 6.2.1. Se evaluaron 121 configuraciones de eslabones
los cuales sus dimensiones variaron seg√∫n la Tabla 7-6.
Los WS obtenidos fueron graficados y sus valores m√°ximos y m√≠nimos determinados seg√∫n se ve en la
Fig. 7-8. El WS m√°ximo equivale a 0.118 m3 aproximadamente cuando los valores de ùëô‡Øïy ùëô‡Ø• son de 0.414
y 0.5 m respectivamente. Por otro lado, El WS m√≠nimo es de 1.48 10-6 m3 cuando los valores de ùëô‡Øïy ùëô‡Ø• son
de 0.199 y 0.180 m respectivamente.
En este punto es importante aclarar que debido a que para crear el FP las FO requieren ser normalizadas.
A cada FO se le determinan sus l√≠mites m√°ximos y m√≠nimos.
Fig. 7-6. WS con una configuraci√≥n de ùëô‡Øï= 0.07 m y ùëô‡Ø•= 0.18 m.
Fig. 7-7. WS con una configuraci√≥n de |ùëô‡Øï| = 0.5 m y |ùëô‡Ø•| = 0.5 m.
Tabla 7-6. Valores de los eslabones para el estudio de WS.
La Fig. 7-8 muestra que la en el HEXA 6RUS, existe una relaci√≥n entre el incremento de los eslabones
y el WS. Esto se debe a que entre mayor sea la longitud, mayor el alcance que pueden tener.
Los mayores WS se obtuvieron cuando el eslab√≥n superior es m√°s corto que el eslab√≥n superior. Por
otro lado, una relaci√≥n mayor del superior con respecto al inferior impacta significativamente el WS,
espec√≠ficamente cuando la relaci√≥n es mayor a 1. Para el HEXA 6RUS la relaci√≥n de longitud de
eslabonesùëô‡Øï/ùëô‡Ø• con un mayor WS es de 0.828 seg√∫n lo evidencia la Fig. 7-9.
Fig. 7-8. WS de diferentes configuraciones de ùëô‡Øï y ùëô‡Ø•.
Fig. 7-9. WS con respecto a ùëôùëè/ùëôùëü del HEXA 6RUS
7.3 An√°lisis de manipulabilidad
Teniendo en cuenta que las matrices Jacobianas ùêΩ‡Ø© y ùêΩ‡Ø™ y la manipulabilidad general ùúÇ (5-12) dependen
de la longitud de los eslabones, y del WS; y al igual que WS, ùúÇ es una funci√≥n objetivo (6-3), se evaluaron
121 configuraciones de HEXA 6RUS seg√∫n la Tabla 7-6 y se determinaron los valores m√°ximos y m√≠nimos
A medida que van aumentando el largo de los eslabones, ùúÇ tiende a ser m√°s mayor; lo que implica que
los errores de velocidad que puedan tener los actuadores incrementan los errores de movimiento en la
plataforma m√≥vil al aumentar el tama√±o del HEXA 6RUS. Esto resalta la importancia de encontrar puntos
No. de configuraci√≥n.
[0.828, 0.118]
Relaci√≥n lb / lr
m√°s competitivos por medio de desarrollo de frentes de Pareto debido a que el WS y el ùúÇ tienen una relaci√≥n
Fig. 7-10. N√∫mero condicional de diferentes configuraciones de ùëô‡Øï y ùëô‡Ø•.
7.4 Efecto de la implementaci√≥n de la estrategia de control
Como se enunci√≥ en la Secci√≥n 5.3, la estrategia de control la comprenden el control equivalente y el
atractivo. Luego se ser validado el modelo din√°mico (Anexo G), las matrices M, C y G fueron usadas. El
HEXA 6RUS controlado fue simulado en MATLAB R2021B¬Æ utilizando el m√≥dulo Simulink¬Æ como se
ve en la Fig. 7-11 y detallado en el Anexo E. En esta simulaci√≥n existen varios subsistemas que a
continuaci√≥n se describen.
El m√≥dulo matrices MCG_S, coloreado en rojo y cuyas salidas son rojas, calcula las matrices M, C y G
(4-105) a (4-107), las cuales son funciones de la longitud de los eslabones (bloques verdes), la posici√≥n
(color azul claro) y la velocidad (magenta) de la plataforma m√≥vil.
Respecto al subsistema Mecanismo (bloque y salidas naranja), por costo computacional se utiliz√≥ el
modelo din√°mico (Secci√≥n 4.4.6). y la se√±al de torque (T) procedente del controlador. La salida del bloque
Mecanismo es la aceleraci√≥n de la plataforma m√≥vil.
La se√±al T proviene del bloque del controlador (azul oscuro) el cual tiene nueve entradas y que ser√°
detallado m√°s adelante. Adicionalmente, la simulaci√≥n consta del bloque Generador de Trayectoria (bloque
gris) que provee el vector ùëÜ‡Øó descrito en la Secci√≥n 6.2.2. Las se√±ales de T y ùëÜ‡Øú, para el c√°lculo de ùê∏ùê∂ y ùëí‡Øñ
(Secciones 0 y 5.5 ), son almacenadas en los bloques torque (verde oscuro) y en SalidaControl_Pos,
SalidaControl_Vel y SalidaControl_Acel (bloques negros).
16.80332347
√çndice de destreza (1/m3)
No. configuraci√≥n
Fig. 7-11. Controlador del HEXA 6RUS en Simulink¬Æ
De la Fig. 7-12, la zona en el √°rea gris, representa la configuraci√≥n en Simulink¬Æ del control equivalente.
Donde, las entradas corresponden a lo descrito en la Tabla 7-7; las ganancias Kp2, Kp3, Kp6 corresponden
a ùõæ(‡¨∑), ùõæ(‡¨∂), ùõæ(‡¨µ) (5-26) y el bloque Matrix Multiply hace la multiplicaci√≥n con M descrita en (5-26).
Por otro lado, en la Fig. 7-13 la zona gris muestra la configuraci√≥n de ùúè‡Øá. Las entradas y salidas
numeradas corresponden a lo descrito en la Tabla 7-7; las ganancias Kp1, Kp4 y Kp5 se relacionan con
ùêæ(‡¨∑), ùêæ(‡¨∂) y ùêæ(‡¨µ) respectivamente; el sat esta limitado por 6 Nm que es el l√≠mite de torque m√°ximo del
fabricante del actuador (Anexo B). Finalmente, el bloque Matrix Multiply hace la multiplicaci√≥n con M
descrita en (5-39).
Como ejemplo, el sistema controlado fue simulado bajo las siguientes condiciones: ùëô‡Øï= 0.3 ùëö,ùëô‡Ø•=
0.3 ùëö, ùúâ= 0.7 y ùë°‡Ø¶= 0.25 s, ùë°‡Øô‡Øú‡Ø°= 2 ùë†, ùê¥‡Ø¨= 0.0671 ùëö, ùëÉ‡Ø†= ‚àí0.40 ùëö, ùê¥‡Ø´= 0.0671 ùëö, ùëë‡Øú=
0.0796 ùëö, ùëì‡Ø≠= ùúã y ùê¥‡Ø•= 5‡Ø¢. Las respuestas de la simulaci√≥n se plasman en las Fig. 7-14 a Fig. 7-31, de
las cuales se puede apreciar lo siguiente. Los comportamientos de posici√≥n en los ejes X y Y presentan un
error menor al 1% (Fig. 7-14 y Fig. 7-15), en el eje z se present√≥ un error de seguimiento menor al 1%, lo
que se considera aceptable para la aplicaci√≥n debido a que en la aplicaci√≥n en MA no se exigen cambios
bruscos de posici√≥n, velocidad ni aceleraci√≥n.
De forma similar, las velocidades traslacionales en x y y (Fig. 7-17 y Fig. 7-18) presentaron errores
menores al 1%, mientras que la velocidad en z (Fig. 7-19) gener√≥ un sobreimpulso. Este sobreimpulso es
el esperado debido al valor de ùúâ y a que el sistema inicia en reposo; sin embargo, luego de ùë°‡Ø¶ el sistema
sigue la velocidad deseada.
Tabla 7-7. Se√±ales correspondientes por n√∫mero de entrada.
No. de entrada
Fig. 7-12. Control equivalente en Simulink¬Æ
Fig. 7-13. Control atractivo en Simulink¬Æ
Respecto a las aceleraciones traslacionales, se evidenci√≥ un sobreimpulso del 6% en X debido a las
condiciones iniciales de aceleraci√≥n de la simulaci√≥n (Fig. 7-20), respecto al eje Y (Fig. 7-21), el
seguimiento presenta errores menores al 1% salvo en el instante de 0.67 s; sin embargo, el RMSE entre las
dos se√±ales fue de 1.46√ó10-3 m/s2 valor aceptable para la aplicaci√≥n. En el eje Z, el seguimiento tuvo el
comportamiento esperado del sobreimpulso y posterior establecimiento (Fig. 7-22), el sobreimpulso
considera las condiciones iniciales de aceleraci√≥n de la simulaci√≥n.
El seguimiento de Œ∏, œÜ œà presenta errores menores al 1% luego de ùë°‡Ø¶ (Fig. 7-23 a Fig. 7-25), los valores
de RMSE fueron de 5√ó10-4 rad, 6.9√ó10-5 rad, y 3.21√ó10-5 rad, respectivamente, valores que se consideran
aceptables para la aplicaci√≥n en MA. Con relaci√≥n a ùúÉ,Ãá ùúë,Ãá las Fig. 7-26 y Fig. 7-27 evidencian el
sobreimpulso debido a las condiciones iniciales; al igual que en las otras se√±ales, luego de ùë°‡Ø¶, el seguimiento
presenta errores por debajo del 1%. Al ùúìÃá iniciar en cero al igual que la se√±al de referencia, no existe
sobreimpulso (Fig. 7-28)y el valor de RMSE es de 3.65√ó10-5 rad/m.
Finalmente, ùúÉÃà, ùúëÃà y ùúìÃà fueron las se√±ales sensibles a los cambios. ùúÉÃà present√≥ sobreimpulsos entre
2.25 √ó10-5 rad/m2 y 9√ó10-3 rad/m2 en los cambios de direcci√≥n (Fig. 7-29). Referente a ùúëÃà (Fig. 7-30), se
present√≥ sobreimpulsos al inicio del control de un valor de 0.05√ó10-2 rad/m2, luego la se√±al se mantuvo por
debajo del 1%. En consideraci√≥n a ùúìÃà, √©sta present√≥ un RMSE 9.84 √ó10-2 rad/m2.
Fig. 7-14. Comparaci√≥n de la posici√≥n deseada en X vs la generada controlada.
Fig. 7-15. Comparaci√≥n de la posici√≥n deseada en Y vs la generada controlada.
tiempo (s)
X Controlada
tiempo (s)
Y Controlada
Fig. 7-16. Comparaci√≥n de la posici√≥n deseada en Z vs la generada controlada.
Fig. 7-17. Comparaci√≥n de la velocidad deseada en X vs la generada controlada.
Fig. 7-18. Comparaci√≥n de la velocidad deseada en Y vs la generada controlada.
Vel Y (m/s)
tiempo (s)
Y Controlada
Fig. 7-19. Comparaci√≥n de la velocidad deseada en Z vs la generada controlada.
Fig. 7-20. Comparaci√≥n de la aceleraci√≥n deseada en X vs la generada controlada.
Fig. 7-21. Comparaci√≥n de la aceleraci√≥n deseada en Y vs la generada controlada.
Acel X (m/s2)
tiempo (s)
X Controlado
Acel Y (m/s2)
tiempo (s)
X Controlado
Fig. 7-22. Comparaci√≥n de la aceleraci√≥n deseada en Z vs la generada controlada.
Fig. 7-23. Comparaci√≥n de ùúÉ vs la generada controlada.
Fig. 7-24. Comparaci√≥n de ùúë vs la generada controlada.
tiempo (s)
Œ∏ Controlada
tiempo (s)
œÜ Controlada
Fig. 7-25. Comparaci√≥n de ùúì vs la generada controlada.
Fig. 7-26. Comparaci√≥n de la velocidad ùúÉ vs la generada controlada.
Fig. 7-27. Comparaci√≥n de la velocidad ùúë vs la generada controlada.
tiempo (s)
œà Controlada
Vel Œ∏ (rad/s)
tiempo (s)
Œ∏ Controlada
Vel œÜ /rad/s)
tiempo (s)
œÜ Controlada
Fig. 7-28. Comparaci√≥n de la velocidad ùúì vs la generada controlada.
Fig. 7-29. Comparaci√≥n de la aceleraci√≥n ùúÉ vs la generada controlada.
Fig. 7-30. Comparaci√≥n de la aceleraci√≥n ùúë vs la generada controlada.
Vel œà (rad/s)
tiempo (s)
œà Controlada
Acel Œ∏ (rad/s2)
tiempo (s)
Œ∏ Controlada
Acel œÜ (rad/s2)
tiempo (s)
œÜ Controlada
Fig. 7-31. Comparaci√≥n de la aceleraci√≥n ùúì vs la generada controlada.
7.5 Indicador del esfuerzo de control
De acuerdo con la Secci√≥n 2.8, el ùê∏ùê∂ cuantifica el ùúè por unidad de tiempo que se requiere para llegar a
las condiciones deseadas. Al igual que lo que se hizo con WS, se simularon 121 configuraciones de
eslabones seg√∫n la Tabla 7-6 del sistema de la Fig. 7-11; la trayectoria fue la planteada seg√∫n las ecuaciones
de (6-4) a (6-21) considerando un ùúâ= 0.7, ùë°‡Ø¶= 0.25 s y ùë°‡Øô‡Øú‡Ø°= 2 ùë†. La Fig. 7-32 indica los valores
corresponden
ùëô‡Øï= 0.457,
ùëô‡Øï= 0.371,
ùëô‡Ø•= 0.18 respectivamente, los que luego fueron utilizados en el adimensionamiento. La Fig. 7-33 eviencia
la relaci√≥n de los eslabones con la energ√≠a requerida, donde se aclara que el ECV en relaciones espec√≠ficas
es hasta siete veces mayor, acentuando la relevancia de √©sta relaci√≥n en el desempe√±o energ√©tico del HEXA
Fig. 7-32. ECV de diferentes configuraciones de ùëô‡Øï y ùëô‡Ø• con una se√±al sinoidal en solo Z.
Acel œà (rad/s2)
tiempo (s)
œà Controlada
110, 2.051923788
78, 716.7247049
No. Configuraci√≥n.
Fig. 7-33. ECV teniendo en cuenta la relaci√≥n ùëô‡Øïùëô‡Ø•
7.6 Ejecuci√≥n de la optimizaci√≥n
De acuerdo con lo mencionado en la Secci√≥n 6.1y 6.2, la optimizaci√≥n del HEXA 6RUS consider√≥ el
vector de dise√±o ‚Ñò‡Øó (6-1) y las FOs normalizadas ùëì‡¨µ, ùëì‡¨∂, ùëì‡¨∑ y ùëì‡¨∏, (6-2), (6-3), (6-23) y (6-25)
respectivamente. El algoritmo trabajo con las cuatro FOs al tiempo generando un FP de cuatro dimensiones.
Se analiz√≥ la sensibilidad de los par√°metros ùê∂‡Ø• y ùêπ, para evaluar su efecto en el valor de LINMAP (ùõ¨)
(Secci√≥n 6.8), seg√∫n la Tabla 6-1. Este an√°lisis especific√≥ que en todas las numGen la mejor opci√≥n es la
configuraci√≥n n√∫mero 2 con numGen=512 (Tabla 7-8). Con el fin de facilitar la observaci√≥n de la relaci√≥n
de las FO en el FP, algunas de √©stas se presentan de forma bidimensional, tanto adimensional como con sus
respectivas unidades.
Tabla 7-8. Resultado del an√°lisis de sensibilidad de ùê∂‡Ø•y ùêπ en Œõ
Configuraci√≥n
N√∫mero de generaciones (numGen)
2.06, 716.72
ECV (Kg/mss)
relaci√≥n lb / lr
La Fig. 7-34 muestra ùúÇ contra ùëäùëÜ, ac√° se evidencia que un comportamiento logar√≠tmico al inicio de ùëäùëÜ
y una meseta de ùúÇ a medida que este se incrementa, esto demuestra que en el HEXA 6RUS se pueden tener
ùëäùëÜ mayores que implican variaciones de ùúÇ de 2.5.
La Fig. 7-35 presenta el comportamiento de EC versus WS, en Fig. 7-35.A se indica que la relaci√≥n se
mantiene casi constante hasta cuando la relaci√≥n ùëô‡Øïùëô‡Ø•
‚ÅÑ se acerca a 0.6 (Fig. 7-9). El ùê∏ùê∂ m√°s alto es
0.119 ùëÅ/ùëö cuando ùëäùëÜ= 0.0916 ùëö‡¨∑, ùê∏ùê∂ùëâ= 3.68 ùêæùëî/ùëöùë† y ùëô‡Øïùëô‡Ø•
= 0.68. La grafica demuestra que no
necesariamente los ùëäùëÜ m√°s grandes requieren los mayores torques.
La Fig. 7-36 expone la relaci√≥n de ùê∏ùê∂ùëâ y ùúÇ; la disminuci√≥n de los torques necesarios en un ùëäùëÜ
determinado no implican la disminuci√≥n en la amplificaci√≥n del error de movimiento. En este frente los
ùê∏ùê∂ùëâ y ùúÇ m√°ximos (ùê∏ùê∂ùëâ= 527.39, ùúÇ= 10.65) y m√≠nimos (ùê∏ùê∂ùëâ= 2.04, ùúÇ= 2.40), valores que generan
las relaciones ùëô‡Øïùëô‡Ø•
= 0.39 y ùëô‡Øïùëô‡Ø•
= 1. Se destaca que este comportamiento no es directamente
proporcional y resalta la relevancia de encontrar el Œõ.
Fig. 7-34. FP A) normalizado y B) dimensionado de ùúÇ y ùëäùëÜ.
La Fig. 7-37 muestra como el ùëí‡Øñ y ùê∏ùê∂ùëâ se relacionan. Los ùëí‡Øñ se mantienen en un rango entre 8.18% y
12.80% en la mayor√≠a de los casos, excepto en relaciones de 0.618, 0.632, 0.718, 0.650, 0.694, esto resalta
que existen configuraciones particulares que no solo exigen los motores, sino que amplifican el error de
forma considerable.
Fig. 7-35. FP A) normalizado y B) dimensionado de ùê∏ùê∂ y ùëäùëÜ.
Fig. 7-36. FP A) normalizado y B) dimensionado ùê∏ùê∂ùëâ y ùúÇ.
ECV (Kg/ms)
Fig. 7-37. FP A) ECV y ec adimensional. B) ECV y ec, dimensionado. C) EC y ec.
ECV (Kg/ms)
Respecto a la convergencia del algoritmo, la Fig. 7-38 presenta el comportamiento de convergencia del
espaciamiento (Secci√≥n 6.8) ante tres ejecuciones del EDMER, donde npop=1024 y numGen=512, este
gr√°fico muestra que el algoritmo converge gradualmente a un mismo valor. Por otra parte, la Fig. 7-39
evidencia la convergencia en linea del ùõ¨ (Secci√≥n 6.8) ante los mismos valores de npop y numGen,
mostrando la misma tendencia de convergencia que el espaciamiento.
Fig. 7-38. Convergencia en linea del espaciamiento. npop=1024, numGen=512.
Fig. 7-39. Convergencia en linea del ùõ¨. npop=1024, numGen=512.
En cuanto al comportamiento estad√≠stico, se realizaron 12 ejecuciones del EDMER y se analizaron la
media, la desviaci√≥n, el coeficiente de variaci√≥n y el rango, tanto del esparcimiento de las soluciones (Fig.
7-40) como del indicador de toma de desici√≥n ùõ¨ (Fig. 7-41). El estudio estad√≠stico se hizo considerando
que debido al n√∫mero de muestras, la mejor opci√≥n es por medio de una T de student, los resultados se
resumen en la Tabla 7-11.
Fig. 7-40. Comportamiento del espaciado a diferentes ejecuciones.
Fig. 7-41. Comportamiento del ùõ¨ a diferentes ejecuciones.
Tabla 7-9. Resultados estad√≠sticos del espaciado y ùõ¨ en 12 muestras.
Espaciamiento
Desviaci√≥n
Coeficiente de variaci√≥n
Luego de comprender el desempe√±o que puede tener HEXA 6RUS mediante el an√°lisis de los diferentes
frentes de Pareto y de escoger los valores de C‡≠∞ y F, se realizaron los 3 estudios con estos par√°metros
variando npop= 2‡Øú, ùëñ= 5, 6, ‚Ä¶ ,9 y de cada frente se calcul√≥ el ùõ¨ respectivo. La Fig. 7-42 presenta como
el incremento de npop tiende a encontrar Œõ m√°s peque√±os. El resultado final de este an√°lisis fue encontrar
la configuraci√≥n √≥ptima dentro de estos campos de b√∫squeda, estos valores se resumen en la Tabla 7-10 y
resultaron del Estudio 2 con un ùëõùëùùëúùëù= 1024 y un ùõ¨= 0.3189.
Fig. 7-42. Valor de ùõ¨ seg√∫n la variaci√≥n de npop.
Tabla 7-10. Valores de configuraci√≥n seleccionado
adimensional.
** adimensional normalizado.
7.7 Prototipo del HEXA 6 RUS
Luego de la obtenci√≥n del vector de dise√±o por parte de los pasos anteriormente descritos, se procede al
dise√±o en software CAD, en este caso se utiliz√≥ el software SolidWorks¬Æ para crear los planos de
fabricaci√≥n del HEXA 6 RUS. La Fig. 7-43 exhibe el mecanismo ensamblado y la Tabla 7-11 las partes
principales; donde, se nombran las piezas numeradas. Con el fin de fabricarlo se utilizaron t√©cnicas de
arranque de viruta, corte laser y manufactura aditiva. En el Anexo H se presentan los planos utilizados para
la fabricaci√≥n y ensamble. Adem√°s, la Fig. 7-44 presenta el modelo f√≠sico resultante del HEXA 6 RUS, el
cual se encuentra en las instalaciones del Centro de Investigaci√≥n DAVINCI en la sede Cajic√° de la
Universidad Militar Nueva Granada.
Finalmente, algunos de los aspectos a considerar en la fabricaci√≥n son los siguientes:
1. La estructura es de perfil estructural de aluminio para facilitar su ensamble yfuturas mejoras o adiciones
de dispositivos debido a su configuraci√≥n con rieles.
2. En la plataforma fija se anclan los motores, cables y soportes. Ella est√° fabricada en AISI 1045.
3. El HEXA 6 RUS inicialmente se configura para FFF, por tal motivo se fabrica un soporte para filamento
4. La sujeci√≥n del motor tiene la forma de la cara plana del eje del motor y un tornillo prisionero para
disminuir los errores de movimiento debido a tolerancias de mecanizado.
5. La articulaci√≥n S presenta una inclinaci√≥n de 30 grados para incrementar el movimiento de rotaci√≥n.
Adem√°s, es fabricada con AISI 304, Nylon y bronce para disminuir la fricci√≥n entre las piezas.
6. Los eslabones son fabricados en aluminio; sin embargo, las piezas roscadas se fabrican en AISI 1045
con el fin de aumentar la vida √∫til de las roscas; adem√°s poseen caras planas para facilitar la
implementaci√≥n de contratuercas.
7. Luego de varias pruebas, la articulaci√≥n U posee una configuraci√≥n de dado y Y atravesado por ejes de
acero. Los rodamientos disminuyen la fricci√≥n del movimiento y sobrecargas del motor.
8. Finalmente, los motores se fijan a la plataforma fija por medio de un soporte en AISI 1045 y una
abrazadera en PLA hecha con MA.
9. La plataforma m√≥vil se fabrica en aluminio para disminuir el peso; adicionalmente, posee un agujero
en el centro para facilitar el montaje de extrusores, ya que estos pueden ensamblarse como un
subconjunto que luego es fijado por tres tornillos a la plataforma.
Fig. 7-43. Esquem√°tico del modelo CAD del HEXA 6 RUS
Tabla 7-11. Tabla de partes del HEXA 6 RUS
No. de Plano
Estructura
Plataforma fija
Motor del MP/ MAXON 3100009+un reductor 166169
Sujeci√≥n motor brazo
Sujeci√≥n motor
Plataforma m√≥vil
Cama caliente
Soporte cables
Sujeci√≥n del motor MAXON
Fig. 7-44. Modelo f√≠sico del HEXA 6 RUS..
8 CONCLUSIONES
En √©sta tesis se plantea una metodolog√≠a para el dise√±o de un MP enfocado en MA que considera
aspectos como la dimensi√≥n de los brazos, los par√°metros del controlador, el WS, la manipulabilidad, el
error de seguimiento y el torque requerido. Para esto se definieron dos objetivos espec√≠ficos que se detallan
a continuaci√≥n
El primer objetivo era proponer FOs determinando las necesidades geom√©tricas y de control del MP
para que pudieran ser usadas en un algoritmo de optimizaci√≥n multiobjetivo. Para esto, el primer paso fue
seleccionar el HEXA 6 RUS como el MP a trabajar despu√©s de preseleccionar seis posibles mecanismos
del estudio del estado del arte ( Secci√≥n 3.1) y utilizar la metodolog√≠a AHP para evaluar y comparar criterios
como: precisi√≥n, robustez, simplicidad de fabricaci√≥n y espacio disponible, tal como se detalla en la
Secci√≥n 4.1; en este mismo an√°lisis se determin√≥ que los componentes m√°s susceptibles a las cargas son
los brazos y para garantizar la precisi√≥n de movimientos, la resistencia y la rigidez; se definieron
restricciones de desempe√±o mec√°nico relacionados con la deformaci√≥n pl√°stica y la fatiga, expresiones
detalladas en la Secci√≥n 4.2. Una vez elegido el MP, el siguiente paso fue la determinaci√≥n de WS como
una FO, lo cual tuvo en cuenta: el estudio del estado del arte (Secci√≥n 3.3) para considerar el an√°lisis de
l√≠mites por restricciones y discretizaci√≥n (Secci√≥n 2.5.4) como t√©cnica computacionalmente viable; la
evaluaci√≥n de posici√≥n respecto a la CI (Secci√≥n 4.3); la generaci√≥n de una nube de puntos basada en las
posiciones l√≠mites y el c√°lculo del volumen a partir de tetraedros (Secci√≥n 5). La Œ∑ (Secci√≥n 2.6) se
identific√≥ como otra FO que pudo calcularse mediante: una discretizaci√≥n del WS y el n√∫mero condicional
de las matrices Jacobianas de velocidad lineal y angular del MP determinadas por la modelaci√≥n din√°mica
(Secci√≥n 4.4). Para el c√°lculo de la tercera y cuarta FO, ùê∏ùê∂ y ùëí‡Øñ respectivamente, se propuso una estrategia
de control h√≠brida (Secci√≥n 5.3) que se bas√≥ en las matrices de la modelaci√≥n din√°mica (Secci√≥n 4.4).
El segundo objetivo de esta tesis era desarrollar un algoritmo metaheur√≠stico que optimice el dise√±o
mec√°nico del MP y las constantes de control buscando aumentar el WS y la manipulabilidad, mientras que
se disminuye el error y el esfuerzo de control. Para esto, seg√∫n el estado del arte (3.5), se desarroll√≥ un
algoritmo basado en EDMER (2.9.6) y se determinaron cinco aspectos claves. El primer aspecto fue que en
las pruebas de PFDE, EDMER proporcion√≥ errores menores al 1% lo que resalta el algoritmo como una
buena opci√≥n de dise√±o para este tipo de problemas (Secci√≥n 6.7). Segundo, en la aplicaci√≥n del dise√±o del
HEXA 6 RUS, EDMER consider√≥ las cuatro FO simult√°neamente (Secciones 5 y 5.3), junto con el an√°lisis
de dominancia, la clasificaci√≥n de hacinamiento y las restricciones para generar FPs Tercero, se eligi√≥ el
LINMAP (Secci√≥n 6.8) como m√©todo de toma de decisi√≥n y se tomaron par√°metros de calibraci√≥n
relacionados con ùê∂‡Ø•, ùêπ y n√∫mero de generaciones. Cuarto, se hicieron varias corridas del algoritmo con
diferentes n√∫meros de poblaci√≥n con el fin de encontrar la mejor configuraci√≥n dentro de la superficie de
respuesta (Secci√≥n 7.6), de estas corridas se evalu√≥ el comportamiento en l√≠nea del espaciamiento y del
LINMAP, asi como, el an√°lisis estad√≠stico y la convergencia. Quinto, debido al costo computacional, el
comportamiento del MP se bas√≥ en el modelo din√°mico hallado en la Secci√≥n 4.4.
En la b√∫squeda de estos objetivos se hicieron varios desarrollos y hallazgos. Por ejemplo, la estrategia de
control seleccionada fue una h√≠brida que consider√≥ la planitud diferencial por su eficacia de seguimiento de
trayectoria junto con la propiedad de conmutaci√≥n de los modos deslizantes (Secciones 2.7 y 5.3). Esto
gener√≥ un controlador robusto que en validaciones in silico present√≥ una buena respuesta a las
perturbaciones y a los juegos mec√°nicos producto de las tolerancias de fabricaci√≥n (Secci√≥n 7.4). Con esta
implementaci√≥n el ùê∏ùê∂ se relacion√≥ con la energ√≠a necesaria para que el sistema sea controlado mientras
que el ùëí‡Øñ determin√≥ la eficiencia del controlador al comparar las condiciones deseadas contra las realizadas.
Otra conclusi√≥n fue que el an√°lisis din√°mico con el principio de D‚ÄôAlembert y de trabajo virtual demostr√≥
ser eficaz y computacionalmente eficiente. El hecho que no se requiera calcular derivadas parciales permite
que el c√°lculo para la obtenci√≥n de las matrices se pueda hacer en la estrategia de control, evitando la
expresi√≥n simb√≥lica de estas matrices, que en mecanismos de cinem√°tica paralela son largas, y disminuye
el costo de c√≥mputo al momento de usar las respuestas de controlador como FOs.
Adem√°s, la determinaci√≥n del WS discretizado en mecanismos axisim√©tricos bas√°ndose en la creaci√≥n de
la superficie l√≠mite es una estrategia tambi√©n con un bajo costo computacional apta para su implementaci√≥n
en optimizaci√≥n y que permite con la variaci√≥n de la cantidad de puntos analizados modificar su precisi√≥n
(Secci√≥n 7.2).
Adicionalmente, las consideraciones geom√©tricas y de control durante el proceso de dise√±o permitieron
evaluar el funcionamiento del MP y sintonizar el controlador por medio de herramientas computacionales
(Secci√≥n 7.6). Esto disminuye los ajustes iterativos a los prototipos f√≠sicos como se hace en la metodolog√≠a
de dise√±o secuencial. Lo anterior indica que los dise√±os concurrentes disminuyen tiempo, ampl√≠an
b√∫squedas y combinaciones no contempladas mientras que reducen costos de prueba, ejecuci√≥n e
implementaci√≥n.
Se recalca que no se encontr√≥ evidencia en la literatura acerca del dise√±o de alg√∫n MP con seis grados
de libertad que considere cuatro FOs; adem√°s, tampoco hay demostraciones de optimizaciones
multiobjetivo en donde sus FOs relacionen la configuraci√≥n mec√°nica como con las ganancias del
controlador. Por otra parte, tampoco se hall√≥ una estrategia de control h√≠brida, como la presentada en este
documento, en la literatura. Todos estos aspectos aportan el estado de arte relacionado con el dise√±o √≥ptimo
Como trabajos futuros se proponen: utilizar la teor√≠a de tornillos tanto para el an√°lisis cinem√°tico
infinitesimal del MP, como para la deducci√≥n de las matrices Jacobianas y as√≠ poder comprobar si este
enfoque simplifica los c√°lculos, tal como algunos autores aseguran. Adem√°s, se considera que el c√°lculo de
la cinem√°tica directa infinitesimal permitir√≠a detallar la relaci√≥n de velocidades de la placa m√≥vil seg√∫n la
velocidad de los actuadores. Adicionalmente, se exalta el estudio de la manipulabilidad separando los
comportamientos rotacionales y traslacionales, lo que genera una funci√≥n objetivo adicional. Asimismo, se
insta a analizar el balanceo din√°mico del mecanismo. Por otra parte, se requiere el ajuste fino del
controlador con el modelo f√≠sico del HEXA 6 RUS (Secci√≥n 7.7) debido a que las tolerancias de mecanizado
y ensamble difieren de los modelos en CAD. Adem√°s, aunque los motores poseen sensores de movimiento,
la incorporaci√≥n de sensores o c√°maras que retornen la posici√≥n real del centro de la plataforma m√≥vil
disminuye errores de seguimiento. Finalmente, en el Anexo A se listan los productos de nuevo
conocimiento derivados de esta tesis.
REFERENCIAS
M. Baumers, P. Dickens, C. Tuck, and R. Hague, ‚ÄúThe cost of additive manufacturing: Machine
productivity, economies of scale and technology-push,‚Äù Technol. Forecast. Soc. Change, vol. 102,
2016, doi: 10.1016/j.techfore.2015.02.015.
W. Gao et al., ‚ÄúThe status, challenges, and future of additive manufacturing in engineering,‚Äù CAD
Comput. Aided Des., vol. 69, pp. 65‚Äì89, 2015, doi: 10.1016/j.cad.2015.04.001.
Y. Jin, J. Du, Y. He, and G. Fu, ‚ÄúModeling and process planning for curved layer fused deposition,‚Äù
Int. J. Adv. Manuf. Technol., vol. 91, no. 1‚Äì4, pp. 273‚Äì285, 2017, doi: 10.1007/s00170-016-9743-
R. J. A. Allen and R. S. Trask, ‚ÄúAn experimental demonstration of effective Curved Layer Fused
Filament Fabrication utilising a parallel deposition robot,‚Äù Addit. Manuf., vol. 8, pp. 78‚Äì87, 2015,
doi: 10.1016/j.addma.2015.09.001.
W. Gao, Y. Zhang, D. C. Nazzetta, K. Ramani, R. J. Cipra, and W. Lafayette, ‚ÄúRevoMaker‚ÄØ:
Enabling Multi-directional and Functionally-embedded 3D Printing using a Rotational Cuboidal
Platform,‚Äù Proc. 28th Annu. ACM Symp. User Interface Softw. Technol. - UIST ‚Äô15, pp. 437‚Äì446,
2015, doi: 10.1145/2807442.2807476.
X. Song, Y. Pan, and Y. Chen, ‚ÄúDevelopment of a Low-Cost Parallel Kinematic Machine for
Multidirectional Additive Manufacturing,‚Äù J. Manuf. Sci. Eng., vol. 137, no. April, pp. 1‚Äì13, 2015,
doi: 10.1115/1.4028897.
D. Bourell, B. Stucker, Y. Chen, C. Zhou, and J. Lao, ‚ÄúA layerless additive manufacturing process
based on CNC accumulation,‚Äù Rapid Prototyp. J., vol. 17, no. 3, pp. 218‚Äì227, 2011.
Z.-F. Shao, X. Tang, X. Chen, and L.-P. Wang, ‚ÄúResearch on the inertia matching of the Stewart
parallel manipulator,‚Äù Robot. Comput. Integr. Manuf., vol. 28, no. 6, pp. 649‚Äì659, 2012, doi:
10.1016/j.rcim.2012.04.001.
P. Ogbobe, Z. Ye, H. Jiang, and J. Han, ‚ÄúAnalytical Formulation of Coupling Effects Matrix
Between Degrees of Freedom Motion of Parallel Robots,‚Äù in Intelligent Computation Technology
and Automation (ICICTA), 2010 International Conference on, 2010, vol. 1, pp. 711‚Äì714, doi:
10.1109/ICICTA.2010.368.
K. Deb, Optimization for Engineering Design, 2nd ed. New Delhi: PHI Learning Private Limited,
J. Ruan, K. Eiamsa-ard, and F. W. Liou, ‚ÄúAutomatic process planning and toolpath generation of a
multiaxis hybrid manufacturing system,‚Äù J. Manuf. Process., vol. 7, no. 1, pp. 57‚Äì68, 2005.
K. Gupta, N. K. Jain, and R. F. Laubscher, Hybrid machining processes: perspectives on machining
and finishing. Springer, 2016.
A. El Khalick, M. N. Uchiyama, and S. Sano, ‚ÄúSliding mode contouring control design using
nonlinear sliding surface for three-dimensional machining,‚Äù Int. J. Mach. TOOLS Manuf., vol. 65,
pp. 8‚Äì14, Feb. 2013, doi: 10.1016/j.ijmachtools.2012.07.004.
S.-H. Chen and L.-C. Fu, ‚ÄúObserver-based backstepping control of a 6-dof parallel hydraulic
manipulator,‚Äù
10.1016/j.conengprac.2014.11.011.
J. P. Merlet, Parallel robots, 2nd ed., vol. 128. Dordrecht: Springer Science & Business Media,
Z. Pandilov and V. Dukovski, ‚ÄúComparison of the Characteristics Between Serial and Parallel
Robots,‚Äù Acta Tech. Corviniensis-Bulletin Eng., vol. 7, no. 1, pp. 2067‚Äì3809, 2014, [Online].
Available: 
W. Lei, F. Qian, C. Jia, and S. Liye, ‚ÄúControl Method of Parallel Robot Based on Adaptive Neural
Fuzzy Inference Combined with PID Control,‚Äù Agro Food Ind. Hi. Tech., vol. 28, no. 3, pp. 3169‚Äì
3174, 2017.
D. Zhang, Y. Xu, J. Yao, B. Hu, and Y. Zhao, ‚ÄúKinematics, dynamics and stiffness analysis of a
novel 3-DOFkinematically/actuation redundant planar parallel mechanism,‚Äù Mech. Mach.
THEORY, vol. 116, pp. 203‚Äì219, Oct. 2017, doi: 10.1016/j.mechmachtheory.2017.04.011.
M. Ming, A., Kajitani, ‚ÄúOn the design of wire parallel mechanism,‚Äù Int. J. Jpn Soc. Precis. Eng, vol.
4, no. 29, pp. 337‚Äì242, 1995.
C. Viegas, M. Tavakoli, and A. T. de Almeida, ‚ÄúA novel grid-based reconfigurable spatial parallel
mechanism with large workspace,‚Äù Mech. Mach. Theory, vol. 115, no. September, pp. 149‚Äì167,
2017, doi: 10.1016/j.mechmachtheory.2017.05.008.
G. Gogu, ‚ÄúMobility of mechanisms: a critical review,‚Äù Mech. Mach. Theory, vol. 40, no. 9, pp.
1068‚Äì1097, Sep. 2005, doi: 10.1016/J.MECHMACHTHEORY.2004.12.014.
W. J. Liu, Xin-Jun, parallel Kinematics: Type, Kinematics, and Optimal Design, 1st ed. London:
Springer London, 2014.
J. P. Merlet, ‚ÄúJacobian, manipulability, condition number and accuracy of parallel robots,‚Äù Springer
Tracts Adv. Robot., vol. 28, 2007, doi: 10.1007/978-3-540-48113-3_16.
B. Dasgupta and P. Choudhury, ‚ÄúGeneral strategy based on the Newton-Euler approach for the
dynamic formulation of parallel manipulators,‚Äù Mech. Mach. Theory, vol. 34, no. 6, pp. 801‚Äì824,
1999, doi: 10.1016/S0094-114X(98)00081-0.
X. Wang and Y. Tian, ‚ÄúInverse dynamics of hexa parallel robot based on the lagrangian equations
of first type,‚Äù 2010 Int. Conf. Mech. Autom. Control Eng. MACE2010, no. 2008, pp. 3712‚Äì3716,
2010, doi: 10.1109/MACE.2010.5535969.
A. A. Shabana, Computational Dynamics, 3rd ed. John Wiley & Sons, 2010.
M. DANESHMAND, M. M. TALE, and M. H. SAADATZI, ‚ÄúOptimization of the Kinematic
Sensitivity and the Greatest Continuous Circle in the Constant-orientation Workspace of Planar
Parallel Mechanisms,‚Äù 2015.
Y. Liu, H. Wu, Y. Yang, S. Zou, X. Zhang, and Y. Wang, ‚ÄúSymmetrical Workspace of 6-UPS
Parallel Robot Using Tilt and Torsion Angles,‚Äù vol. 2018, 2018.
X. J. Liu, J. Wang, K. K. Oh, and J. Kim, ‚ÄúA new approach to the design of a DELTA robot with a
desired workspace,‚Äù J. Intell. Robot. Syst. Theory Appl., vol. 39, no. 2, pp. 209‚Äì225, 2004, doi:
10.1023/B:JINT.0000015403.67717.68.
S. T. Filho and E. Cabral, ‚ÄúKinematics and workspace analysis of a parallel architecture robot: the
Hexa,‚Äù 18th Int. Congr. Mech. Eng. Novemb. 6-11, Ouro Preto, MG, vol. 2, no. August, pp. 158‚Äì
Available:
 
J.-P. Merlet, ‚ÄúJacobian, manipulability, condition number and accuracy of parallel robots.‚Äù
J. D. Orozco-Mu√±iz, J. J. Cervantes-S√°nchez, and J. M. Rico-Mart√≠nez, ‚ÄúDexterity indices for planar
parallel manipulators,‚Äù Robot. Comput. Integr. Manuf., vol. 46, pp. 144‚Äì155, Aug. 2017, doi:
10.1016/J.RCIM.2016.12.011.
A. Koszewnik, K. Troc, and M. S≈Çowik, ‚ÄúPID controllers design applied to positioning of ball on
the stewart platform,‚Äù Acta Mech. Autom., vol. 8, no. 4, pp. 214‚Äì218, 2014, doi: 10.2478/ama-2014-
F. Inel and L. Khochmane, ‚ÄúComparison performance between PID and PD controllers for three and
four cable-based robots,‚Äù World J. Eng., vol. 11, no. 6, pp. 543‚Äì556, 2014, doi: 10.1260/1708-
5284.11.6.543.
S. Keshtkar, A. S. Poznyak, E. Hernandez, and A. Oropeza, ‚ÄúAdaptive Sliding-Mode Controller
Based on the ``Super-Twist‚Äô‚Äô State Observer for Control of the Stewart Platform,‚Äù Autom. Remote
Control, vol. 78, no. 7, pp. 1218‚Äì1233, Jul. 2017, doi: 10.1134/S0005117917070049.
H. Sira-Ramirez and S. K. Agrawal, Differentially Flat Systems, 2nd ed. Boca Raton: CRC Press,
K. Ogata, Modern Control Engineering, 5th ed. New Jersey: Prentice Hall, 2010.
J. Liu, ‚ÄúBasic sliding mode control principle and design,‚Äù in Sliding Mode Control Using MATLAB,
Academic Press, 2017, pp. 1‚Äì29.
V. I. Utkin, Sliding Modes in Control and Optimization, 2nd ed. Berlin, Heidelberg: Springer Berlin
Heidelberg, 1992.
J. Slotine and W. Li, Applied Nonlinear Control. 1990.
H. Lee and V. I. Utkin, ‚ÄúChattering suppression methods in sliding mode control systems,‚Äù Annu.
Rev. Control, vol. 31, no. 2, pp. 179‚Äì188, Jan. 2007, doi: 10.1016/J.ARCONTROL.2007.08.001.
A. M. Pi√±a, ‚ÄúTrajectory generation of differentially flat systems,‚Äù Rev. T√©cnologica Ingieneria Univ.
Zulia, vol. 24, no. 2, pp. 99‚Äì106, 2001.
A. Morillo, ‚ÄúTrajectory generation of differentially flat systems,‚Äù Rev. t√©cnica la Fac. Ing. del Zulia.,
vol. 24, no. 2, pp. 99‚Äì106, 2001.
S. Rao, Engineering Optimization. Theory and Practice, 4th ed. John Wiley & Sons, Ltd, 2009.
K. Deb, Multi Objective Optimization using Evolutionary Algorithms, 1st ed. West Sussex: Wiley,
V. D. Coello, Carlos, Lamont Gary, Evolutionary Algorithms for Solving Multi-Objective Problems,
2nd ed. 2007.
J. Price, K.; Storn, R.; Lampinen, Differential Evolution. Berlin: Springer, 2005.
J. Lampinen and I. Zelinka, ‚ÄúMixed Variable Non-linear Optimization by Difeerential Evolution,‚Äù
Proccedings of Nostradamus, vol. 99, no. 2, pp. 1‚Äì10, 1999.
M. Weck and D. Staimer, ‚ÄúParallel kinematic machine tools - Current state and future potentials,‚Äù
CIRP Ann. - Manuf. Technol., vol. 51, no. 2, pp. 671‚Äì683, 2002, doi: 10.1016/S0007-
8506(07)61706-5.
D. Stewart, ‚ÄúA Platform with Six Degrees of Freedom,‚Äù Proc. Inst. Mech. Eng., vol. 180, no. 1, pp.
371‚Äì386, Jun. 1965, doi: 10.1243/PIME_PROC_1965_180_029_02.
Y. Jiang, T. Li, L. Wang, and F. Chen, ‚ÄúImproving tracking accuracy of a novel 3-DOF redundant
planar parallel kinematic machine,‚Äù Mech. Mach. Theory, vol. 119, pp. 198‚Äì218, 2018, doi:
10.1016/j.mechmachtheory.2017.09.012.
J. Fu, F. Gao, Y. Pan, and H. Du, ‚ÄúForward kinematics solutions of a special six-degree-of-freedom
parallel manipulator with three limbs,‚Äù Adv. Mech. Eng., vol. 7, no. 5, pp. 1‚Äì11, 2015, doi:
10.1177/1687814015582118.
W. Ye, Y. Fang, and S. Guo, ‚ÄúDesign and analysis of a reconfigurable parallel mechanism for
multidirectional additive manufacturing,‚Äù Mech. Mach. Theory, vol. 112, pp. 307‚Äì326, Jun. 2017,
doi: 10.1016/J.MECHMACHTHEORY.2016.02.011.
A. Dutta, D. H. Salunkhe, S. Kumar, A. D. Udai, and S. V. Shah, ‚ÄúSensorless full body active
compliance in a 6 DOF parallel manipulator,‚Äù Robot. Comput. Integr. Manuf., vol. 59, no. May, pp.
278‚Äì290, 2019, doi: 10.1016/j.rcim.2019.04.010.
K. H. Hunt, ‚ÄúStructural kinematics of in-parallel-actuated robot-arms,‚Äù J. Mech. Transm. Autom.
Des., vol. 105, no. 4, pp. 705‚Äì712, 1983.
C. Gosselin, T. Laliberte, and A. Veillette, ‚ÄúSingularity-Free Kinematically Redundant Planar
Parallel Mechanisms With Unlimited Rotational Capability,‚Äù IEEE Trans. Robot., vol. 31, no. 2, pp.
457‚Äì467, Apr. 2015, doi: 10.1109/TRO.2015.2409433.
L.-T. Schreiber and C. Gosselin, ‚ÄúKinematically redundant planar parallel mechanisms: Kinematics,
workspace and trajectory planning,‚Äù Mech. Mach. Theory, vol. 119, pp. 91‚Äì105, 2018, doi:
10.1016/j.mechmachtheory.2017.08.022.
C. Chen, T. Gayral, S. Caro, D. Chablat, G. Moroz, and S. Abeywardena, ‚ÄúA Six Degree of Freedom
Epicyclic-Parallel Manipulator,‚Äù J. Mech. Robot., vol. 4, no. 4, p. 041011, 2012, doi:
10.1115/1.4007489.
W. Li and J. Angeles, ‚ÄúThe design of a 3-CPS parallel robot for maximum dexterity,‚Äù Mech. Mach.
Theory, vol. 122, pp. 279‚Äì291, 2018, doi: 10.1016/j.mechmachtheory.2018.01.003.
H. Azulay, M. Mahmoodi, R. Zhao, J. K. Mills, and B. Benhabib, ‚ÄúComparative analysis of a new
3√ó PPRS parallel kinematic mechanism,‚Äù Robot. Comput. Integr. Manuf., vol. 30, no. 4, pp. 369-
378o, 2014, doi: 10.1016/j.rcim.2013.12.003.
Y. Song, B. Lian, T. Sun, G. Dong, Y. Qi, and H. Gao, ‚ÄúA novel five-degree-of-freedom parallel
manipulator and its kinematic optimization,‚Äù J. Mech. Robot., vol. 6, no. 4, 2014, doi:
10.1115/1.4027742.
N. Seward and I. A. Bonev, ‚ÄúA new 6-DOF parallel robot with simple kinematic model,‚Äù Proc. -
IEEE Int. Conf. Robot. Autom., pp. 4061‚Äì4066, 2014, doi: 10.1109/ICRA.2014.6907449.
C. Viegas, M. Tavakoli, and A. T. d. Almeida, ‚ÄúA novel grid-based reconfigurable spatial parallel
mechanism with large workspace,‚Äù Mech. Mach. Theory, vol. 115, pp. 149‚Äì167, 2017, doi:
10.1016/j.mechmachtheory.2017.05.008.
G. Yu, J. Wu, L. Wang, and Y. Gao, ‚ÄúOptimal Design of the Three-Degree-of-Freedom Parallel
Manipulator in a Spray-Painting Equipment,‚Äù Robotica, vol. 38, no. 6, pp. 1064‚Äì1081, 2020.
H. Zhang, H. Fang, Q. Zou, and D. Zhang, ‚ÄúDynamic modeling and adaptive robust synchronous
control of parallel robotic manipulator for industrial application,‚Äù Complexity, vol. 2020, 2020.
A. Arian, M. Isaksson, and C. Gosselin, ‚ÄúKinematic and dynamic analysis of a novel parallel
kinematic Sch√∂nflies motion generator,‚Äù Mech. Mach. Theory, vol. 147, p. 103629, 2020.
S. Lu, B. Ding, and Y. Li, ‚ÄúMinimum-jerk trajectory planning pertaining to a translational 3-degreeof-freedom parallel manipulator through piecewise quintic polynomials interpolation,‚Äù Adv. Mech.
Eng., vol. 12, no. 3, p. 1687814020913667, 2020.
X. Chai, M. Wang, L. Xu, and W. Ye, ‚ÄúDynamic modeling and analysis of a 2PRU-UPR parallel
robot based on screw theory,‚Äù Ieee Access, vol. 8, pp. 78868‚Äì78878, 2020.
S. Xie, K. Hu, H. Liu, and Y. Wan, ‚ÄúDynamic modeling and performance analysis of a new
redundant parallel rehabilitation robot,‚Äù IEEE Access, vol. 8, pp. 222211‚Äì222225, 2020.
H. Zhang, H. Fang, D. Zhang, Q. Zou, and X. Luo, ‚ÄúTrajectory tracking control study of a new
parallel mechanism with redundant actuation,‚Äù Int. J. Aerosp. Eng., vol. 2020, 2020.
Y. Rong, X. C. Zhang, and M. K. Qu, ‚ÄúUnified inverse dynamics for a novel class of metamorphic
mechanisms,‚Äù
10.1016/j.apm.2019.04.051.
S. Pedrammehr, B. Danaei, H. Abdi, M. T. Masouleh, and S. Nahavandi, ‚ÄúDynamic analysis of
Hexarot: Axis-symmetric parallel manipulator,‚Äù Robotica, vol. 36, no. 2, pp. 225‚Äì240, 2018, doi:
10.1017/S0263574717000315.
W. E. Dharmalingum, J. Padayachee, and G. Bright, ‚ÄúSYNTHESIS OF A NOVEL FIVE-
DEGREES‚ÄìOF-FREEDOM PARALLEL KINEMATIC MANIPULATOR,‚Äù South African J. Ind.
Eng., vol. 32, no. 1, pp. 131‚Äì143, May 2021, doi: 10.7166/32-1-2382.
L. Sheng and W. Li, ‚ÄúOptimization design by genetic algorithm controller for trajectory control of
a 3-RRR parallel robot,‚Äù Algorithms, vol. 11, no. 1, 2018, doi: 10.3390/a11010007.
M. Russo, S. Herrero, O. Altuzarra, and M. Ceccarelli, ‚ÄúKinematic analysis and multi-objective
optimization of a 3-UPR parallel mechanism for a robotic leg,‚Äù Mech. Mach. Theory, vol. 120, pp.
192‚Äì202, Feb. 2018, doi: 10.1016/J.MECHMACHTHEORY.2017.10.004.
A. G. Ruiz, J. C. Santos, J. Croes, W. Desmet, and M. M. Da Silva, ‚ÄúOn redundancy resolution and
energy consumption of kinematically redundant planar parallel manipulators,‚Äù Robotica, vol. 36,
no. 6, pp. 809‚Äì821, Jun. 2018, doi: 10.1017/S026357471800005X.
D. Chablat, X. Kong, and C. Zhang, ‚ÄúKinematics, workspace, and singularity analysis of a parallel
robot with five operation modes,‚Äù J. Mech. Robot., vol. 10, no. 3, Jun. 2018, doi:
10.1115/1.4039400/377469.
H. Shen, Y. Tang, G. Wu, J. Li, T. Li, and T. Yang, ‚ÄúDesign and analysis of a class of two-limb
non-parasitic 2T1R parallel mechanism with decoupled motion and symbolic forward position
solution - influence of optimal arrangement of limbs onto the kinematics, dynamics and stiffness,‚Äù
10.1016/J.MECHMACHTHEORY.2022.104815.
H. Shen, D. Chablat, B. Zeng, J. Li, G. Wu, and T. L. Yang, ‚ÄúA Translational Three-Degrees-of-
Freedom Parallel Mechanism with Partial Motion Decoupling and Analytic Direct Kinematics,‚Äù J.
Mech. Robot., vol. 12, no. 2, Jan. 2020, doi: 10.1115/1.4045972/1072539.
M. Vall√©s et al., ‚ÄúMechatronic design, experimental setup, and control architecture design of a novel
4 DoF parallel manipulator,‚Äù Mech. Based Des. Struct. Mach., vol. 46, no. 4, pp. 425‚Äì439, 2018,
doi: 10.1080/15397734.2017.1355249.
O. Altuzarra, D. Caballero, F. J. Campa, and C. Pinto, ‚ÄúPosition analysis in planar parallel
continuum mechanisms,‚Äù Mech. Mach. Theory, vol. 132, pp. 13‚Äì29, Feb. 2019, doi:
10.1016/J.MECHMACHTHEORY.2018.10.014.
J. J. Gil, I. Zabalza, J. Ros, J. M. Pintor, and J. M. Jim√©nez, ‚ÄúKinematics and dynamics of a 6-RUS
hunt-type parallel manipulator by using natural coordinates,‚Äù in On Advances in Robot Kinematics,
Springer, 2004, pp. 329‚Äì335.
J. Aginaga, I. Zabalza, O. Altuzarra, and J. N√°jera, ‚ÄúImproving static stiffness of the 6-RUS parallel
manipulator using inverse singularities,‚Äù Robot. Comput. Integr. Manuf., vol. 28, no. 4, pp. 458‚Äì
471, 2012, doi: 10.1016/j.rcim.2012.02.003.
J. Hesselbach, C. Bier, A. Campos, and H. Lowe, ‚ÄúDirect kinematic singularity detection of a hexa
parallel robot,‚Äù in Robotics and Automation, 2005. ICRA 2005. Proceedings of the 2005 IEEE
International Conference on, 2005, pp. 3238‚Äì3243.
M. Dehghani, M. Ahmadi, A. Khayatian, M. Eghtesad, and M. Yazdi, ‚ÄúVision-based calibration of
a Hexa parallel robot,‚Äù Ind. Robot An Int. J., vol. 41, no. 3, pp. 296‚Äì310, 2014.
D. Chen, S. Li, J. F. Wang, Y. Feng, and Y. Liu, ‚ÄúA multi-objective trajectory planning method
based on the improved immune clonal selection algorithm,‚Äù Robot. Comput. Integr. Manuf., vol. 59,
pp. 431‚Äì442, Oct. 2019, doi: 10.1016/J.RCIM.2019.04.016.
S. Li, D. Chen, and J. Wang, ‚ÄúAn optimal singularity-free motion planning method for a 6-DOF
parallel manipulator,‚Äù Ind. Rob., vol. 48, no. 2, pp. 290‚Äì299, 2020, doi: 10.1108/IR-04-2020-
0079/FULL/XML.
A. Antonov and V. Glazunov, ‚ÄúPosition, velocity, and workspace analysis of a novel 6-DOF parallel
manipulator with ‚Äòpiercing‚Äô rods,‚Äù Mech. Mach. Theory, vol. 161, p. 104300, Jul. 2021, doi:
10.1016/J.MECHMACHTHEORY.2021.104300.
M. F. Shah, Z. Kausar, M. U. Farooq, L. A. Khan, and S. S. Farooq, ‚ÄúAccuracy Analysis of
Machining Trajectory Contemplating Workpiece Dislocation on a Six Degree of Freedom
Machining Bed:,‚Äù vol. 235, no. 19,
pp. 4037‚Äì4048, Dec. 2020, doi: 10.1177/0954406220974049.
A. Fomin, A. Antonov, V. Glazunov, and Y. Rodionov, ‚ÄúInverse and Forward Kinematic Analysis
of a 6-DOF Parallel Manipulator Utilizing a Circular Guide,‚Äù Robot. 2021, Vol. 10, Page 31, vol.
10, no. 1, p. 31, Feb. 2021, doi: 10.3390/ROBOTICS10010031.
K. Wang, X. Wu, Y. Wang, J. Ding, and S. Bai, ‚ÄúKinematics of a 6-DOF parallel manipulator with
generators:,‚Äù
 
10.1177/09544062211032998.
Y. Liwei, F. Yanchao, C. Fangmao, P. Xinyuan, and D. deyi, ‚ÄúParameter calibration of 6-degreeof-freedom parallel mechanism based on orthogonal displacement measuring system,‚Äù Optik
(Stuttg)., vol. 226, p. 165806, Jan. 2021, doi: 10.1016/J.IJLEO.2020.165806.
M. J. Thomas, M. M. Sanjeev, A. P. Sudheer, and J. M.L, ‚ÄúComparative study of various machine
learning algorithms and Denavit‚ÄìHartenberg approach for the inverse kinematic solutions in a 3-
PPSS parallel manipulator,‚Äù Ind. Rob., vol. 47, no. 5, pp. 683‚Äì695, Aug. 2020, doi: 10.1108/IR-11-
2019-0233/FULL/XML.
R. V. Anirudh, K. A. Sai, S. Kulothungan, and A. K. Dash, ‚ÄúAn Application of a 3-RRRS 6 DOF
Parallel Manipulator,‚Äù J. Title, vol. 10, no. 1, pp. 501‚Äì509, 2020, doi: 10.5875/AUSMT.V10I1.2048.
X. Liang and Y. Takeda, ‚ÄúAn iterative method for the inverse kinematics of lower-mobility parallel
mechanism with three RS or SR chains based on kinematically equivalent mechanism,‚Äù Mech.
10.1016/J.MECHMACHTHEORY.2019.06.033.
H. S. A. Q. E. Han, C. Y. Han, Z. B. Xu, M. C. Zhu, Y. Yu, and Q. W. Wu, ‚ÄúKinematics analysis
and testing of novel 6-P-RR-R-RR parallel platform with offset RR-joints:,‚Äù vol. 233, no. 10, pp. 3512‚Äì3530, Dec. 2018,
doi: 10.1177/0954406218817001.
Z. M. Bi and B. Kang, ‚ÄúAn Inverse Dynamic Model of Over-Constrained Parallel Kinematic
Machine Based on Newton‚ÄìEuler Formulation,‚Äù J. Dyn. Syst. Meas. Control, vol. 136, no. 4, p.
041001, Mar. 2014, doi: 10.1115/1.4026533.
A. Arian, B. Danaei, and M. Tale Masouleh, ‚ÄúKinematic and Dynamic Analysis of Tripteron, an
Over-constrained 3-DOF Translational Parallel Manipulator, Through Newton-Euler Approach,‚Äù
AUT J. Model. Simul., vol. 50, no. 1, pp. 61‚Äì70, Jun. 2018, doi: 10.22060/MISCJ.2018.13020.5055.
B. Zhang, S. Jiang, Z. Jiang, J. Li, K. Zhou, and F. Liu, ‚ÄúDynamic Analysis and Control Research
of a 3-DOF Hydraulic Driven Parallel Mechanism,‚Äù Recent Patents Mech. Eng., vol. 13, no. 2, pp.
156‚Äì170, 2020, doi: 10.2174/2212797613666200210113800.
 J. Li et al., ‚ÄúMechanical design and performance analysis of a novel parallel robot for ankle
rehabilitation,‚Äù J. Mech. Robot., vol. 12, no. 5, p. 51007, 2020, doi: 10.1115/1.4046511.
 Z. Wang, N. Zhang, X. Chai, and Q. Li, ‚ÄúKinematic/dynamic analysis and optimization of a 2-URR-
RRU parallel manipulator,‚Äù NONLINEAR Dyn., vol. 88, no. 1, pp. 503‚Äì519, 2017, doi:
10.1007/s11071-016-3256-5.
 Y. Zhao, H. Yu, J. Zhang, J. Yang, and T. Zhao, ‚ÄúKinematics, dynamics and control of a stabilized
platform with a 6-RUS parallel mechanism,‚Äù Int. J. Robot. Autom., vol. 32, no. 3, pp. 283‚Äì290,
 A. Arian, B. Danaei, and M. T. Masouleh, ‚ÄúKinematics and dynamics analysis of a 2-dof spherical
parallel robot,‚Äù in 2016 4th international conference on robotics and mechatronics (ICROM), 2016,
pp. 154‚Äì159, doi: 10.1109/ICRoM.2016.7886838.
 C. Xiulong, L. Yuewen, and J. Yonghao, ‚ÄúDynamic response and nonlinear characteristics of spatial
parallel mechanism with spherical clearance joint,‚Äù J. Comput. Nonlinear Dyn., vol. 14, no. 4, 2019,
doi: 10.1115/1.4042636.
 J. Brinker, B. Corves, and M. Wahle, ‚ÄúA comparative study of inverse dynamics based on Clavel‚Äôs
delta robot,‚Äù 2015 IFToMM World Congr. Proceedings, IFToMM 2015, 2015, doi:
10.6567/IFToMM.14TH.WC.OS13.026.
 M. J. Thomas, M. L. Joy, and A. P. Sudheer, ‚ÄúKinematic and Dynamic Analysis of a 3-PRUS Spatial
Parallel Manipulator,‚Äù Chinese J. Mech. Eng. 90041-V.
 Lung-Wen Tsai, G. C. Walsh, and R. E. Stamper, ‚ÄúKinematics of a novel three DOF translational
platform,‚Äù in Proceedings of IEEE International Conference on Robotics and Automation, vol. 4,
pp. 3446‚Äì3451, doi: 10.1109/ROBOT.1996.509237.
 B. Danaei, A. Arian, M. T. Masouleh, and A. Kalhor, ‚ÄúKinematic and Dynamic Modeling and Base
Inertial Parameters Determination of the Quadrupteron Parallel Manipulator,‚Äù 2018, pp. 249‚Äì256.
 R. Li, S. Wang, D. Fan, Y. Du, and S. Bai, ‚ÄúDynamic modeling of a 2-RPU+2-UPS hybrid
manipulator for machining application,‚Äù Model. Identif. Control, vol. 38, no. 4, pp. 169‚Äì184, 2017,
doi: 10.4173/mic.2017.4.2.
 J. Gallardo-Alvarado, R. Rodr√≠guez-Castro, and P. J. Delossantos-Lara, ‚ÄúKinematics and dynamics
of a 4-PRUR Sch√∂nflies parallel manipulator by means of screw theory and the principle of virtual
10.1016/j.mechmachtheory.2017.12.022.
 H. Yang, H. Fang, Y. Fang, and H. Qu, ‚ÄúKinematics performance and dynamics analysis of a novel
parallel perfusion manipulator with passive link,‚Äù Math. Probl. Eng., vol. 2018, 2018, doi:
10.1155/2018/6768947.
 D. Li et al., ‚ÄúDynamic analysis of multi-functional maintenance platform based on Newton-Euler
method and improved virtual work principle,‚Äù Nucl. Eng. Technol., vol. 52, no. 11, pp. 2630‚Äì2637,
2020, doi: 10.1016/j.net.2020.04.017.
 R. Li, S. Wang, D. Fan, Y. Du, and S. Bai, ‚ÄúDynamic Modeling of a 2-RPU+2-UPS Hybrid
Manipulator for Machining Application,‚Äù Model. Identif. Control A Nor. Res. Bull., vol. 38, no. 4,
pp. 169‚Äì184, 2017, doi: 10.4173/mic.2017.4.2.
 G. Han, F. Xie, and X.-J. Liu, ‚ÄúEvaluation of the power consumption of a high-speed parallel robot,‚Äù
Front. Mech. Eng., vol. 13, no. 2, pp. 167‚Äì178, 2018, doi: 10.1007/s11465-017-0456-8.
 A. Arian, M. Isaksson, and C. Gosselin, ‚ÄúKinematic and dynamic analysis of a novel parallel
kinematic Sch√∂nflies motion generator,‚Äù Mech. Mach. Theory, vol. 147, p. 103629, May 2020, doi:
10.1016/J.MECHMACHTHEORY.2019.103629.
 P. Li, A. Ghasemi, W. Xie, and W. Tian, ‚ÄúVisual Closed-Loop Dynamic Model Identification of
Parallel Robots Based on Optical CMM Sensor,‚Äù Electron. 2019, Vol. 8, Page 836, vol. 8, no. 8, p.
836, Jul. 2019, doi: 10.3390/ELECTRONICS8080836.
 X. Song, Y. Zhao, L. Jin, P. Zhang, and C. Chen, ‚ÄúDynamic feedforward control in decoupling space
for a four-degree-of-freedom parallel robot:,‚Äù vol. 16,
no. 1, Jan. 2019, doi: 10.1177/1729881418820451.
 A. Arian, B. Danaei, H. Abdi, and S. Nahavandi, ‚ÄúKinematic and dynamic analysis of the Gantry-
Tau, a 3-DoF translational parallel manipulator,‚Äù Appl. Math. Model., vol. 51, pp. 217‚Äì231, 2017,
doi: 10.1016/j.apm.2017.06.012.
 S. S. Parsa, R. Boudreau, and J. A. Carretero, ‚ÄúReconfigurable mass parameters to cross direct
kinematic singularities in parallel manipulators,‚Äù Mech. Mach. Theory, vol. 85, pp. 53‚Äì63, Mar.
2015, doi: 10.1016/J.MECHMACHTHEORY.2014.10.008.
 J.-H. Choi, T. Seo, and J. W. Lee, ‚ÄúSingularity analysis of a planar parallel mechanism with revolute
joints based on a geometric approach,‚Äù Int. J. Precis. Eng. Manuf., vol. 14, no. 8, pp. 1369‚Äì1375,
Aug. 2013, doi: 10.1007/s12541-013-0185-9.
 C. Gosselin and J. Angeles, ‚ÄúSingularity analysis of closed-loop kinematic chains,‚Äù IEEE Trans.
Robot. Autom., vol. 6, no. 3, pp. 281‚Äì290, Jun. 1990, doi: 10.1109/70.56660.
 C. Gosselin, ‚ÄúDetermination of the workspace of 6-DOF parallel manipulators,‚Äù J. Mech. Des., vol.
112, no. 3, pp. 331‚Äì336, 1990, doi: 10.1115/1.2912612.
 I. A. Bonev and J. Ryu, ‚ÄúA geometrical method for computing the constant-orientation workspace
of 6-PRRS parallel manipulators,‚Äù Mech. Mach. theory, vol. 36, no. 1, pp. 1‚Äì13, 2001, doi:
10.1016/S0094-114X(00)00031-8.
 H. An, B. Li, S. Wang, and W. Ge, ‚ÄúKinematics and Transmission Performance Analyses of a 2T2R
Type 4-DOF Spatial Parallel Manipulator,‚Äù J. Robot., vol. 2018, 2018, doi: 10.1155/2018/4750627.
 E. Mirshekari, A. Ghanbarzadeh, and K. H. Shirazi, ‚ÄúStructure comparison and optimal design of
6-rus parallel manipulator based on kinematic and dynamic performances,‚Äù Lat. Am. J. Solids
Struct., vol. 13, no. 13, pp. 2414‚Äì2438, 2016, doi: 10.1590/1679-78252937.
 F. La Mura, P. Roman√≥, E. Fiore, and H. Giberti, ‚ÄúWorkspace limiting strategy for 6 DOF force
controlled PKMs manipulating high inertia objects,‚Äù Robotics, vol. 7, no. 1, 2018, doi:
10.3390/robotics7010010.
 E. Mirshekari, A. Ghanbarzadeh, K. H. Shirazia, E. Mirshekari, A. Ghanbarzadeh, and K. H.
Shirazia, ‚ÄúStructure comparison and optimal design of 6-RUS parallel manipulator based on
kinematic and dynamic performances,‚Äù Lat. Am. J. Solids Struct., vol. 13, no. 13, pp. 2414‚Äì2438,
Dec. 2016, doi: 10.1590/1679-78252937.
 M. J.P., ‚ÄúInterval analysis and reliability in robotics,‚Äù Int. J. Reliab. Saf., vol. 3, no. 1‚Äì3, pp. 104‚Äì
130, 2009.
 E. Fiore, H. Giberti, and L. Sbaglia, ‚ÄúDimensional synthesis of a 5-DOF parallel kinematic
manipulator for a 3d printer,‚Äù 16th Int. Conf. Res. Educ. Mechatronics, REM 2015 - Proc., pp. 41‚Äì
52, 2016, doi: 10.1109/REM.2015.7380372.
 S. Abeywardena and C. Chen, ‚ÄúImplementation and evaluation of a three-legged six-degrees-offreedom parallel mechanism as an impedance-type haptic device,‚Äù IEEE/ASME Trans.
Mechatronics, vol. 22, no. 3, pp. 1412‚Äì1422, 2017, doi: 10.1109/TMECH.2017.2682930.
 P. Grosch, R. Di Gregorio, J. Lopez, and F. Thomas, ‚ÄúMotion Planning for a Novel ReconÔ¨Ågurable
Parallel Manipulatorwith Lockable Revolute Joints,‚Äù IEEE Int. Conf. Robot. Autom., pp. 4697‚Äì
4702, 2010, doi: 10.1109/ROBOT.2010.5509305.
 K. Miller, ‚ÄúOptimal design and modeling of spatial parallel manipulators,‚Äù Int. J. Rob. Res., vol. 23,
no. 2, pp. 127‚Äì140, 2004, doi: 10.1177/0278364904041322.
 S. Pedrammehr, M. R. C. Qazani, H. Asadi, M. M. Ettefagh, and S. Nahavandi, ‚ÄúModel-based
control of axisymmetric hexarot parallel manipulators,‚Äù Results Control Optim., vol. 7, Feb. 2023,
doi: 10.1016/J.RICO.2022.100135.
 A. Valencia, M. Mauledoux, and C. Casta√±eda, ‚ÄúDesign of Dynamic Controllers for Continuous
Paths on Parallel Platforms (Slide Modes and PD+),‚Äù MATEC Web Conf., vol. 306, no. 20 20, p.
03005, 2020, doi: 10.1051/matecconf/202030603005.
 V. Prada-Jimenez, P. A. Nino-Suarez, E. A. Portilla-Flores, and M. F. Mauledoux-Monroy, ‚ÄúTuning
a PD+ controller by means of dynamic optimization in a mobile manipulator with coupled
dynamics,‚Äù IEEE Access, vol. 7, pp. 124712‚Äì124726, 2019, doi: 10.1109/ACCESS.2019.2936309.
 D. . Nunez, M. Mauledoux, O. Aviles, J. Guacheta, and S. Gonzalez, ‚ÄúOptimal Design of Kinematics
Parallel Manipulator Considering Workspace and Control,‚Äù Int. J. Mech. Eng. Robot. Res., vol. 11,
no. 4, 2022.
 H. Q. Zhang, H. R. Fang, B. S. Jiang, and S. G. Wang, ‚ÄúDynamic Performance Evaluation of a
Redundantly Actuated and Over-constrained Parallel Manipulator,‚Äù Int. J. Autom. Comput. 2018
163, vol. 16, no. 3, pp. 274‚Äì285, Oct. 2018, doi: 10.1007/S11633-018-1147-6.
 J. Wu, Y. Gao, B. Zhang, and L. Wang, ‚ÄúWorkspace and dynamic performance evaluation of the
parallel manipulators in a spray-painting equipment,‚Äù Robot. Comput. Integr. Manuf., vol. 44, pp.
199‚Äì207, 2017, doi: 10.1016/j.rcim.2016.09.002.
 Y. Zhao, Z. Zhang, and G. Cheng, ‚ÄúInverse rigid-body dynamic analysis for a 3UPS-PRU parallel
robot,‚Äù Adv. Mech. Eng., vol. 9, no. 2, Feb. 2017, doi: 10.1177/1687814017693194.
 C. Li, N. Wang, K. Chen, and X. Zhang, ‚ÄúPrescribed flexible orientation workspace and
performance comparison of non-redundant 3-DOF planar parallel mechanisms,‚Äù Mech. Mach.
Theory, vol. 168, p. 104602, 2022, doi: 10.1016/j.mechmachtheory.2021.104602.
 G. Yu, J. Wu, L. Wang, and Y. Gao, ‚ÄúOptimal Design of the Three-Degree-of-Freedom Parallel
Manipulator in a Spray-Painting Equipment,‚Äù Robotica, vol. 38, no. 6, pp. 1064‚Äì1081, Jun. 2020,
doi: 10.1017/S0263574719001255.
 G. Huang, S. Guo, D. Zhang, H. Qu, and H. Tang, ‚ÄúKinematic analysis and multi-objective
optimization of a new reconfigurable parallel mechanism with high stiffness,‚Äù Robotica, vol. 36, no.
2, pp. 187‚Äì203, 2018, doi: 10.1017/S0263574717000236.
 C. Li, H. Wu, and H. Eskelinen, ‚ÄúDesign and Multi-Objective Optimization of a Dexterous Mobile
Parallel Mechanism for Fusion Reactor Vacuum Vessel Assembly,‚Äù IEEE Access, vol. 9, pp.
153796‚Äì153810, 2021, doi: 10.1109/ACCESS.2021.3127947.
 B. Shi and H. Wu, ‚ÄúDesignation and Multiobjective Optimization of a New Six-DOF Haptic Device
Based on Genetic Algorithm,‚Äù Wirel. Commun. Mob. Comput., vol. 2021, 2021, doi:
10.1155/2021/5551585.
 Q. Zou, D. Zhang, X. Luo, G. Huang, L. Li, and H. Zhang, ‚ÄúEnumeration and optimum design of a
class of translational parallel mechanisms with prismatic and parallelogram joints,‚Äù Mech. Mach.
Theory, vol. 150, p. 103846, Aug. 2020, doi: 10.1016/J.MECHMACHTHEORY.2020.103846.
 T. Sun and B. Lian, ‚ÄúStiffness and mass optimization of parallel kinematic machine,‚Äù Mech. Mach.
Theory, vol. 120, pp. 73‚Äì88, 2018, doi: 10.1016/j.mechmachtheory.2017.09.014.
 J. Enferadi and R. Nikrooz, ‚ÄúThe Performance Indices Optimization of a Symmetrical Fully
Spherical Parallel Mechanism for Dimensional Synthesis,‚Äù J. Intell. Robot. Syst. Theory Appl., vol.
90, no. 3‚Äì4, pp. 305‚Äì321, 2018, doi: 10.1007/s10846-017-0675-6.
 T. L. Saaty, ‚ÄúDecision making with the analytic hierarchy process,‚Äù Int. J. Serv. Sci., vol. 1, no. 1,
p. 83, 2008, doi: 10.1504/IJSSCI.2008.017590.
 G. Improta, M. A. Russo, M. Triassi, G. Converso, T. Murino, and L. C. Santillo, ‚ÄúUse of the AHP
methodology in system dynamics: Modelling and simulation for health technology assessments to
determine the correct prosthesis choice for hernia diseases,‚Äù Math. Biosci., vol. 299, no. June 2017,
pp. 19‚Äì27, 2018, doi: 10.1016/j.mbs.2018.03.004.
 A. V. Nguyen, B. C. Bouzgarrou, K. Charlet, and A. B√©akou, ‚ÄúStatic and dynamic characterization
of the 6-Dofs parallel robot 3CRS,‚Äù Mech. Mach. theory, vol. 93, pp. 65‚Äì82, 2015.
 F. Pierrot, ‚ÄúA new design of a 6-DOF parallel robot,‚Äù J. Robot. Mechatronics, vol. 2, no. 4, pp. 308‚Äì
315, 1990.
 A. ≈ûumnu, ƒ∞. H. G√ºzelbey, M. V √áakir, A. Sumnu, I. H. Guzelbey, and M. V. Cakir, ‚ÄúSimulation
and PID control of a Stewart platform with linear motor,‚Äù J. Mech. Sci. Technol., vol. 31, no. 1, pp.
345‚Äì356, 2017, doi: 10.1007/s12206-016-1238-7.
 R. G. Budynas, R. G. Budynas, and J. K. Nisbett, Shigley‚Äôs Mechanical Engineering Design.
McGraw-Hill Education, 2014.
 A. J. Valencia, M. Mauledoux, and D. A. Nunez, ‚ÄúInverse and Direct Kinematics of Hexa Parallel
Robot of Six Degrees of Freedom,‚Äù Int. J. Mech. Eng. Robot. Res., vol. 8, no. 5, 2019, doi:
10.18178/ijmerr.8.5.748-752.
 Y. Zhao and F. Gao, ‚ÄúInverse dynamics of the 6-dof out-parallel manipulator by means of the
principle of virtual work,‚Äù Robotica, vol. 27, no. 2, pp. 259‚Äì268, Mar. 2009, doi:
10.1017/S0263574708004657.
 J. Wu, X. Chen, and L. Wang, ‚ÄúDesign and Dynamics of a Novel Solar Tracker with Parallel
Mechanism,‚Äù IEEE/ASME Trans. Mechatronics, vol. 21, no. 1, pp. 88‚Äì97, Feb. 2016, doi:
10.1109/TMECH.2015.2446994.
 J. J. Craig, Introduction to robotics: mechanics and control, vol. 3. Pearson/Prentice Hall Upper
Saddle River, NJ, USA:, 2005.
 R. Silva-Ortigoza, H. Sira-Ram√≠rez, and V. M. Hern√°ndez-Guzm√°n, ‚ÄúControl of the DC/DC boost
converter using sliding modes and differential flatness: Experimental results,‚Äù RIAI - Rev. Iberoam.
Autom. e Inform. Ind., vol. 5, no. 4, pp. 77‚Äì82, 2008, doi: 10.1016/s1697-7912(08)70180-8.
 R. Kumar, S. C. Kaushik, R. Kumar, and R. Hans, ‚ÄúMulti-objective thermodynamic optimization of
an irreversible regenerative Brayton cycle using evolutionary algorithm and decision making,‚Äù Ain
Shams Eng. J., vol. 7, no. 2, pp. 741‚Äì753, 2016, doi: 10.1016/j.asej.2015.06.007.
Veldhuizen,
‚ÄúEmoobook,‚Äù
 .
 G. G. Yen and Z. He, ‚ÄúPerformance metric ensemble for multiobjective evolutionary algorithms,‚Äù
10.1109/TEVC.2013.2240687.
 G.-A. Vargas-H√°kim, E. Mezura-Montes, and E. Galv√°n, ‚ÄúEvolutionary Multi-Objective Energy
Production Optimization: An Empirical Comparison,‚Äù Math. Comput. Appl., vol. 25, no. 2, p. 32,
2020, doi: 10.3390/mca25020032.
 A. K. Qin, V. L. Huang, and P. N. Suganthan, ‚ÄúDifferential evolution algorithm with strategy
adaptation for global numerical optimization,‚Äù IEEE Trans. Evol. Comput., vol. 13, no. 2, pp. 398‚Äì
417, 2009, doi: 10.1109/TEVC.2008.927706.
 D. Nunez, M. Mauricio, and A. Oscar, ‚ÄúOptimal Design of the HEXA RUS Mechanism,‚Äù 2022.
Lista de los productos de nuevo conocimiento
Art√≠culos en revistas indexadas.
A1. Nunez, D. A., Gonzalez, S., Mauledoux, M., & Aviles, O, ‚ÄúDesign of Six Degrees of Freedom Parallel
Manipulator by Means of Multi-objective Optimization‚Äù, Mechanics Based Design of Structures and
Machines. Sometido. 2023.
A2. Gonzalez, S., Guacheta, J. C., Nunez, D. A., Mauledoux, M., & Aviles, O. F, ‚ÄúMulti-objective
optimization of dynamic controllers on parallel platforms‚Äù. Journal of Engineering Research, 11(1),
100025, 2023, doi: 10.1016/j.jer.2023.100025.
A3. Alba, J. C. G., Garzon, S. G., Nunez, D. A., Mauledoux, M., & Aviles, O. F, ‚Äú3D printing part
orientation optimization: discrete approximation of support volume‚Äù, International Journal of
Electrical & Computer Engineering, 12(6), 2022, doi: 10.11591/ijece.v12i6.pp5958-5966.
A4. Alba, J. C. G., Nunez, D. A., Mauledoux, M., & Aviles, O. F, ‚ÄúDeposition Toolpath Pattern
Comparison: Contour-Parallel and Hilbert Curve Application‚Äù, International Journal of Mechanical
Engineering and Robotics Research, 11(7), 2022, doi: 10.18178/ijmerr.11.7.542-548.
A5. Nunez, D. A., Mauledoux, M., Aviles, O., Guacheta, J., & Gonzalez, S, ‚ÄúOptimal Design of Kinematics
Parallel Manipulator Considering Workspace and Control Effort‚Äù, International Journal of Mechanical
Engineering and Robotics Research, 11(4), 2022, doi: 10.18178/ijmerr.11.4.234-240.
A6. Nunez, D. A., Gonzalez, S., Guacheta, J., Mauledoux, M., & Aviles, O, ‚ÄúKinematics Parallel
Mechanisms Design Particularities Focused on Additive Manufacturing‚Äù, Journal of Engineering
Science & Technology Review, 14(4), 2021, doi: 10.25103/jestr.144.25.
A7. Valencia A, Mauledoux, M., & Nunez, D. A, ‚ÄúInverse and Direct Kinematics of Hexa Parallel Robot
of Six Degrees of Freedom‚Äù, International Journal of Mechanical Engineering and Robotics
Research, 8(5), 748-752, 2019, doi: 10.18178/ijmerr.8.5.748-752.
Congresos internacionales
Nunez, D. A., Mauledoux, M., Aviles, O., Guacheta, J., & Gonzalez, S. , Optimal Design of
Kinematics Parallel Manipulator Considering Workspace and Control Effort. 6th International
Conference on Mechanical Engineering and Robotics Research , 11th to 13th December
2021, Krakow, Poland
Descripci√≥n de los motores usados
C√≥digo de la modelaci√≥n din√°mica
La funci√≥n matrices MCG(x) retorna las matrices descritas en (4-105) - (4-107).
function [M2,C2,G2,Parar] = matricesMCG(x)
AB=zeros(6,3); vc=zeros(6,3); BC=zeros(6,3);
FrM=zeros(6,6); FrC=zeros(6,1); QeG=zeros(6,1);
FbM=zeros(6,6); FbC=zeros(6,1); Fij_r_A=zeros(6,3);
c=zeros(6,3); s=zeros(6,3); q=zeros(6,3);
fcurij_r_C=zeros(6,3); fk_R_N=zeros(3,3,6);
F_R_N=zeros(3,3,6); a=zeros(6,3);
Pk_R_h=zeros(3,3,6); F_R_h=zeros(3,3,6);
ba=zeros(3,6); pl=zeros(3,6);
alarm=0; Zeta=0; yk1=0;
yk2=0; errorYK=0; Jp=zeros(6,6);
JpV2=zeros(6,6); Parar=0;
x=[250/1000, 300/1000, 0/1000, 0/1000, -349.5/1000, 0.001, 0.001, 0.001,
0.0001,0.0001,0.0001,0,0,0];
L_brazo=x(1); L_rod=x(2);
px= x(3); pye= x(4); pz= x(5); teta=x(6); fii=x(7);
psii=x(8);
px_dot=x(9); pye_dot=x(10); pz_dot=x(11); fii_dot=x(12);
teta_dot=x(13); psii_dot= x(14);
px_dotdot=x(15); pye_dotdot=x(16); pz_dotdot=x(17); fii_dotdot= x(18);
teta_dotdot=x(19); psii_dotdot=x(20);
densidad= 2700;
Area= (16/1000)^2*pi/4; %m2
VolumenB= Area*L_brazo;
Area= (12/1000)^2*pi/4; %m2
VolumenR= Area*L_rod;
m_brazo= densidad*VolumenB; % kilogramos
m_rod = densidad*VolumenR; % kilogramos del rod
p=[px,pye,pz]; % posici√≥n deseada de la plataforma movil
X_dot= [px_dot pye_dot pz_dot fii_dot teta_dot psii_dot];
vp= X_dot(1:3); % velocidad deseada de la plataforma movil
%Algoritmo Principal
% Base Vertices
H = 230/1000;
D=89/1000;
h = 82.6/1000;
d=60/1000;
% masa de la plataforma movil
mp=m_p*eye(3);
% masa del brazo
M_brazo=m_brazo*eye(3);
% masa del rod
M_rod=m_rod*eye(3);
% Base Vertices
ba(:,1)=[H*cos(asin(D/H)), -D, 0];
ba(:,2)=[H*cos(asin(D/H)), D, 0];
ba(:,3)=(rotz(120)*ba(:,1));
ba(:,4)=(rotz(120)*ba(:,2));
ba(:,5)=(rotz(120)*ba(:,3));
ba(:,6)=(rotz(120)*ba(:,4));
% Plataforma Vertices
pl(:,1)=rotz(0)*[h*cos(asin(d/h)); -d; 0];
pl(:,2)=rotz(0)*[h*cos(asin(d/h)); d; 0];
pl(:,3)=(rotz(120)*pl(:,1));
pl(:,4)=(rotz(120)*pl(:,2));
pl(:,5)=(rotz(120)*pl(:,3));
pl(:,6)=(rotz(120)*pl(:,4));
F_R_fcur= roty(fii)*rotx(teta)*rotz(psii);
%Velocidad angular de la plataforma movil (wp)
wp=[teta_dot;fii_dot;psii_dot];
% Rotacion de la referencia Fij y fcurij (ij=12,34,56) con respecto a F. La rotaci√≥n
es de alfa_ij
alfa_ij=[0, 0, 2*pi/3, 2*pi/3, 4*pi/3, 4*pi/3];
F_R_Fij=zeros(3,3,6);
F_R_Fij(:,:,i)=rotz(rad2deg(alfa_ij(i)));
fcur_R_fcurij= F_R_Fij;
% Traslaci√≥n de la referencia Fij y fcurij a los extremos de las plataformas Ak y Ck
(k=1,...,6)
Fij_r_A(1,:) = ba(:,1);
Fij_r_A(2,:) = ba(:,2);
Fij_r_A(3,:) = Fij_r_A(1,:);
Fij_r_A(4,:) = Fij_r_A(2,:);
Fij_r_A(5,:) = Fij_r_A(1,:);
Fij_r_A(6,:) = Fij_r_A(2,:);
fcurij_r_C(1,:)=pl(:,1);
fcurij_r_C(2,:)=pl(:,2);
fcurij_r_C(3,:)=fcurij_r_C(1,:);
fcurij_r_C(4,:)=fcurij_r_C(2,:);
fcurij_r_C(5,:)=fcurij_r_C(1,:);
fcurij_r_C(6,:)=fcurij_r_C(2,:);
% Rotacion de la referencia Fij teniendo en cuenta que la rotacion se haga sobre el
eje Z y que el eje Y sea perpendicular a la plataforma base
Fij_R_fk=rotz(180)*rotx(90);
% Rotacion de la referencia fk para que el eje X este alineado con el brazo y el eje
Z se mantenga alineado con el eje de rotaci√≥n una vez se haya definido el angulo de
rotacion del brazo (zeta), donde el valor de z debe ser negativo.
%Zeta = CinematicaInversa(L_brazo, L_rod, p, ba, pl, fii, teta, psii)'-pi
% retorna Zeta en grados
[Zeta,alarm]=CinematicaInversa3(L_brazo, L_rod,[px,pye,pz,teta,fii,psii]);
Zeta=deg2rad(-Zeta);
z1= Zeta(1); z2= Zeta(2); z3= Zeta(3);
z4= Zeta(4); z5= Zeta(5); z6= Zeta(6);
fk_R_N(:,:,i)=rotz(rad2deg(Zeta(i)));
F_R_N(:,:,i)=F_R_Fij(:,:,i)*Fij_R_fk*fk_R_N(:,:,i);
% Determinaci√≥n del vector unitario del rod qk
coord_brazo=[L_brazo;0;0];
a(i,:)=F_R_Fij(:,:,i)*Fij_r_A(i,:)';
% Vector del centro de la plataforma movil a la articulaci√≥n esf√©rica
c(i,:) = double(F_R_fcur*fcur_R_fcurij(:,:,i)*fcurij_r_C(i,:)');
% Vector unitario de A a B
s(i,:) = F_R_N(:,:,i) * (coord_brazo/norm(coord_brazo));
% Rotacion de Nk a Pk, es necesario rotar Nk 90¬∞(pi/2)en el eje X
Nk_R_Pk= rotx(90);
% Vector unitario del punto B al punto C
q(i,:)=(p + c(i,:) - a(i,:) - (L_brazo*s(i,:)))/L_rod;
% Rotacion de la referencia Pk para que el eje X del rod este alineado con la
barra y el eje Z este alineado con la rotacion
[yk1,yk2,errorYK]=YK(alfa_ij(i), Zeta(i), q(i,1), q(i,2), q(i,3));
Pk_R_h(:,:,i)=rotx(90)*roty(rad2deg(yk1))*rotz(rad2deg(yk2));
% Las matrices de rotacion necesarias para determinar la referencia Nk y hk
respecto a la referencia estatica inicial fija F son
F_R_h(:,:,i)=F_R_N(:,:,i)*Nk_R_Pk*Pk_R_h(:,:,i);
% Vector de AB con respecto al punto F
AB(i,:) = F_R_Fij(:,:,i)*Fij_R_fk * [L_brazo*cos(Zeta(i)); L_brazo*sin(Zeta(i));
% Vector que inicia en Bk y termina en Ck de cada k-√©simo rod
BC(i,:)= c(i,:) + [px,pye,pz] - (AB(i,:) + a(i,:));
%% Evaluacion de Jacobiana y Jacobiana de la aceleraci√≥n
% Velocidad la plataforma movil
[Jp,JpV2,AA]=JP(L_brazo, px, pye, pz, fii, teta, psii, z1, z2, z3, z4, z5, z6);
Zetah_dot= JpV2*X_dot';
Jp1=JP1(L_brazo, px, pye, pz, fii, teta, psii, z1, z2, z3, z4, z5, z6);
Jp2=JP2(L_brazo, px, pye, pz, fii, teta, psii, z1, z2, z3, z4, z5, z6,...
fii_dot, teta_dot, psii_dot, px_dot, pye_dot, pz_dot,Zetah_dot(1),...
Zetah_dot(2),Zetah_dot(3),Zetah_dot(4),Zetah_dot(5),Zetah_dot(6));
% Velocidad angular en i de L_brazo
fk_w_k= [zeros(6,2), Zetah_dot];
% Velocidad lineal del punto Ck
vc(i,:)= vp + cross(wp,c(i,:));
[Jrbrazo,Jwbrazo,Jwrod,Jrrod]= jacobianasLinks(JpV2,AB,BC,c);
%% TRABAJO VIRTUAL
% QE MATRIX
% Principio de D'Alembert
% Plataforma movil
Ip_plataforma_movil=[4721.54,0,0;0,5953.13,0;0,0,10606.68]*(1/(100^2))*(1/1000);
% Los valores los momentos de inercia (Ip) de la plataforma movil de Solidworks
gr*cm^2->Kg/m^2
Ip=F_R_fcur*Ip_plataforma_movil*F_R_fcur';
QeG= QeG - Jrbrazo(3,:,i)'*m_brazo - Jrrod(3,:,i)'*m_rod;
zeta_dot= F_R_Fij(:,:,i)*Fij_R_fk *[0;0;Zetah_dot(i)']; % REVISAR
wr= (-1/(norm(BC(i,:))^2) * cross(vp + cross(wp,c(i,:)) -
cross(zeta_dot,AB(i,:)),BC(i,:)));
% Tensor de Inercia de cada brazo con referencia al marco F
Ib=fk_R_N(:,:,i)*((m_brazo*L_brazo^2)/3*[0,0,0;0,1,0;0,0,1])*fk_R_N(:,:,i)';
M1= Jrbrazo(:,:,i)'*M_brazo;
m101=M1(1,1); m102=M1(1,2);m103=M1(1,3);
m104=M1(2,1); m105=M1(2,2);m106=M1(2,3);
m107=M1(3,1); m108=M1(3,2);m109=M1(3,3);
m110=M1(4,1); m111=M1(4,2);m112=M1(4,3);
m113=M1(5,1); m114=M1(5,2);m115=M1(5,3);
m116=M1(6,1); m117=M1(6,2);m118=M1(6,3);
ab1=AB(i,1);ab2=AB(i,2);ab3=AB(i,3);
% las matrices son generadas en C:\Users\danvm\Documents\hexa2\prueba.mlx
AA =[[ (ab2*m103)/2 - (ab3*m102)/2, (ab3*m101)/2 - (ab1*m103)/2, (ab1*m102)/2 ‚Äì
ab2*m101)/2];...
[ (ab2*m106)/2 - (ab3*m105)/2, (ab3*m104)/2 - (ab1*m106)/2, (ab1*m105)/2 ‚Äì
(ab2*m104)/2];...
[ (ab2*m109)/2 - (ab3*m108)/2, (ab3*m107)/2 - (ab1*m109)/2, (ab1*m108)/2 ‚Äì
(ab2*m107)/2];...
[ (ab2*m112)/2 - (ab3*m111)/2, (ab3*m110)/2 - (ab1*m112)/2, (ab1*m111)/2 ‚Äì
(ab2*m110)/2];...
[ (ab2*m115)/2 - (ab3*m114)/2, (ab3*m113)/2 - (ab1*m115)/2, (ab1*m114)/2 ‚Äì
(ab2*m113)/2];...
[ (ab2*m118)/2 - (ab3*m117)/2, (ab3*m116)/2 - (ab1*m118)/2, (ab1*m117)/2 ‚Äì
(ab2*m116)/2]];
M2=Jwbrazo(:,:,i)'*Ib;
CC=BB*F_R_Fij(:,:,i)*Fij_R_fk;
FbM=FbM+CC(:,3)*Jp1(i,:);
FbC=FbC+CC(:,3)*Jp2(i,1) + Jwbrazo(:,:,i)'* cross(zeta_dot,Ib*zeta_dot);
% ROD O SEGUNDO ESLAB√ìN
Ir = F_R_h(:,:,i)*((m_rod*L_rod^2)/3*[0,0,0;0,1,0;0,0,1])*F_R_h(:,:,i)';
M3=Jrrod(:,:,i)'*M_rod;
m301=M3(1,1); m302=M3(1,2);m303=M3(1,3);
m304=M3(2,1); m305=M3(2,2);m306=M3(2,3);
m307=M3(3,1); m308=M3(3,2);m309=M3(3,3);
m310=M3(4,1); m311=M3(4,2);m312=M3(4,3);
m313=M3(5,1); m314=M3(5,2);m315=M3(5,3);
m316=M3(6,1); m317=M3(6,2);m318=M3(6,3);
bc1=BC(i,1);bc2=BC(i,2);bc3=BC(i,3);
[ (bc2*m303)/2 - (bc3*m302)/2, (bc3*m301)/2 - (bc1*m303)/2, (bc1*m302)/2 ‚Äì
(bc2*m301)/2];...
[ (bc2*m306)/2 - (bc3*m305)/2, (bc3*m304)/2 - (bc1*m306)/2, (bc1*m305)/2 -
(bc2*m304)/2];...
[ (bc2*m309)/2 - (bc3*m308)/2, (bc3*m307)/2 - (bc1*m309)/2, (bc1*m308)/2 ‚Äì
(bc2*m307)/2];...
[ (bc2*m312)/2 - (bc3*m311)/2, (bc3*m310)/2 - (bc1*m312)/2, (bc1*m311)/2 ‚Äì
(bc2*m310)/2];...
[ (bc2*m315)/2 - (bc3*m314)/2, (bc3*m313)/2 - (bc1*m315)/2, (bc1*m314)/2 ‚Äì
(bc2*m313)/2];...
[ (bc2*m318)/2 - (bc3*m317)/2, (bc3*m316)/2 - (bc1*m318)/2, (bc1*m317)/2 ‚Äì
(bc2*m316)/2]];
M4=Jwrod(:,:,i)'*Ir;
n= 1/(norm(BC(i,:))^2);
c1=c(i,1);c2=c(i,2);c3=c(i,3);
[0 , -bc3*n , bc2*n, n*(bc2*c2 + bc3*c3), -bc2*c1*n, -
bc3*c1*n];...
[bc3*n , 0, -bc1*n, -bc1*c2*n , n*(bc1*c1 + bc3*c3), -
bc3*c2*n];...
[-bc2*n, bc1*n , 0, -bc1*c3*n , -bc2*c3*n, n*(bc1*c1 +
bc2*c2)]];
FF=-1/(norm(BC(i,:))^2)*cross(cross(wp,cross(wp,c(i,:)))-
cross(zeta_dot,cross(zeta_dot,AB(i,:)))-cross(wr,cross(wr,BC(i,:))),BC(i,:));
[ -n*(ab2*bc2 + ab3*bc3), ab1*bc2*n, ab1*bc3*n];...
[ ab2*bc1*n, -n*(ab1*bc1 + ab3*bc3), ab2*bc3*n];...
[ ab3*bc1*n, ab3*bc2*n, -n*(ab1*bc1 + ab2*bc2)]];
HH=EE*GG*(F_R_Fij(:,:,i)*Fij_R_fk);
FrM= FrM+ EE*KK + HH(:,3)*Jp1(i,:);
FrC= FrC+ HH(:,3)*Jp2(i,1) + EE*FF' + Jwrod(:,:,i)'*cross(wr,Ir*wr')';
QeG=QeG + m_p*[0;0;1;0;0;0];
FpM= [mp,zeros(3);zeros(3),Ip];
FpC=[zeros(3,1);cross(wp,Ip*wp)];
% CREACI√ìN DE MATRICES
M2=double( -JpV2'\(FpM+FbM+FrM));
C2= double(-JpV2'\(FpC+FbC+FrC));
G2= double(JpV2'\QeG);
function [Zetah2,alarm]=CinematicaInversa3(lb,lr,POS)
% retorna Zetah2 en grados
% Base Vertices
% Longitudes Poligono
H = 230/1000; D=89/1000;
% Longitudes Plataforma m√≥vil
h = 82.6/1000; d=60/1000;
alarma=zeros(6,1); alarm=0;
ba=zeros(3,6);
pl=zeros(3,6);
Zetah2=zeros(6,1);
ba(:,1)=[H*cos(asin(D/H)), -D, 0];
ba(:,2)=[H*cos(asin(D/H)), D, 0];
ba(:,3)=(rotz(120)*ba(:,1));
ba(:,4)=(rotz(120)*ba(:,2));
ba(:,5)=(rotz(120)*ba(:,3));
ba(:,6)=(rotz(120)*ba(:,4));
% Plataforma Vertices
pl(:,1)=[h*cos(asin(d/h)); -d; 0];
pl(:,2)=[h*cos(asin(d/h)); d; 0];
pl(:,3)=(rotz(120)*pl(:,1));
pl(:,4)=(rotz(120)*pl(:,2));
pl(:,5)=(rotz(120)*pl(:,3));
pl(:,6)=(rotz(120)*pl(:,4));
alfa_ij=[0, 0, 2*pi/3, 2*pi/3, 4*pi/3, 4*pi/3];
Fij_r_A=zeros(6,3);
Fij_r_A(1,:) = ba(:,1);
Fij_r_A(2,:) = ba(:,2);
Fij_r_A(3,:) = Fij_r_A(1,:);
Fij_r_A(4,:) = Fij_r_A(2,:);
Fij_r_A(5,:) = Fij_r_A(1,:);
Fij_r_A(6,:) = Fij_r_A(2,:);
fcurij_r_C=zeros(6,3);
fcurij_r_C(1,:)=pl(:,1);
fcurij_r_C(2,:)=pl(:,2);
fcurij_r_C(3,:)=fcurij_r_C(1,:);
fcurij_r_C(4,:)=fcurij_r_C(2,:);
fcurij_r_C(5,:)=fcurij_r_C(1,:);
fcurij_r_C(6,:)=fcurij_r_C(2,:);
alfa_ijs=alfa_ij(i); FA=Fij_r_A(i,:);
FC=fcurij_r_C(i,:);
[Zetah,alarma(i)]=CinematicaInversaII(lb, lr,POS,alfa_ijs,FA,FC);
Zetah2(i,1) = (180-rad2deg(Zetah));
if sum(alarma)>0
function [Zetah,alarma] = CinematicaInversaII(lb, lr,POS,alfa_ijs,FA,FC)
px=POS(1); pye=POS(2); pz=POS(3);
tetaX=deg2rad(POS(4)); fiiY=deg2rad(POS(5)); psiiZ=deg2rad(POS(6));
% Vertices plataforma superior A
FijrA1=FA(1); FijrA2=FA(2); FijrA3=FA(3);
% Vertices plataforma inferior C
fcurijrC1= FC(1); fcurijrC2= FC(2); fcurijrC3= FC(3);
% Analisis simbolico para la factorizacion
syms lb lr px pye pz real
syms betah gammah alfah psiiZ tetaX fiiY real
syms alfa_ijs z FijrA1 FijrA2 FijrA3 fcurijrC1 fcurijrC2 fcurijrC3 real % escalar
p=[px, pye, pz];
Fij_R_fk=rotz(180)*rotx(90);
% Matrices de rotaci√≥n
Rxa = [1, 0, 0;
0, cos(alfah), -sin(alfah);
0, sin(alfah), cos(alfah)];
Ryb = [ cos(betah) 0 sin(betah);
-sin(betah) 0 cos(betah)];
Rzg = [cos(gammah) -sin(gammah) 0;
sin(gammah) cos(gammah) 0;
F_R_fcur= subs(Ryb,betah,fiiY)*...
subs(Rxa,alfah,tetaX)*...
subs(Rzg,gammah,psiiZ);
F_R_Fij = subs(Rzg,gammah,alfa_ijs);
AB = F_R_Fij*Fij_R_fk*[lb*cos(z); lb*sin(z); 0];
a =F_R_Fij*[FijrA1,FijrA2,FijrA3]';
c = F_R_fcur*F_R_Fij*[fcurijrC1, fcurijrC2,fcurijrC3]';
eq = (Pi(1)-Pa(1))^2 + (Pi(2)-Pa(2))^2 + (Pi(3)-Pa(3))^2 - lr^2;
[A,B]=coeffs(eq,[sin(z),cos(z)]);
% Producto de la factorizaci√≥n generados simbolicamente
A=[lb^2, -2*lb*(pz - FijrA3 - fcurijrC1*(cos(alfa_ijs)*(cos(psiiZ)*sin(fiiY) -
cos(fiiY)*sin(psiiZ)*sin(tetaX)) - sin(alfa_ijs)*(sin(fiiY)*sin(psiiZ) +
cos(fiiY)*cos(psiiZ)*sin(tetaX))) + fcurijrC2*(cos(alfa_ijs)*(sin(fiiY)*sin(psiiZ) +
cos(fiiY)*cos(psiiZ)*sin(tetaX)) + sin(alfa_ijs)*(cos(psiiZ)*sin(fiiY) -
cos(fiiY)*sin(psiiZ)*sin(tetaX))) + fcurijrC3*cos(fiiY)*cos(tetaX)), lb^2,
2*lb*cos(alfa_ijs)*(px + fcurijrC1*(cos(alfa_ijs)*(cos(fiiY)*cos(psiiZ) +
sin(fiiY)*sin(psiiZ)*sin(tetaX)) - sin(alfa_ijs)*(cos(fiiY)*sin(psiiZ) -
cos(psiiZ)*sin(fiiY)*sin(tetaX))) - fcurijrC2*(cos(alfa_ijs)*(cos(fiiY)*sin(psiiZ) -
cos(psiiZ)*sin(fiiY)*sin(tetaX)) + sin(alfa_ijs)*(cos(fiiY)*cos(psiiZ) +
sin(fiiY)*sin(psiiZ)*sin(tetaX))) - FijrA1*cos(alfa_ijs) + FijrA2*sin(alfa_ijs) +
fcurijrC3*cos(tetaX)*sin(fiiY)) + 2*lb*sin(alfa_ijs)*(pye - FijrA2*cos(alfa_ijs) -
FijrA1*sin(alfa_ijs) - fcurijrC3*sin(tetaX) +
fcurijrC1*(cos(alfa_ijs)*cos(tetaX)*sin(psiiZ) + cos(psiiZ)*sin(alfa_ijs)*cos(tetaX))
+ fcurijrC2*(cos(alfa_ijs)*cos(psiiZ)*cos(tetaX) -
sin(alfa_ijs)*cos(tetaX)*sin(psiiZ))), (px +
fcurijrC1*(cos(alfa_ijs)*(cos(fiiY)*cos(psiiZ) + sin(fiiY)*sin(psiiZ)*sin(tetaX)) -
sin(alfa_ijs)*(cos(fiiY)*sin(psiiZ) - cos(psiiZ)*sin(fiiY)*sin(tetaX))) -
fcurijrC2*(cos(alfa_ijs)*(cos(fiiY)*sin(psiiZ) - cos(psiiZ)*sin(fiiY)*sin(tetaX)) +
sin(alfa_ijs)*(cos(fiiY)*cos(psiiZ) + sin(fiiY)*sin(psiiZ)*sin(tetaX))) -
FijrA1*cos(alfa_ijs) + FijrA2*sin(alfa_ijs) + fcurijrC3*cos(tetaX)*sin(fiiY))^2 +
(pye - FijrA2*cos(alfa_ijs) - FijrA1*sin(alfa_ijs) - fcurijrC3*sin(tetaX) +
fcurijrC1*(cos(alfa_ijs)*cos(tetaX)*sin(psiiZ) + cos(psiiZ)*sin(alfa_ijs)*cos(tetaX))
+ fcurijrC2*(cos(alfa_ijs)*cos(psiiZ)*cos(tetaX) -
sin(alfa_ijs)*cos(tetaX)*sin(psiiZ)))^2 + (pz - FijrA3 -
fcurijrC1*(cos(alfa_ijs)*(cos(psiiZ)*sin(fiiY) - cos(fiiY)*sin(psiiZ)*sin(tetaX)) -
sin(alfa_ijs)*(sin(fiiY)*sin(psiiZ) + cos(fiiY)*cos(psiiZ)*sin(tetaX))) +
fcurijrC2*(cos(alfa_ijs)*(sin(fiiY)*sin(psiiZ) + cos(fiiY)*cos(psiiZ)*sin(tetaX)) +
sin(alfa_ijs)*(cos(psiiZ)*sin(fiiY) - cos(fiiY)*sin(psiiZ)*sin(tetaX))) +
fcurijrC3*cos(fiiY)*cos(tetaX))^2 - lr^2];
aa =(A(1)+A(5));
num= (aa*cc^2 - bb*sqrt(-(cc^2)*(aa^2-bb^2-cc^2)))/ (cc*(bb^2+cc^2));
den= (aa*bb + sqrt(-(cc^2)*(aa^2-bb^2-cc^2))) / (bb^2+cc^2);
Zetah=atan(num/den);
% enviar una alarma si el angulo es menor a 90 grados
if num/den<0
function [Jp,JpV2,AA]=JP(brazo, x, y, z, ang1, ang2, ang3, z1, z2, z3, z4, z5, z6)
% las expresiones de Jp son generadas simbolicamente en CinematicaDerivadaInversa3
[[-(x - 0.056769*sin(ang1)*sin(ang3) + brazo*cos(z1) + 0.06*cos(ang3)*sin(ang1) +
0.056769*cos(ang1)*cos(ang2)*cos(ang3) + 0.06*cos(ang1)*cos(ang2)*sin(ang3) -
0.21208)/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2)) - brazo*sin(z1)*(x - 0.056769*sin(ang1)*sin(ang3) +
brazo*cos(z1) + 0.06*cos(ang3)*sin(ang1) + 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) - 0.21208)), -(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) +
0.06*cos(ang2)*sin(ang1)*sin(ang3) +
0.089)/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2)) - brazo*sin(z1)*(x - 0.056769*sin(ang1)*sin(ang3) +
brazo*cos(z1) + 0.06*cos(ang3)*sin(ang1) + 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) - 0.21208)), (1.0*(0.06*sin(ang2)*sin(ang3) -
1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2)) - brazo*sin(z1)*(x -
0.056769*sin(ang1)*sin(ang3) + brazo*cos(z1) + 0.06*cos(ang3)*sin(ang1) +
0.056769*cos(ang1)*cos(ang2)*cos(ang3) + 0.06*cos(ang1)*cos(ang2)*sin(ang3) -
0.21208)), (1.0*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2))*(0.056769*cos(ang1)*sin(ang3) -
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) +
0.06*cos(ang2)*sin(ang1)*sin(ang3)) - (0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2))*(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) +
0.06*cos(ang2)*sin(ang1)*sin(ang3) +
0.089))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2)) - brazo*sin(z1)*(x - 0.056769*sin(ang1)*sin(ang3) +
brazo*cos(z1) + 0.06*cos(ang3)*sin(ang1) + 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) - 0.21208)), -(1.0*(1.0*(0.06*sin(ang2)*sin(ang3)
- 1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2))*(0.06*cos(ang3)*sin(ang1) -
0.056769*sin(ang1)*sin(ang3) + 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3)) - (0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2))*(x - 0.056769*sin(ang1)*sin(ang3) + brazo*cos(z1) +
0.06*cos(ang3)*sin(ang1) + 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) -
0.21208)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2)) - brazo*sin(z1)*(x - 0.056769*sin(ang1)*sin(ang3) +
brazo*cos(z1) + 0.06*cos(ang3)*sin(ang1) + 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) - 0.21208)), (1.0*((0.056769*cos(ang1)*sin(ang3) -
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) +
0.06*cos(ang2)*sin(ang1)*sin(ang3))*(x - 0.056769*sin(ang1)*sin(ang3) + brazo*cos(z1)
+ 0.06*cos(ang3)*sin(ang1) + 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) - 0.21208) - 1.0*(0.06*cos(ang3)*sin(ang1) -
0.056769*sin(ang1)*sin(ang3) + 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3))*(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) +
0.06*cos(ang2)*sin(ang1)*sin(ang3) +
0.089)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2)) - brazo*sin(z1)*(x - 0.056769*sin(ang1)*sin(ang3) +
brazo*cos(z1) + 0.06*cos(ang3)*sin(ang1) + 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) - 0.21208))];
[-(0.056769*sin(ang1)*sin(ang3) - 1.0*x - 1.0*brazo*cos(z2) +
0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) + 0.21208)/(1.0*brazo*cos(z2)*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2)) -
brazo*sin(z2)*(0.056769*sin(ang1)*sin(ang3) - 1.0*x - 1.0*brazo*cos(z2) +
0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) + 0.21208)), (1.0*(y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) -
0.06*cos(ang2)*sin(ang1)*sin(ang3) - 0.089))/(1.0*brazo*cos(z2)*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2)) -
brazo*sin(z2)*(0.056769*sin(ang1)*sin(ang3) - 1.0*x - 1.0*brazo*cos(z2) +
0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) + 0.21208)), (1.0*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2)))/(1.0*brazo*cos(z2)*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2)) -
brazo*sin(z2)*(0.056769*sin(ang1)*sin(ang3) - 1.0*x - 1.0*brazo*cos(z2) +
0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) + 0.21208)), -(1.0*(1.0*(0.06*sin(ang2)*sin(ang3)
- 0.056769*cos(ang3)*sin(ang2))*(y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) -
0.06*cos(ang2)*sin(ang1)*sin(ang3) - 0.089) - (0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) -
0.06*cos(ang2)*sin(ang1)*sin(ang3))*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2)
- 0.056769*cos(ang3)*sin(ang2))))/(1.0*brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2)) -
brazo*sin(z2)*(0.056769*sin(ang1)*sin(ang3) - 1.0*x - 1.0*brazo*cos(z2) +
0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) + 0.21208)), -((0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2))*(0.056769*sin(ang1)*sin(ang3) - 1.0*x -
1.0*brazo*cos(z2) + 0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3)
+ 0.06*cos(ang1)*cos(ang2)*sin(ang3) + 0.21208) - 1.0*(0.056769*sin(ang1)*sin(ang3) +
0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3))*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2)
- 0.056769*cos(ang3)*sin(ang2)))/(1.0*brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2)) -
brazo*sin(z2)*(0.056769*sin(ang1)*sin(ang3) - 1.0*x - 1.0*brazo*cos(z2) +
0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) + 0.21208)), (1.0*(0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) -
0.06*cos(ang2)*sin(ang1)*sin(ang3))*(0.056769*sin(ang1)*sin(ang3) - 1.0*x -
1.0*brazo*cos(z2) + 0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3)
+ 0.06*cos(ang1)*cos(ang2)*sin(ang3) + 0.21208) - (0.056769*sin(ang1)*sin(ang3) +
0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3))*(y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.056769*cos(ang2)*cos(ang3)*sin(ang1) -
0.06*cos(ang2)*sin(ang1)*sin(ang3) - 0.089))/(1.0*brazo*cos(z2)*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2)) -
brazo*sin(z2)*(0.056769*sin(ang1)*sin(ang3) - 1.0*x - 1.0*brazo*cos(z2) +
0.06*cos(ang3)*sin(ang1) - 0.056769*cos(ang1)*cos(ang2)*cos(ang3) +
0.06*cos(ang1)*cos(ang2)*sin(ang3) + 0.21208))];
[-(1.0*(0.023577*sin(ang1)*sin(ang3) - 1.0*x + 0.5*brazo*cos(z3) +
0.079164*cos(ang3)*sin(ang1) - 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) - 0.028965))/(brazo*cos(z3)*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2)) +
0.5*brazo*sin(z3)*(0.023577*sin(ang1)*sin(ang3) - 1.0*x + 0.5*brazo*cos(z3) +
0.079164*cos(ang3)*sin(ang1) - 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) - 0.028965) + 0.86603*brazo*sin(z3)*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) - 0.079164*cos(ang2)*sin(ang1)*sin(ang3) -
0.22817)), (y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) + 0.023577*cos(ang2)*cos(ang3)*sin(ang1) -
0.079164*cos(ang2)*sin(ang1)*sin(ang3) - 0.22817)/(brazo*cos(z3)*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2)) +
0.5*brazo*sin(z3)*(0.023577*sin(ang1)*sin(ang3) - 1.0*x + 0.5*brazo*cos(z3) +
0.079164*cos(ang3)*sin(ang1) - 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) - 0.028965) + 0.86603*brazo*sin(z3)*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) - 0.079164*cos(ang2)*sin(ang1)*sin(ang3) -
0.22817)), (z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2)) +
0.5*brazo*sin(z3)*(0.023577*sin(ang1)*sin(ang3) - 1.0*x + 0.5*brazo*cos(z3) +
0.079164*cos(ang3)*sin(ang1) - 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) - 0.028965) + 0.86603*brazo*sin(z3)*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) - 0.079164*cos(ang2)*sin(ang1)*sin(ang3) -
0.22817)), (1.0*(1.0*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) - 0.079164*cos(ang2)*sin(ang1)*sin(ang3))*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2)) -
(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) - 0.079164*cos(ang2)*sin(ang1)*sin(ang3) -
0.22817)))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2)) + 0.5*brazo*sin(z3)*(0.023577*sin(ang1)*sin(ang3) -
1.0*x + 0.5*brazo*cos(z3) + 0.079164*cos(ang3)*sin(ang1) -
0.023577*cos(ang1)*cos(ang2)*cos(ang3) + 0.079164*cos(ang1)*cos(ang2)*sin(ang3) -
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) - 0.079164*cos(ang2)*sin(ang1)*sin(ang3) -
0.22817)), (1.0*(1.0*(0.023577*sin(ang1)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1) -
0.023577*cos(ang1)*cos(ang2)*cos(ang3) + 0.079164*cos(ang1)*cos(ang2)*sin(ang3))*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2)) -
(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2))*(0.023577*sin(ang1)*sin(ang3) - 1.0*x +
0.5*brazo*cos(z3) + 0.079164*cos(ang3)*sin(ang1) -
0.023577*cos(ang1)*cos(ang2)*cos(ang3) + 0.079164*cos(ang1)*cos(ang2)*sin(ang3) -
0.028965)))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2)) + 0.5*brazo*sin(z3)*(0.023577*sin(ang1)*sin(ang3) -
1.0*x + 0.5*brazo*cos(z3) + 0.079164*cos(ang3)*sin(ang1) -
0.023577*cos(ang1)*cos(ang2)*cos(ang3) + 0.079164*cos(ang1)*cos(ang2)*sin(ang3) -
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) - 0.079164*cos(ang2)*sin(ang1)*sin(ang3) -
0.22817)), ((0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) -
0.079164*cos(ang2)*sin(ang1)*sin(ang3))*(0.023577*sin(ang1)*sin(ang3) - 1.0*x +
0.5*brazo*cos(z3) + 0.079164*cos(ang3)*sin(ang1) -
0.023577*cos(ang1)*cos(ang2)*cos(ang3) + 0.079164*cos(ang1)*cos(ang2)*sin(ang3) -
0.028965) - 1.0*(0.023577*sin(ang1)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1) -
0.023577*cos(ang1)*cos(ang2)*cos(ang3) + 0.079164*cos(ang1)*cos(ang2)*sin(ang3))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) - 0.079164*cos(ang2)*sin(ang1)*sin(ang3) -
0.22817))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2)) + 0.5*brazo*sin(z3)*(0.023577*sin(ang1)*sin(ang3) -
1.0*x + 0.5*brazo*cos(z3) + 0.079164*cos(ang3)*sin(ang1) -
0.023577*cos(ang1)*cos(ang2)*cos(ang3) + 0.079164*cos(ang1)*cos(ang2)*sin(ang3) -
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) - 0.079164*cos(ang2)*sin(ang1)*sin(ang3) -
0.22817))];
[-(1.0*(0.5*brazo*cos(z4) - 0.080346*sin(ang1)*sin(ang3) - x +
0.019164*cos(ang3)*sin(ang1) + 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) - 0.18312))/(1.0*brazo*cos(z4)*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2)) -
0.86603*brazo*sin(z4)*(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) +
0.019164*cos(ang2)*sin(ang1)*sin(ang3) + 0.13917) +
0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 0.080346*sin(ang1)*sin(ang3) - x +
0.019164*cos(ang3)*sin(ang1) + 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) - 0.18312)), -(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) + 0.019164*cos(ang2)*sin(ang1)*sin(ang3) +
0.13917)/(1.0*brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2)) - 0.86603*brazo*sin(z4)*(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) + 0.019164*cos(ang2)*sin(ang1)*sin(ang3) +
0.13917) + 0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 0.080346*sin(ang1)*sin(ang3) - x +
0.019164*cos(ang3)*sin(ang1) + 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) - 0.18312)), (1.0*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2)))/(1.0*brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2)) -
0.86603*brazo*sin(z4)*(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) +
0.019164*cos(ang2)*sin(ang1)*sin(ang3) + 0.13917) +
0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 0.080346*sin(ang1)*sin(ang3) - x +
0.019164*cos(ang3)*sin(ang1) + 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) - 0.18312)), -
(1.0*(1.0*(0.080346*cos(ang1)*sin(ang3) - 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) + 0.019164*cos(ang2)*sin(ang1)*sin(ang3))*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2)) -
(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2))*(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) +
0.019164*cos(ang2)*sin(ang1)*sin(ang3) + 0.13917)))/(1.0*brazo*cos(z4)*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2)) -
0.86603*brazo*sin(z4)*(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) +
0.019164*cos(ang2)*sin(ang1)*sin(ang3) + 0.13917) +
0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 0.080346*sin(ang1)*sin(ang3) - x +
0.019164*cos(ang3)*sin(ang1) + 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) - 0.18312)), -
(1.0*((0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2))*(0.5*brazo*cos(z4) - 0.080346*sin(ang1)*sin(ang3) - x +
0.019164*cos(ang3)*sin(ang1) + 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) - 0.18312) - 1.0*(0.019164*cos(ang3)*sin(ang1)
- 0.080346*sin(ang1)*sin(ang3) + 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3))*(z + 0.019164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2))))/(1.0*brazo*cos(z4)*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2)) -
0.86603*brazo*sin(z4)*(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) +
0.019164*cos(ang2)*sin(ang1)*sin(ang3) + 0.13917) +
0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 0.080346*sin(ang1)*sin(ang3) - x +
0.019164*cos(ang3)*sin(ang1) + 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) - 0.18312)), -
(1.0*((0.080346*cos(ang1)*sin(ang3) - 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) +
0.019164*cos(ang2)*sin(ang1)*sin(ang3))*(0.5*brazo*cos(z4) -
0.080346*sin(ang1)*sin(ang3) - x + 0.019164*cos(ang3)*sin(ang1) +
0.080346*cos(ang1)*cos(ang2)*cos(ang3) + 0.019164*cos(ang1)*cos(ang2)*sin(ang3) -
0.18312) - 1.0*(0.019164*cos(ang3)*sin(ang1) - 0.080346*sin(ang1)*sin(ang3) +
0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3))*(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) + 0.019164*cos(ang2)*sin(ang1)*sin(ang3) +
0.13917)))/(1.0*brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2)) - 0.86603*brazo*sin(z4)*(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) + 0.019164*cos(ang2)*sin(ang1)*sin(ang3) +
0.13917) + 0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 0.080346*sin(ang1)*sin(ang3) - x +
0.019164*cos(ang3)*sin(ang1) + 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) - 0.18312))];
[(x + 0.080346*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z5) +
0.019164*cos(ang3)*sin(ang1) - 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) + 0.18312)/(brazo*cos(z5)*(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) -
0.019164*cos(ang2)*sin(ang1)*sin(ang3) - 0.13917) - 0.5*brazo*sin(z5)*(x +
0.080346*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z5) + 0.019164*cos(ang3)*sin(ang1) -
0.080346*cos(ang1)*cos(ang2)*cos(ang3) + 0.019164*cos(ang1)*cos(ang2)*sin(ang3) +
0.18312)), -(1.0*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) -
0.019164*cos(ang2)*sin(ang1)*sin(ang3) - 0.13917))/(brazo*cos(z5)*(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) -
0.019164*cos(ang2)*sin(ang1)*sin(ang3) - 0.13917) - 0.5*brazo*sin(z5)*(x +
0.080346*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z5) + 0.019164*cos(ang3)*sin(ang1) -
0.080346*cos(ang1)*cos(ang2)*cos(ang3) + 0.019164*cos(ang1)*cos(ang2)*sin(ang3) +
0.18312)), (z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2))/(brazo*cos(z5)*(z - 0.019164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) -
0.019164*cos(ang2)*sin(ang1)*sin(ang3) - 0.13917) - 0.5*brazo*sin(z5)*(x +
0.080346*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z5) + 0.019164*cos(ang3)*sin(ang1) -
0.080346*cos(ang1)*cos(ang2)*cos(ang3) + 0.019164*cos(ang1)*cos(ang2)*sin(ang3) +
0.18312)), -(1.0*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) - 0.019164*cos(ang2)*sin(ang1)*sin(ang3))*(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2)) +
(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2))*(0.86603*brazo*cos(z5)
- 1.0*y + 0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) - 0.019164*cos(ang2)*sin(ang1)*sin(ang3) -
0.13917))/(brazo*cos(z5)*(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2)) + 0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y
+ 0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) - 0.019164*cos(ang2)*sin(ang1)*sin(ang3) -
0.13917) - 0.5*brazo*sin(z5)*(x + 0.080346*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z5) +
0.019164*cos(ang3)*sin(ang1) - 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) + 0.18312)), -((0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2))*(x + 0.080346*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z5) +
0.019164*cos(ang3)*sin(ang1) - 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) + 0.18312) + 1.0*(0.080346*sin(ang1)*sin(ang3)
+ 0.019164*cos(ang3)*sin(ang1) - 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3))*(z - 0.019164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2)))/(brazo*cos(z5)*(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) + 0.080346*cos(ang2)*cos(ang3)*sin(ang1) -
0.019164*cos(ang2)*sin(ang1)*sin(ang3) - 0.13917) - 0.5*brazo*sin(z5)*(x +
0.080346*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z5) + 0.019164*cos(ang3)*sin(ang1) -
0.080346*cos(ang1)*cos(ang2)*cos(ang3) + 0.019164*cos(ang1)*cos(ang2)*sin(ang3) +
0.18312)), ((0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) - 0.019164*cos(ang2)*sin(ang1)*sin(ang3))*(x +
0.080346*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z5) + 0.019164*cos(ang3)*sin(ang1) -
0.080346*cos(ang1)*cos(ang2)*cos(ang3) + 0.019164*cos(ang1)*cos(ang2)*sin(ang3) +
0.18312) - 1.0*(0.080346*sin(ang1)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1) -
0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) - 0.019164*cos(ang2)*sin(ang1)*sin(ang3) -
0.13917))/(brazo*cos(z5)*(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2)) + 0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y
+ 0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) +
0.080346*cos(ang2)*cos(ang3)*sin(ang1) - 0.019164*cos(ang2)*sin(ang1)*sin(ang3) -
0.13917) - 0.5*brazo*sin(z5)*(x + 0.080346*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z5) +
0.019164*cos(ang3)*sin(ang1) - 0.080346*cos(ang1)*cos(ang2)*cos(ang3) +
0.019164*cos(ang1)*cos(ang2)*sin(ang3) + 0.18312))];
[-(1.0*(x - 0.023577*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z6) +
0.079164*cos(ang3)*sin(ang1) + 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) +
0.028965))/(brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2)) + 0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6)
- 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3) +
0.22817) + 0.5*brazo*sin(z6)*(x - 0.023577*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z6) +
0.079164*cos(ang3)*sin(ang1) + 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) + 0.028965)), -(1.0*y - 0.86603*brazo*cos(z6)
- 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3) +
0.22817)/(brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2)) + 0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6)
- 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3) +
0.22817) + 0.5*brazo*sin(z6)*(x - 0.023577*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z6) +
0.079164*cos(ang3)*sin(ang1) + 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) + 0.028965)), (0.079164*sin(ang2)*sin(ang3) -
1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2))/(brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2)) + 0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3) +
0.22817) + 0.5*brazo*sin(z6)*(x - 0.023577*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z6) +
0.079164*cos(ang3)*sin(ang1) + 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) + 0.028965)), -
(1.0*(1.0*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2))*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3) +
0.22817) - (0.023577*cos(ang1)*sin(ang3) - 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) +
0.079164*cos(ang2)*sin(ang1)*sin(ang3))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2))))/(brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2)) + 0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3) +
0.22817) + 0.5*brazo*sin(z6)*(x - 0.023577*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z6) +
0.079164*cos(ang3)*sin(ang1) + 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) + 0.028965)), -
(1.0*(0.079164*cos(ang3)*sin(ang1) - 0.023577*sin(ang1)*sin(ang3) +
0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2)) - (0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2))*(x - 0.023577*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z6) +
0.079164*cos(ang3)*sin(ang1) + 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) +
0.028965))/(brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2)) + 0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6)
- 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3) +
0.22817) + 0.5*brazo*sin(z6)*(x - 0.023577*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z6) +
0.079164*cos(ang3)*sin(ang1) + 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) + 0.028965)), -((0.079164*cos(ang3)*sin(ang1)
- 0.023577*sin(ang1)*sin(ang3) + 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3) +
0.22817) - 1.0*(0.023577*cos(ang1)*sin(ang3) - 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3))*(x -
0.023577*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z6) + 0.079164*cos(ang3)*sin(ang1) +
0.023577*cos(ang1)*cos(ang2)*cos(ang3) + 0.079164*cos(ang1)*cos(ang2)*sin(ang3) +
0.028965))/(brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2)) + 0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6)
- 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.023577*cos(ang2)*cos(ang3)*sin(ang1) + 0.079164*cos(ang2)*sin(ang1)*sin(ang3) +
0.22817) + 0.5*brazo*sin(z6)*(x - 0.023577*sin(ang1)*sin(ang3) - 0.5*brazo*cos(z6) +
0.079164*cos(ang3)*sin(ang1) + 0.023577*cos(ang1)*cos(ang2)*cos(ang3) +
0.079164*cos(ang1)*cos(ang2)*sin(ang3) + 0.028965))]];
[-(1.0*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*brazo*sin(z1)*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), -(1.0*(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*brazo*sin(z1)*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), (1.0*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3)
- 1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*brazo*sin(z1)*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), -(1.0*((0.06*cos(ang1)*cos(ang3)
- 0.056769*cos(ang1)*sin(ang3))*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + (y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3
) - 1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*brazo*sin(z1)*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), (1.0*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208) - 1.0*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3)
- 1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*brazo*sin(z1)*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), -(1.0*((y -
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089)*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*brazo*sin(z1)*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208));
(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + brazo*sin(z2)*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), (y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + brazo*sin(z2)*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), (z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3)
- 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
brazo*sin(z2)*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), -(1.0*(1.0*(y +
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))))/(brazo*cos(z2)*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
brazo*sin(z2)*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), -
(1.0*((0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3))*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3))*(x +
brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)))/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + brazo*sin(z2)*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), (1.0*(1.0*(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)))/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + brazo*sin(z2)*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208));
(1.0*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965))/(brazo*cos(z3)*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
0.5*brazo*sin(z3)*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) + 0.86603*brazo*sin(z3)*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)), (y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817)/(brazo*cos(z3)*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
0.5*brazo*sin(z3)*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) + 0.86603*brazo*sin(z3)*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)), (z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))/(brazo*cos(z3)*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
0.5*brazo*sin(z3)*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) + 0.86603*brazo*sin(z3)*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)), (1.0*(1.0*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))*(z
+ 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 0.5*brazo*sin(z3)*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)), -
(1.0*((0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(1.0*x - 0.5*brazo*cos(z3) +
0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 0.5*brazo*sin(z3)*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)), -
(1.0*(1.0*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) - 1.0*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 0.5*brazo*sin(z3)*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817));
-(1.0*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), (1.0*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3) - 0.13917))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) -
1.0*x + 0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), (z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 1.0*x
+ 0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), (1.0*((0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3))*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), -(1.0*((0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) -
1.0*x + 0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), (1.0*((0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917));
-(1.0*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - 1.0*z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), -(1.0*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - 1.0*z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), -(1.0*(0.019164*sin(ang2)*sin(ang3) - 1.0*z
+ 1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) -
1.0*x + 0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - 1.0*z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), (1.0*(0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3))*(0.019164*sin(ang2)*sin(ang3) - 1.0*z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - 1.0*z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), (1.0*(0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(0.019164*sin(ang2)*sin(ang3) - 1.0*z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) -
1.0*x + 0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - 1.0*z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), -(1.0*((0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3))*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917)))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - 1.0*z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917));
-(1.0*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965))/(0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817) + brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), -(1.0*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) + 0.22817))/(0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817) + brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), (0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))/(0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817) + brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), -(1.0*(1.0*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
(0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))))/(0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817) + brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), -(1.0*(1.0*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1)
- 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)))/(0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), -(1.0*(1.0*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3))*(x - 0.5*brazo*cos(z6)
+ 0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)))/(0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))];
[brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*brazo*sin(z1)*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208), x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3)
- 0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208, y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) + 0.089, z -
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z1) - 0.056769*cos(ang3)*sin(ang2) -
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3),
(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3))*(0.06*sin(ang2)*sin(ang3) -
1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + (y -
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089)*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)),
(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208), (y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089)*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
- 1.0*brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*brazo*sin(z2)*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208), x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3)
+ 0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208, y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089, z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3),
(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(y
+ 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)),
(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3))*(x +
brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208) - 1.0*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3))*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)), (y +
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.5*brazo*sin(z3)*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - 1.0*brazo*cos(z3)*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817), x - 0.5*brazo*cos(z3) +
0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965, y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817, z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3),
(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817), 1.0*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(1.0*x - 0.5*brazo*cos(z3) +
0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) - (0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)),
1.0*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817) - (0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965);
- 0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
+ 0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312) - 1.0*brazo*cos(z4)*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
0.86603*brazo*sin(z4)*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3) - 0.13917), x - 0.5*brazo*cos(z4) -
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) - 0.080346*sin(ang1)*sin(ang2)*sin(ang3) +
0.18312, y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3) - 0.13917, z + 0.019164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3),
1.0*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3))*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) - 0.13917),
(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312), 1.0*(0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - (0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) - 0.13917);
1.0*brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) -
1.0*x + 0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917), x -
0.5*brazo*cos(z5) - 0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) - 0.080346*sin(ang1)*sin(ang2)*sin(ang3) +
0.18312, y - 0.86603*brazo*cos(z5) - 0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3) + 0.13917, z - 0.019164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3),
1.0*(0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - (0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917),
1.0*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - (0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(0.019164*sin(ang2)*sin(ang3) - z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)),
(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917) -
1.0*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3))*(0.5*brazo*cos(z5)
- 1.0*x + 0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965), x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965, y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817, z -
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z6) - 0.023577*cos(ang3)*sin(ang2) -
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3),
1.0*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
(0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)), (0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1)
- 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965), 1.0*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3))*(x - 0.5*brazo*cos(z6)
+ 0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)];
function Jp1= JP1(brazo, x, y, z, ang1, ang2, ang3, z1, z2, z3, z4, z5, z6)
% Es generado simbolicamente en CinematicaDerivadaInversa4
[-(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - brazo*sin(z1)*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), -(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089)/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - brazo*sin(z1)*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), (1.0*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3)
- 1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
brazo*sin(z1)*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), -((0.06*cos(ang1)*cos(ang3) -
0.056769*cos(ang1)*sin(ang3))*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + (y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3)
- 1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
brazo*sin(z1)*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), (1.0*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208) - (0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3)
- 1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
brazo*sin(z1)*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), -((y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)) + (0.06*cos(ang1)*cos(ang3) -
0.056769*cos(ang1)*sin(ang3))*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - brazo*sin(z1)*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208));
(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + brazo*sin(z2)*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), (y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + brazo*sin(z2)*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), (z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3)
- 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
brazo*sin(z2)*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), -(1.0*(y +
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3)
- 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
brazo*sin(z2)*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)), -
(1.0*((0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3))*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3))*(x +
brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)))/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + brazo*sin(z2)*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)), (1.0*(1.0*(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)))/(brazo*cos(z2)*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + brazo*sin(z2)*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208));
(1.0*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965))/(brazo*cos(z3)*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
0.5*brazo*sin(z3)*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) + 0.86603*brazo*sin(z3)*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)), (y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817)/(brazo*cos(z3)*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
0.5*brazo*sin(z3)*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) + 0.86603*brazo*sin(z3)*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)), (z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))/(brazo*cos(z3)*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
0.5*brazo*sin(z3)*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) + 0.86603*brazo*sin(z3)*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)), (1.0*(1.0*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))*(z
+ 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 0.5*brazo*sin(z3)*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)), -
((0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(1.0*x - 0.5*brazo*cos(z3) +
0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 0.5*brazo*sin(z3)*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)), -
(1.0*(1.0*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) - (0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 0.5*brazo*sin(z3)*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817));
-(1.0*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), (1.0*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3) - 0.13917))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) -
1.0*x + 0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), (z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 1.0*x
+ 0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), (1.0*((0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3))*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), -((0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - (0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) -
1.0*x + 0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)), (1.0*((0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917)))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917));
-(1.0*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), -(1.0*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), -(0.019164*sin(ang2)*sin(ang3) - z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x
+ 0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), (1.0*(0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - (0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), (1.0*(0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3))*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - (0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(0.019164*sin(ang2)*sin(ang3) - z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) -
1.0*x + 0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)), -(1.0*((0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3))*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - 1.0*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917)))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917));
-(1.0*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965))/(0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817) + brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), -(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) + 0.22817)/(0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817) + brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), (0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))/(0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817) + brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), -(1.0*(1.0*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
(0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))))/(0.86603*brazo*sin(z6)*(1.0*y -
0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817) + brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), -(1.0*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1)
- 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - (0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)), -(1.0*(1.0*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3))*(x - 0.5*brazo*cos(z6)
+ 0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)))/(0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))];
function Jp2= JP2(brazo, x, y, z, ang1, ang2, ang3, z1, z2, z3, z4, z5, z6,ang1dot,
ang2dot, ang3dot, xdot, ydot, zdot,z1p, z2p, z3p, z4p, z5p, z6p)
% Es generado simbolicamente en CinematicaDerivadaInversa4
[((1.0*ang1dot*(ang1dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2)
+ 0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3))) +
ang2dot*(1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3))) -
((1.0*(ang2dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1))*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208) - (xdot -
1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z1p*sin(z1))*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(((1.0*(ang2dot*(0.056769*cos(ang2)*cos(ang3
) + 0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1))*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208) - (xdot -
1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z1p*sin(z1))*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2) - (((y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(xdot - 1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.06*cos(ang1)*cos(ang3) -
0.056769*cos(ang1)*sin(ang3)) - 1.0*brazo*z1p*sin(z1)) - 1.0*(ydot +
ang1dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x +
brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))*(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089))/(abs(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) -
1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) + 0.089)^2)))/(abs(x
+ brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2) + 1.0*brazo*z1p^2*sin(z1) - (((((y -
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) + 0.089)*(xdot -
1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z1p*sin(z1)) - 1.0*(ydot + ang1dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2) + (((y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(ang2dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1)) - 1.0*(ydot + ang1dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2))*((y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(ang2dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1)) - 1.0*(ydot + ang1dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
1.0*(ang3dot*(ang1dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3))) +
ang2dot*(ang2dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3))) - (1.0*((((y -
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) + 0.089)*(xdot -
1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z1p*sin(z1)) - 1.0*(ydot + ang1dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2) + (((y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(ang2dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1)) - 1.0*(ydot + ang1dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2))*((y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(xdot - 1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.06*cos(ang1)*cos(ang3) -
0.056769*cos(ang1)*sin(ang3)) - 1.0*brazo*z1p*sin(z1)) - 1.0*(ydot +
ang1dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x +
brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)))/(abs(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) -
1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) + 0.089)^2) -
((1.0*(ang2dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1))*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208) - (xdot -
1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z1p*sin(z1))*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*((((y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(ang2dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1)) - 1.0*(ydot + ang1dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2) +
(1.0*(1.0*(ang2dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1))*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208) - (xdot -
1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z1p*sin(z1))*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))/(abs(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) -
1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) + 0.089)^2)))/(abs(x
+ brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2) + brazo*z1p^2*cos(z1))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208) - (y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089)*(ang1dot*(ang2dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3))) -
ang3dot*(1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3))) + (((((y -
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089)*(ang2dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1)) - 1.0*(ydot + ang1dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2) +
(1.0*(1.0*(ang2dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1))*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208) - (xdot -
1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z1p*sin(z1))*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))/(abs(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) -
1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) + 0.089)^2))*((y -
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089)*(ang2dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1)) - 1.0*(ydot + ang1dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2) -
((((1.0*(ang2dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) +
brazo*z1p*cos(z1))*(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208) - (xdot -
1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z1p*sin(z1))*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(0.06*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)^2) - (((y - 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) + 0.089)*(xdot - 1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.06*cos(ang1)*cos(ang3) -
0.056769*cos(ang1)*sin(ang3)) - 1.0*brazo*z1p*sin(z1)) - 1.0*(ydot +
ang1dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x +
brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))*(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089))/(abs(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) -
1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) + 0.089)^2))*((y -
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) + 0.089)*(xdot -
1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.06*cos(ang1)*cos(ang3) - 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z1p*sin(z1)) - 1.0*(ydot + ang1dot*(0.06*sin(ang2)*sin(ang3) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)))/(abs(x + brazo*cos(z1) + 0.056769*cos(ang2)*cos(ang3) +
0.06*cos(ang2)*sin(ang3) - 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(0.06*sin(ang2)*sin(ang3) -
1.0*z + brazo*sin(z1) + 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) - 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(y - 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) +
0.089)^2)))/(1.0*brazo*cos(z1)*(0.06*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z1) +
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) -
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - brazo*sin(z1)*(x + brazo*cos(z1) +
0.056769*cos(ang2)*cos(ang3) + 0.06*cos(ang2)*sin(ang3) -
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208));
(((((1.0*((y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)*(xdot + ang2dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*sin(z2)) - 1.0*(ydot - 1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))*(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089))/(abs(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(y +
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089)^2 + abs(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) +
((1.0*(xdot + ang2dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*sin(z2))*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - (zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2))*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2))*(1.0*(xdot +
ang2dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*sin(z2))*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - (zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2))*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) -
ang2dot*(1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
ang3dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))) -
1.0*ang1dot*(ang1dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3))) +
(1.0*((((y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089)*(xdot +
ang2dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*sin(z2)) - 1.0*(ydot - 1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) + (1.0*(1.0*(y + 0.06*cos(ang1)*cos(ang3)
+ 0.056769*cos(ang1)*sin(ang3) - 0.089)*(zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2)) - (ydot - 1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2))*(1.0*(y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) - 0.089)*(zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2)) - (ydot - 1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3))))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) + brazo*z2p^2*sin(z2))*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
(ang3dot*(ang1dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3))) -
ang2dot*(1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))) +
(1.0*((1.0*(1.0*(xdot + ang2dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3)) - 1.0*brazo*z2p*sin(z2))*(z + 0.06*sin(ang2)*sin(ang3)
- 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - (zdot
- 1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2))*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208))*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))/(abs(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(y +
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089)^2 + abs(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) -
((1.0*(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089)*(zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2)) - (ydot - 1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) - 0.089))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2))*(1.0*(xdot +
ang2dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*sin(z2))*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - (zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2))*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) + (((((y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) - 0.089)*(xdot + ang2dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3)) - 1.0*brazo*z2p*sin(z2)) - 1.0*(ydot -
1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x +
brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) + (1.0*(1.0*(y + 0.06*cos(ang1)*cos(ang3)
+ 0.056769*cos(ang1)*sin(ang3) - 0.089)*(zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2)) - (ydot - 1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2))*((y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) - 0.089)*(xdot + ang2dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3)) - 1.0*brazo*z2p*sin(z2)) - 1.0*(ydot -
1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x +
brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)))/(abs(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(y +
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089)^2 + abs(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) -
1.0*brazo*z2p^2*cos(z2))*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208) + 1.0*(y + 0.06*cos(ang1)*cos(ang3)
+ 0.056769*cos(ang1)*sin(ang3) -
0.089)*(ang1dot*(1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3)
+ 0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) -
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))) +
ang3dot*(1.0*ang2dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
ang3dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3))) -
(1.0*((1.0*(1.0*(xdot + ang2dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3)) - 1.0*brazo*z2p*sin(z2))*(z + 0.06*sin(ang2)*sin(ang3)
- 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - (zdot
- 1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2))*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208))*(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))/(abs(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(y +
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089)^2 + abs(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) -
((1.0*(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089)*(zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2)) - (ydot - 1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3)))*(y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) - 0.089))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2))*(1.0*(y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) - 0.089)*(zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2)) - (ydot - 1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3))))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) + (((1.0*((y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) - 0.089)*(xdot + ang2dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3)) - 1.0*brazo*z2p*sin(z2)) - 1.0*(ydot -
1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x +
brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208))*(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089))/(abs(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(y +
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089)^2 + abs(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2) +
((1.0*(xdot + ang2dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*sin(z2))*(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - (zdot -
1.0*ang2dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3)) -
1.0*brazo*z2p*cos(z2))*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208))*(z + 0.06*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1)
+ 0.056769*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(x + brazo*cos(z2) +
0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)^2 + abs(y + 0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) -
0.089)^2 + abs(z + 0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2))*((y + 0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3) - 0.089)*(xdot + ang2dot*(0.06*sin(ang2)*sin(ang3) -
0.056769*cos(ang3)*sin(ang2) + 0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.06*cos(ang1)*cos(ang3) +
0.056769*cos(ang1)*sin(ang3)) - 1.0*brazo*z2p*sin(z2)) - 1.0*(ydot -
1.0*ang1dot*(0.06*sin(ang2)*sin(ang3) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3)))*(x +
brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) - 0.06*cos(ang2)*sin(ang3) +
0.06*cos(ang3)*sin(ang1)*sin(ang2) + 0.056769*sin(ang1)*sin(ang2)*sin(ang3) -
0.21208)))/(abs(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208)^2 + abs(y +
0.06*cos(ang1)*cos(ang3) + 0.056769*cos(ang1)*sin(ang3) - 0.089)^2 + abs(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) +
0.056769*cos(ang2)*sin(ang1)*sin(ang3))^2)))/(brazo*cos(z2)*(z +
0.06*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z2) - 0.056769*cos(ang3)*sin(ang2) +
0.06*cos(ang2)*cos(ang3)*sin(ang1) + 0.056769*cos(ang2)*sin(ang1)*sin(ang3)) +
brazo*sin(z2)*(x + brazo*cos(z2) + 0.056769*cos(ang2)*cos(ang3) -
0.06*cos(ang2)*sin(ang3) + 0.06*cos(ang3)*sin(ang1)*sin(ang2) +
0.056769*sin(ang1)*sin(ang2)*sin(ang3) - 0.21208));
(1.0*((ang3dot*(ang1dot*(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - ang3dot*(0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3))) -
ang2dot*(ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))) +
(1.0*((((zdot - ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3)
+ 0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot +
ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(1.0*x - 0.5*brazo*cos(z3) +
0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(abs(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(0.5*brazo*cos(z3) - 1.0*x -
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) - 0.023577*sin(ang1)*sin(ang2)*sin(ang3) -
0.028965)^2 + abs(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) + (((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817) - (1.0*ydot -
ang1dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
0.86603*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817))/(abs(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2))*((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot +
ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))))/(abs(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) +
(1.0*((1.0*ydot - ang1dot*(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 0.86603*brazo*z3p*sin(z3))*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) - 1.0*(xdot + ang2dot*(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3)) + 0.5*brazo*z3p*sin(z3))*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817))*((((1.0*ydot
- ang1dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
0.86603*brazo*z3p*sin(z3))*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3)
- 0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - 1.0*(xdot +
ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z3p*sin(z3))*(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817))*(1.0*x - 0.5*brazo*cos(z3) +
0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(abs(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(0.5*brazo*cos(z3) - 1.0*x -
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) - 0.023577*sin(ang1)*sin(ang2)*sin(ang3) -
0.028965)^2 + abs(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) - (((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817) - (1.0*ydot -
ang1dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
0.86603*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2)))/(abs(z
+ 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) +
0.5*brazo*z3p^2*cos(z3))*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) -
(ang2dot*(ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))) +
ang1dot*(ang1dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
ang3dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3))) -
1.0*brazo*z3p^2*sin(z3) + (1.0*((((1.0*ydot - ang1dot*(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 0.86603*brazo*z3p*sin(z3))*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) - 1.0*(xdot + ang2dot*(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3)) + 0.5*brazo*z3p*sin(z3))*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817))*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(abs(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(0.5*brazo*cos(z3) - 1.0*x -
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) - 0.023577*sin(ang1)*sin(ang2)*sin(ang3) -
0.028965)^2 + abs(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) - (((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817) - (1.0*ydot -
ang1dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
0.86603*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2))*((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817) - (1.0*ydot -
ang1dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
0.86603*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))))/(abs(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) -
(((((1.0*ydot - ang1dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2)
+ 0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
0.86603*brazo*z3p*sin(z3))*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3)
- 0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - 1.0*(xdot +
ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z3p*sin(z3))*(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817))*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817))/(abs(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) +
(1.0*((zdot - ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot +
ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2))*((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot +
ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))))/(abs(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2))*(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
1.0*(ang3dot*(ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))) +
1.0*ang1dot*(ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3))) + (((((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot +
ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(1.0*x - 0.5*brazo*cos(z3) +
0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(abs(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(0.5*brazo*cos(z3) - 1.0*x -
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) - 0.023577*sin(ang1)*sin(ang2)*sin(ang3) -
0.028965)^2 + abs(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) + (((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817) - (1.0*ydot -
ang1dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
0.86603*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817))/(abs(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2))*((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817) - (1.0*ydot -
ang1dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
0.86603*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))))/(abs(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) -
0.86603*brazo*z3p^2*cos(z3) + (((((1.0*ydot - ang1dot*(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 0.86603*brazo*z3p*sin(z3))*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) - 1.0*(xdot + ang2dot*(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3)) + 0.5*brazo*z3p*sin(z3))*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817))/(abs(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(0.5*brazo*cos(z3) - 1.0*x -
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) - 0.023577*sin(ang1)*sin(ang2)*sin(ang3) -
0.028965)^2 + abs(y + 0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2) + (1.0*((zdot -
ang2dot*(0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) -
1.0*brazo*z3p*cos(z3))*(1.0*x - 0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot +
ang2dot*(0.079164*sin(ang2)*sin(ang3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z3p*sin(z3))*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(z + 0.079164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)^2))*((1.0*ydot - ang1dot*(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.023577*cos(ang2)*cos(ang3) -
0.079164*cos(ang2)*sin(ang3) + 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 0.86603*brazo*z3p*sin(z3))*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) - 1.0*(xdot + ang2dot*(0.079164*sin(ang2)*sin(ang3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) +
0.023577*cos(ang1)*sin(ang3)) + 0.5*brazo*z3p*sin(z3))*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)))/(abs(z +
0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) - 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) + 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(0.5*brazo*cos(z3) - 1.0*x - 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) -
0.023577*sin(ang1)*sin(ang2)*sin(ang3) - 0.028965)^2 + abs(y + 0.86603*brazo*cos(z3)
+ 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2))*(y +
0.86603*brazo*cos(z3) + 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) -
0.22817)))/(brazo*cos(z3)*(z + 0.079164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z3) -
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) +
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 0.5*brazo*sin(z3)*(1.0*x -
0.5*brazo*cos(z3) + 0.023577*cos(ang2)*cos(ang3) - 0.079164*cos(ang2)*sin(ang3) +
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) + 0.86603*brazo*sin(z3)*(y + 0.86603*brazo*cos(z3) +
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) - 0.22817));
-((1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3) -
0.13917)*(ang1dot*(1.0*ang1dot*(0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3)) + ang2dot*(0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))) +
ang3dot*(1.0*ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))) +
0.86603*brazo*z4p^2*cos(z4) - ((1.0*(1.0*zdot + ang1dot*(0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3)) + 1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*brazo*z4p*cos(z4))*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917) + (ang1dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
ydot + 1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))*((((xdot -
ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 1.0*(1.0*zdot +
ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(abs(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 + abs(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) + ((1.0*(1.0*zdot +
ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3) - 0.13917) + (ang1dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ydot +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(abs(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 + abs(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2)))/(abs(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) -
(1.0*(1.0*(xdot - ang3dot*(0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3)) + 1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*z4p*sin(z4))*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917) - (ang1dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
ydot + 1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
+ 0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*((1.0*(1.0*(xdot -
ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z4p*sin(z4))*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ang1dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ydot +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
+ 0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(abs(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 + abs(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) + (((xdot -
ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 1.0*(1.0*zdot +
ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(z + 0.019164*sin(ang2)*sin(ang3)
- 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2)))/(abs(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2))
+ (ang3dot*(ang1dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3))) +
1.0*ang2dot*(1.0*ang1dot*(0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3)) + ang2dot*(0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))) + ((((1.0*(1.0*zdot +
ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3) - 0.13917) + (ang1dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ydot +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))*(z + 0.019164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) -
((1.0*(xdot - ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z4p*sin(z4))*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ang1dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ydot +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
+ 0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(abs(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 + abs(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2))*(1.0*(xdot -
ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z4p*sin(z4))*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ang1dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ydot +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
+ 0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)))/(abs(0.080346*cos(ang1)*sin(ang3)
- 0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) +
0.5*brazo*z4p^2*cos(z4) - (((xdot - ang3dot*(0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3)) + 1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*z4p*sin(z4))*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
1.0*(1.0*zdot + ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3))
+ 1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*((((xdot -
ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 1.0*(1.0*zdot +
ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(abs(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 + abs(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) + ((1.0*(1.0*zdot +
ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3) - 0.13917) + (ang1dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ydot +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(abs(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 + abs(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2)))/(abs(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - (ang2dot*(1.0*ang3dot*(0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3)) - ang2dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))) -
ang1dot*(ang1dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3))) +
1.0*brazo*z4p^2*sin(z4) + (((xdot - ang3dot*(0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3)) + 1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*z4p*sin(z4))*(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
1.0*(1.0*zdot + ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3))
+ 1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*((1.0*(1.0*(xdot -
ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z4p*sin(z4))*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ang1dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ydot +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
+ 0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(1.0*y + 0.86603*brazo*cos(z4) +
0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(abs(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 + abs(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) + (((xdot -
ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 1.0*(1.0*zdot +
ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(z + 0.019164*sin(ang2)*sin(ang3)
- 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2)))/(abs(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) +
((((1.0*(1.0*zdot + ang1dot*(0.019164*cos(ang1)*cos(ang3) -
0.080346*cos(ang1)*sin(ang3)) + 1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*brazo*z4p*cos(z4))*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917) + (ang1dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
ydot + 1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))*(z + 0.019164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) -
((1.0*(xdot - ang3dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.019164*sin(ang2)*sin(ang3) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z4p*sin(z4))*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ang1dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ydot +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
+ 0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(abs(0.080346*cos(ang1)*sin(ang3) - 0.86603*brazo*cos(z4) -
0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 + abs(0.5*brazo*cos(z4) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2))*(1.0*(1.0*zdot +
ang1dot*(0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z4p*cos(z4))*(1.0*y + 0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3)
- 0.080346*cos(ang1)*sin(ang3) - 0.13917) + (ang1dot*(0.019164*sin(ang2)*sin(ang3) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ydot +
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z4p*sin(z4))*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))))/(abs(0.080346*cos(ang1)*sin(ang3) -
0.86603*brazo*cos(z4) - 0.019164*cos(ang1)*cos(ang3) - 1.0*y + 0.13917)^2 +
abs(0.5*brazo*cos(z4) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) +
0.019164*cos(ang2)*sin(ang3) - 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z +
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2))*(z + 0.019164*sin(ang2)*sin(ang3) -
1.0*brazo*sin(z4) + 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(0.5*brazo*sin(z4)*(0.5*brazo*cos(z4) -
1.0*x + 0.080346*cos(ang2)*cos(ang3) + 0.019164*cos(ang2)*sin(ang3) -
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) + brazo*cos(z4)*(z + 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z4) +
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) + 0.86603*brazo*sin(z4)*(1.0*y +
0.86603*brazo*cos(z4) + 0.019164*cos(ang1)*cos(ang3) - 0.080346*cos(ang1)*sin(ang3) -
0.13917));
-(1.0*((0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) -
0.13917)*(ang3dot*(ang3dot*(0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3)) - ang2dot*(0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3))) +
1.0*ang1dot*(1.0*ang1dot*(0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3)) - ang2dot*(0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))) - (1.0*((ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917))*((((ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(abs(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 + abs(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2) - 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) + (((xdot +
ang3dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(abs(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 + abs(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2) - 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2)))/(abs(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) -
(((((xdot + ang3dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.019164*sin(ang2)*sin(ang3) - z
+ 1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) +
(1.0*(1.0*(xdot + ang3dot*(0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3)) - ang2dot*(0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
- 0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(abs(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 + abs(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2) - 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2))*(1.0*(xdot +
ang3dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
- 0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)))/(abs(0.86603*brazo*cos(z5) -
1.0*y + 0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) +
0.86603*brazo*z5p^2*cos(z5)) +
1.0*(1.0*ang1dot*(ang1dot*(0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - ang3dot*(0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3))) -
1.0*ang2dot*(ang3dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3))) +
(((ydot + 1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917))*(((1.0*(xdot +
ang3dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
- 0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(abs(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 + abs(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2) - 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) - (((ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917))*(0.019164*sin(ang2)*sin(ang3) - z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2)))/(abs(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) +
1.0*brazo*z5p^2*sin(z5) - (((xdot + ang3dot*(0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3)) - ang2dot*(0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*((((xdot +
ang3dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.019164*sin(ang2)*sin(ang3) - z
+ 1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) +
(1.0*(1.0*(xdot + ang3dot*(0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3)) - ang2dot*(0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
- 0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(abs(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 + abs(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2) - 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2)))/(abs(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2))*(0.019164*sin(ang2)*sin(ang3) - z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
(ang3dot*(ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3))) +
ang2dot*(1.0*ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3))) +
(1.0*(((1.0*(xdot + ang3dot*(0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3)) - ang2dot*(0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
- 0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(abs(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 + abs(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2) - 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) - (((ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917))*(0.019164*sin(ang2)*sin(ang3) - z +
1.0*brazo*sin(z5) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2))*(1.0*(xdot +
ang3dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917) - (ydot +
1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) -
1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3)
- 0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)))/(abs(0.86603*brazo*cos(z5) -
1.0*y + 0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) +
(1.0*((((ydot + 1.0*ang1dot*(0.019164*sin(ang2)*sin(ang3) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3)
+ 0.080346*cos(ang1)*sin(ang3) - 0.13917))*(0.86603*brazo*cos(z5) - 1.0*y +
0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) -
0.13917))/(abs(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 + abs(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2) - 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) + (((xdot +
ang3dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312))*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312))/(abs(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 + abs(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)^2 + abs(z - 0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) +
0.080346*cos(ang3)*sin(ang2) - 0.019164*cos(ang2)*cos(ang3)*sin(ang1) -
0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2))*((xdot +
ang3dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) -
ang2dot*(0.019164*sin(ang2)*sin(ang3) - 0.080346*cos(ang3)*sin(ang2) +
0.019164*cos(ang2)*cos(ang3)*sin(ang1) + 0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.5*brazo*z5p*sin(z5))*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*(1.0*zdot -
ang1dot*(0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3)) +
1.0*ang2dot*(0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*brazo*z5p*cos(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)))/(abs(0.86603*brazo*cos(z5) -
1.0*y + 0.019164*cos(ang1)*cos(ang3) + 0.080346*cos(ang1)*sin(ang3) - 0.13917)^2 +
abs(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) - 0.18312)^2 + abs(z -
0.019164*sin(ang2)*sin(ang3) - 1.0*brazo*sin(z5) + 0.080346*cos(ang3)*sin(ang2) -
0.019164*cos(ang2)*cos(ang3)*sin(ang1) - 0.080346*cos(ang2)*sin(ang1)*sin(ang3))^2) -
0.5*brazo*z5p^2*cos(z5))*(0.5*brazo*cos(z5) - 1.0*x + 0.080346*cos(ang2)*cos(ang3) -
0.019164*cos(ang2)*sin(ang3) + 0.019164*cos(ang3)*sin(ang1)*sin(ang2) +
0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312)))/(0.5*brazo*sin(z5)*(0.5*brazo*cos(z5) - 1.0*x +
0.080346*cos(ang2)*cos(ang3) - 0.019164*cos(ang2)*sin(ang3) +
0.019164*cos(ang3)*sin(ang1)*sin(ang2) + 0.080346*sin(ang1)*sin(ang2)*sin(ang3) -
0.18312) - brazo*cos(z5)*(0.019164*sin(ang2)*sin(ang3) - z + 1.0*brazo*sin(z5) -
0.080346*cos(ang3)*sin(ang2) + 0.019164*cos(ang2)*cos(ang3)*sin(ang1) +
0.080346*cos(ang2)*sin(ang1)*sin(ang3)) +
0.86603*brazo*sin(z5)*(0.86603*brazo*cos(z5) - 1.0*y + 0.019164*cos(ang1)*cos(ang3) +
0.080346*cos(ang1)*sin(ang3) - 0.13917));
(1.0*(1.0*(ang2dot*(ang2dot*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3))) + ang1dot*(ang1dot*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3))) - (((ang2dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - 1.0*(xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*((((ydot +
ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2) +
(1.0*((ang2dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - 1.0*(xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1)
- 0.023577*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.86603*brazo*cos(z6) - 1.0*y +
0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 +
abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)^2)))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2) + 1.0*brazo*z6p^2*sin(z6) -
(1.0*((((ydot + ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2)
+ 0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - (ang2dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1)
- 0.023577*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.86603*brazo*cos(z6) - 1.0*y +
0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 +
abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)^2) + (((ydot + ang1dot*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) + 0.86603*brazo*z6p*sin(z6))*(x -
0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) - (xdot - 1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3)) + 0.5*brazo*z6p*sin(z6))*(1.0*y - 0.86603*brazo*cos(z6)
- 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817))*(x -
0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2))*((ydot +
ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - (ang2dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817)))/(abs(0.86603*brazo*cos(z6) - 1.0*y +
0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 +
abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)^2))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - (1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817)*(1.0*ang1dot*(ang2dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) + ang1dot*(0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3))) - ang3dot*(ang2dot*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - 1.0*ang3dot*(0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3))) + 0.86603*brazo*z6p^2*cos(z6) + (((ydot +
ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817))*((((ydot +
ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2) +
(1.0*((ang2dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - 1.0*(xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1)
- 0.023577*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.86603*brazo*cos(z6) - 1.0*y +
0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 +
abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)^2)))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2) + (((((ydot +
ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - (ang2dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2) -
(((ang2dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - 1.0*(xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2))*((ydot +
ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - (ang2dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817)))/(abs(0.86603*brazo*cos(z6) - 1.0*y +
0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 +
abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)^2)) + (1.0*ang3dot*(ang1dot*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3))) +
1.0*ang2dot*(ang2dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3))) - (((((ydot +
ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - (ang2dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z +
brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1)
- 0.023577*cos(ang2)*sin(ang1)*sin(ang3)))/(abs(0.86603*brazo*cos(z6) - 1.0*y +
0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 +
abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)^2) + (((ydot + ang1dot*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) + 0.86603*brazo*z6p*sin(z6))*(x -
0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965) - (xdot - 1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + ang3dot*(0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3)) + 0.5*brazo*z6p*sin(z6))*(1.0*y - 0.86603*brazo*cos(z6)
- 0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817))*(x -
0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2))*((ydot +
ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - (xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817)))/(abs(0.86603*brazo*cos(z6) - 1.0*y +
0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 +
abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)^2) + (((ang2dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - 1.0*(xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*((((ydot +
ang1dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) +
0.86603*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) - (ang2dot*(0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3)) - 1.0*zdot +
ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(1.0*y - 0.86603*brazo*cos(z6) - 0.079164*cos(ang1)*cos(ang3)
+ 0.023577*cos(ang1)*sin(ang3) + 0.22817))*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) +
0.22817))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2) -
(((ang2dot*(0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3)) -
1.0*zdot + ang1dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
1.0*brazo*z6p*cos(z6))*(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965) - 1.0*(xdot -
1.0*ang2dot*(0.079164*sin(ang2)*sin(ang3) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3)) +
ang3dot*(0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3)) +
0.5*brazo*z6p*sin(z6))*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)))*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))/(abs(0.86603*brazo*cos(z6) - 1.0*y + 0.079164*cos(ang1)*cos(ang3) -
0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 + abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z
+ brazo*sin(z6) + 0.023577*cos(ang3)*sin(ang2) +
0.079164*cos(ang2)*cos(ang3)*sin(ang1) - 0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 +
abs(x - 0.5*brazo*cos(z6) + 0.023577*cos(ang2)*cos(ang3) +
0.079164*cos(ang2)*sin(ang3) - 0.079164*cos(ang3)*sin(ang1)*sin(ang2) +
0.023577*sin(ang1)*sin(ang2)*sin(ang3) + 0.028965)^2)))/(abs(0.86603*brazo*cos(z6) -
1.0*y + 0.079164*cos(ang1)*cos(ang3) - 0.023577*cos(ang1)*sin(ang3) - 0.22817)^2 +
abs(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3))^2 + abs(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)^2) - 0.5*brazo*z6p^2*cos(z6))*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965)))/(0.86603*brazo*sin(z6)*(1.0*y - 0.86603*brazo*cos(z6) -
0.079164*cos(ang1)*cos(ang3) + 0.023577*cos(ang1)*sin(ang3) + 0.22817) +
brazo*cos(z6)*(0.079164*sin(ang2)*sin(ang3) - 1.0*z + brazo*sin(z6) +
0.023577*cos(ang3)*sin(ang2) + 0.079164*cos(ang2)*cos(ang3)*sin(ang1) -
0.023577*cos(ang2)*sin(ang1)*sin(ang3)) + 0.5*brazo*sin(z6)*(x - 0.5*brazo*cos(z6) +
0.023577*cos(ang2)*cos(ang3) + 0.079164*cos(ang2)*sin(ang3) -
0.079164*cos(ang3)*sin(ang1)*sin(ang2) + 0.023577*sin(ang1)*sin(ang2)*sin(ang3) +
0.028965))];
function CinematicaDerivadaInversa4
syms brazo real
syms betah gammah alfah real
syms z1 z2 z3 z4 z5 z6 real
syms z1p z2p z3p z4p z5p z6p real
syms x y z ang1 ang2 ang3 real
syms xdot ydot zdot ang1dot ang2dot ang3dot real
syms z1pp z2pp z3pp z4pp z5pp z6pp real
syms pxdotdot pyedotdot pzdotdot fiidotdot tetadotdot psiidotdot real
% Matrices de rotaci√≥n
Rxa = [1, 0, 0;
0, cos(alfah), -sin(alfah);
0, sin(alfah), cos(alfah)];
Ryb = [ cos(betah) 0 sin(betah);
-sin(betah) 0 cos(betah)];
Rzg = [cos(gammah) -sin(gammah) 0;
sin(gammah) cos(gammah) 0;
% Longitudes Poligono Base 15/09/2021
H = 230/1000; D= 89/1000;
% Longitudes Plataforma m√≥vil 15/09/2021
h = 82.6/1000; d= 60/1000;
% Base Vertices
ba(:,1)=[H*cos(asin(D/H)), -D, 0];
ba(:,2)=[H*cos(asin(D/H)), D, 0];
ba(:,3)=(rotz(120)*ba(:,1));
ba(:,4)=(rotz(120)*ba(:,2));
ba(:,5)=(rotz(120)*ba(:,3));
ba(:,6)=(rotz(120)*ba(:,4));
% Plataforma Vertices
pl(:,1)=rotz(0)*[h*cos(asin(d/h)); -d; 0];
pl(:,2)=rotz(0)*[h*cos(asin(d/h)); d; 0];
pl(:,3)=(rotz(120)*pl(:,1));
pl(:,4)=(rotz(120)*pl(:,2));
pl(:,5)=(rotz(120)*pl(:,3));
pl(:,6)=(rotz(120)*pl(:,4));
Xp= formula([x y z ang1 ang2 ang3]);
Xpdot= formula([xdot ydot zdot ang1dot ang2dot ang3dot]);
Xpdotdot= formula([pxdotdot pyedotdot pzdotdot tetadotdot fiidotdot psiidotdot]);
zetap= formula([z1p z2p z3p z4p z5p z6p]);
zetapp= formula([z1pp z2pp z3pp z4pp z5pp z6pp]);
zeta= formula([z1 z2 z3 z4 z5 z6]);
alfa_ij=[0, 0, 2*pi/3, 2*pi/3, 4*pi/3, 4*pi/3];
Fij_R_fk=rotz(180)*rotx(90);
F_R_fcur= subs(Ryb,betah,ang2)*...
subs(Rxa,alfah,ang1)*...
subs(Rzg,gammah,ang3);
fcurij_r_C(1,:)=pl(:,1);
fcurij_r_C(2,:)=pl(:,2);
fcurij_r_C(3,:)=fcurij_r_C(1,:);
fcurij_r_C(4,:)=fcurij_r_C(2,:);
fcurij_r_C(5,:)=fcurij_r_C(1,:);
fcurij_r_C(6,:)=fcurij_r_C(2,:);
Fij_r_A(1,:) = ba(:,1);
Fij_r_A(2,:) = ba(:,2);
Fij_r_A(3,:) = Fij_r_A(1,:);
Fij_r_A(4,:) = Fij_r_A(2,:);
Fij_r_A(5,:) = Fij_r_A(1,:);
Fij_r_A(6,:) = Fij_r_A(2,:);
vp= Xpdot(1:3);
wp= Xpdot(4:6);
vpp= Xpdotdot(1:3);
wpp= Xpdotdot(4:6);
% JACOBIANA PLATAFORMA
F_R_Fij=double(subs(Rzg,gammah,alfa_ij(i)));
Zetap= vpa(F_R_Fij*Fij_R_fk *[0;0;zetap(i)])
AB= F_R_Fij*Fij_R_fk *[brazo*cos(zeta(i)); brazo*sin(zeta(i)); 0];
fcur_R_fcurij= F_R_Fij;
c= F_R_fcur*fcur_R_fcurij*fcurij_r_C(i,:)';
a=F_R_Fij*Fij_r_A(i,:)';
BC= c' + Xp(1:3) - (AB+a)';
eq1=dot(vp+cross(wp,c)-cross(Zetap',AB),BC);
[A,B]=coeffs(eq1,[zetap(i), Xpdot]);
Jp(i,:)=vpa(-A(2:7)/A(1),2);
AA(i,:)=A;
% Segunda derivada para la jacobiana de aceleraci√≥n
Zetapp= F_R_Fij*Fij_R_fk *[0;0;zetapp(i)'];
wr= (-1/(norm(BC)^2) * cross(vp + cross(wp,c) - cross(Zetap,AB)',BC));
eq2=dot(cross(Zetapp,AB)'+ cross(Zetap,cross(Zetap,AB))'+
cross(wr,cross(wr,BC)) ‚Äì
vpp-cross(wpp,c)-cross(wp,cross(wp,c)),BC);
[C,D]=coeffs(eq2,[zetapp(i), Xpdotdot]);
Jp1(i,:)=-C(2:7)/C(1);
Jp2(i,1)=-C(8)/C(1);
function [Jrbrazo,Jwbrazo,Jwrod,Jrrod]= jacobianasLinks(Jp,AB,BC,c)
Jrbrazo=zeros(3,6,6);
Jwbrazo=zeros(3,6,6);
Jwrod=zeros(3,6,6); Jrrod=zeros(3,6,6);
% Las expresiones fueron generadas en SimbolicasJacobianasLinks.
Jrbrazo(:,:,1) =[...
[ (ab3*jp1)/2, (ab3*jp2)/2, (ab3*jp3)/2, (ab3*jp4)/2, (ab3*jp5)/2,
(ab3*jp6)/2];...
[ 0, 0, 0, 0, 0,
[ -(ab1*jp1)/2, -(ab1*jp2)/2, -(ab1*jp3)/2, -(ab1*jp4)/2, -(ab1*jp5)/2, -
(ab1*jp6)/2]];
Jrbrazo(:,:,2) =[...
[ (ab6*jp7)/2, (ab6*jp8)/2, (ab6*jp9)/2, (ab6*jp10)/2, (ab6*jp11)/2,
(ab6*jp12)/2];...
[ 0, 0, 0, 0, 0,
[ -(ab4*jp7)/2, -(ab4*jp8)/2, -(ab4*jp9)/2, -(ab4*jp10)/2, -(ab4*jp11)/2, -
(ab4*jp12)/2]];
Jrbrazo(:,:,3) =[...
[ -(ab9*jp13)/4, -(ab9*jp14)/4,
-(ab9*jp15)/4, -(ab9*jp16)/4, -
(ab9*jp17)/4, -(ab9*jp18)/4];...
[ (3^(1/2)*ab9*jp13)/4, (3^(1/2)*ab9*jp14)/4,
(3^(1/2)*ab9*jp15)/4, (3^(1/2)*ab9*jp16)/4,
(3^(1/2)*ab9*jp17)/4, (3^(1/2)*ab9*jp18)/4];...
[ (ab7*jp13)/4 - (3^(1/2)*ab8*jp13)/4, (ab7*jp14)/4 - (3^(1/2)*ab8*jp14)/4,
(ab7*jp15)/4 - (3^(1/2)*ab8*jp15)/4, (ab7*jp16)/4 - (3^(1/2)*ab8*jp16)/4,
(ab7*jp17)/4 - (3^(1/2)*ab8*jp17)/4, (ab7*jp18)/4 - (3^(1/2)*ab8*jp18)/4]];
Jrbrazo(:,:,4) =[...
[ -(ab12*jp19)/4, -(ab12*jp20)/4,
-(ab12*jp21)/4, -(ab12*jp22)/4, -
(ab12*jp23)/4, -(ab12*jp24)/4];...
[ (3^(1/2)*ab12*jp19)/4, (3^(1/2)*ab12*jp20)/4,
(3^(1/2)*ab12*jp21)/4, (3^(1/2)*ab12*jp22)/4,
(3^(1/2)*ab12*jp23)/4, (3^(1/2)*ab12*jp24)/4];...
[ (ab10*jp19)/4 - (3^(1/2)*ab11*jp19)/4, (ab10*jp20)/4 - (3^(1/2)*ab11*jp20)/4,
(ab10*jp21)/4 - (3^(1/2)*ab11*jp21)/4, (ab10*jp22)/4 - (3^(1/2)*ab11*jp22)/4,
(ab10*jp23)/4 - (3^(1/2)*ab11*jp23)/4, (ab10*jp24)/4 - (3^(1/2)*ab11*jp24)/4]];
Jrbrazo(:,:,5) =[...
[ -(ab15*jp25)/4, -(ab15*jp26)/4,
-(ab15*jp27)/4, -(ab15*jp28)/4, -
(ab15*jp29)/4, -(ab15*jp30)/4];...
[ -(3^(1/2)*ab15*jp25)/4, -(3^(1/2)*ab15*jp26)/4,
-(3^(1/2)*ab15*jp27)/4, -(3^(1/2)*ab15*jp28)/4, -
(3^(1/2)*ab15*jp29)/4, -(3^(1/2)*ab15*jp30)/4];...
[ (ab13*jp25)/4 + (3^(1/2)*ab14*jp25)/4, (ab13*jp26)/4 + (3^(1/2)*ab14*jp26)/4,
(ab13*jp27)/4 + (3^(1/2)*ab14*jp27)/4, (ab13*jp28)/4 + (3^(1/2)*ab14*jp28)/4,
(ab13*jp29)/4 + (3^(1/2)*ab14*jp29)/4, (ab13*jp30)/4 + (3^(1/2)*ab14*jp30)/4]];
Jrbrazo(:,:,6) =[...
[ -(ab18*jp31)/4, -(ab18*jp32)/4,
-(ab18*jp33)/4, -(ab18*jp34)/4, -
(ab18*jp35)/4, -(ab18*jp36)/4];...
[ -(3^(1/2)*ab18*jp31)/4, -(3^(1/2)*ab18*jp32)/4,
-(3^(1/2)*ab18*jp33)/4, -(3^(1/2)*ab18*jp34)/4, -
(3^(1/2)*a b18*jp35)/4, -(3^(1/2)*ab18*jp36)/4];...
[ (ab16*jp31)/4 + (3^(1/2)*ab17*jp31)/4, (ab16*jp32)/4 + (3^(1/2)*ab17*jp32)/4,
(ab16*jp33)/4 + (3^(1/2)*ab17*jp33)/4, (ab16*jp34)/4 + (3^(1/2)*ab17*jp34)/4,
(ab16*jp35)/4 + (3^(1/2)*ab17*jp35)/4, (ab16*jp36)/4 + (3^(1/2)*ab17*jp36)/4]];
Jwbrazo(:,:,1) =[...
 ;...
[ jp1, jp2, jp3, jp4, jp5, jp6];...
 ];
Jwbrazo(:,:,2) =[...
 ;...
[ jp7, jp8, jp9, jp10, jp11, jp12];...
 ];
Jwbrazo(:,:,3) =[...
[ -(3^(1/2)*jp13)/2, -(3^(1/2)*jp14)/2, -(3^(1/2)*jp15)/2, -(3^(1/2)*jp16)/2, -
(3^(1/2)*jp17)/2, -(3^(1/2)*jp18)/2];...
[ -jp13/2, -jp14/2, -jp15/2, -jp16/2,
-jp17/2, -jp18/2];...
[ 0, 0, 0, 0,
Jwbrazo(:,:,4) =[...
[ -(3^(1/2)*jp19)/2, -(3^(1/2)*jp20)/2, -(3^(1/2)*jp21)/2, -(3^(1/2)*jp22)/2, -
(3^(1/2)*jp23)/2, -(3^(1/2)*jp24)/2];...
[ -jp19/2, -jp20/2, -jp21/2, -jp22/2,
-jp23/2, -jp24/2];...
[ 0, 0, 0, 0,
Jwbrazo(:,:,5) =[...
[ (3^(1/2)*jp25)/2, (3^(1/2)*jp26)/2, (3^(1/2)*jp27)/2, (3^(1/2)*jp28)/2,
(3^(1/2)*jp29)/2, (3^(1/2)*jp30)/2];...
[ -jp25/2, -jp26/2, -jp27/2, -jp28/2, jp29/2, -jp30/2];...
[ 0, 0, 0, 0,
Jwbrazo(:,:,6) =[...
[ (3^(1/2)*jp31)/2, (3^(1/2)*jp32)/2, (3^(1/2)*jp33)/2, (3^(1/2)*jp34)/2,
(3^(1/2)*jp35)/2, (3^(1/2)*jp36)/2];...
-jp31/2, -jp32/2, -jp33/2, -jp34/2, -jp35/2,
-jp36/2];...
[ 0, 0, 0, 0,
Jwrod(:,:,1) =[...
[ (ab1*bc2*jp1)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2),
-(bc3 - ab1*bc2*jp2)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2),
(bc2*(ab1*jp3 + 1))/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), (bc3*c3 + bc2*(c2 +
ab1*jp4))/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), -(bc2*(c1 -
ab1*jp5))/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), -(bc3*c1 -
ab1*bc2*jp6)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)];...
[ -(bc3*(ab3*jp1 - 1) + ab1*bc1*jp1)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), -
(ab1*bc1*jp2 + ab3*bc3*jp2)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), -(bc1*(ab1*jp3 +
1) + ab3*bc3*jp3)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), -(bc1*(c2 + ab1*jp4) +
ab3*bc3*jp4)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), (bc1*(c1 - ab1*jp5) + bc3*(c3 -
ab3*jp5))/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), -(bc3*(c2 + ab3*jp6) +
ab1*bc1*jp6)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)];...
[ (bc2*(ab3*jp1 - 1))/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2),
(bc1 + ab3*bc2*jp2)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2),
(ab3*bc2*jp3)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), -(bc1*c3 -
ab3*bc2*jp4)/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), -(bc2*(c3 -
ab3*jp5))/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2), (bc1*c1 + bc2*(c2 +
ab3*jp6))/(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)]];
Jwrod(:,:,2) =[...
[ (ab4*bc5*jp7)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2),
-(bc6 - ab4*bc5*jp8)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2),
(bc5*(ab4*jp9 + 1))/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), (bc6*c6 + bc5*(c5
+ ab4*jp10))/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), -(bc5*(c4 -
ab4*jp11))/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), -(bc6*c4 -
ab4*bc5*jp12)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)];...
[ -(bc6*(ab6*jp7 - 1) + ab4*bc4*jp7)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), -
(ab4*bc4*jp8 + ab6*bc6*jp8)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), -(bc4*(ab4*jp9 +
1) + ab6*bc6*jp9)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), -(bc4*(c5 + ab4*jp10) +
ab6*bc6*jp10)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), (bc4*(c4 - ab4*jp11) + bc6*(c6
- ab6*jp11))/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), -(bc6*(c5 + ab6*jp12) +
ab4*bc4*jp12)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)];...
[ (bc5*(ab6*jp7 - 1))/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2),
(bc4 + ab6*bc5*jp8)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2),
(ab6*bc5*jp9)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), -(bc4*c6 -
ab6*bc5*jp10)/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), -(bc5*(c6
- ab6*jp11))/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2), (bc4*c4 + bc5*(c5 +
ab6*jp12))/(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)]];
Jwrod(:,:,3) =[...
[ -(bc8*((ab7*jp13)/2 - (3^(1/2)*ab8*jp13)/2) - (3^(1/2)*ab9*bc9*jp13)/2)/(abs(bc7)^2
+ abs(bc8)^2 + abs(bc9)^2), (bc9*((3^(1/2)*ab9*jp14)/2 - 1) - bc8*((ab7*jp14)/2 -
(3^(1/2)*ab8*jp14)/2))/(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2),
(bc8*((3^(1/2)*ab8*jp15)/2 - (ab7*jp15)/2 + 1) +
(3^(1/2)*ab9*bc9*jp15)/2)/(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2), (bc9*(c9 +
(3^(1/2)*ab9*jp16)/2) + bc8*(c8 - (ab7*jp16)/2 + (3^(1/2)*ab8*jp16)/2))/(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2), -(bc8*(c7 + (ab7*jp17)/2 - (3^(1/2)*ab8*jp17)/2) -
(3^(1/2)*ab9*bc9*jp17)/2)/(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2), -(bc9*(c7 -
(3^(1/2)*ab9*jp18)/2) + bc8*((ab7*jp18)/2 - (3^(1/2)*ab8*jp18)/2))/(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2)];...
[ (bc9*((ab9*jp13)/2 + 1) + bc7*((ab7*jp13)/2 - (3^(1/2)*ab8*jp13)/2))/(abs(bc7)^2
+ abs(bc8)^2 + abs(bc9)^2), (bc7*((ab7*jp14)/2 - (3^(1/2)*ab8*jp14)/2)
+ (ab9*bc9*jp14)/2)/(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2), -
(bc7*((3^(1/2)*ab8*jp15)/2 - (ab7*jp15)/2 + 1) - (ab9*bc9*jp15)/2)/(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2), -(bc7*(c8 - (ab7*jp16)/2 +
(3^(1/2)*ab8*jp16)/2) - (ab9*bc9*jp16)/2)/(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2),
(bc7*(c7 + (ab7*jp17)/2 - (3^(1/2)*ab8*jp17)/2) + bc9*(c9 +
(ab9*jp17)/2))/(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2), -(bc9*(c8 -
(ab9*jp18)/2) - bc7*((ab7*jp18)/2 - (3^(1/2)*ab8*jp18)/2))/(abs(bc7)^2 + abs(bc8)^2 +
abs(bc9)^2)];...
[ -(bc8*((ab9*jp13)/2 + 1) + (3^(1/2)*ab9*bc7*jp13)/2)/(abs(bc7)^2
+ abs(bc8)^2 + abs(bc9)^2), -(bc7*((3^(1/2)*ab9*jp14)/2 - 1)
+ (ab9*bc8*jp14)/2)/(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2),
-((ab9*bc8*jp15)/2 + (3^(1/2)*ab9*bc7*jp15)/2)/(abs(bc7)^2 + abs(bc8)^2 +
abs(bc9)^2), -(bc7*(c9 + (3^(1/2)*ab9*jp16)/2) +
(ab9*bc8*jp16)/2)/(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2), -
(bc8*(c9 + (ab9*jp17)/2) + (3^(1/2)*ab9*bc7*jp17)/2)/(abs(bc7)^2 + abs(bc8)^2 +
abs(bc9)^2), (bc7*(c7 - (3^(1/2)*ab9*jp18)/2) + bc8*(c8 -
(ab9*jp18)/2))/(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)]];
Jwrod(:,:,4) =[...
[ -(bc11*((ab10*jp19)/2 - (3^(1/2)*ab11*jp19)/2) -
(3^(1/2)*ab12*bc12*jp19)/2)/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2),
(bc12*((3^(1/2)*ab12*jp20)/2 - 1) - bc11*((ab10*jp20)/2 -
(3^(1/2)*ab11*jp20)/2))/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2),
(bc11*((3^(1/2)*ab11*jp21)/2 - (ab10*jp21)/2 + 1) +
(3^(1/2)*ab12*bc12*jp21)/2)/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2), (bc12*(c12 +
(3^(1/2)*ab12*jp22)/2) + bc11*(c11 - (ab10*jp22)/2 +
(3^(1/2)*ab11*jp22)/2))/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2), -(bc11*(c10 +
(ab10*jp23)/2 - (3^(1/2)*ab11*jp23)/2) - (3^(1/2)*ab12*bc12*jp23)/2)/(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2), -(bc12*(c10 - (3^(1/2)*ab12*jp24)/2) +
bc11*((ab10*jp24)/2 - (3^(1/2)*ab11*jp24)/2))/(abs(bc10)^2 + abs(bc11)^2 +
abs(bc12)^2)];...
[ (bc12*((ab12*jp19)/2 + 1) + bc10*((ab10*jp19)/2 -
(3^(1/2)*ab11*jp19)/2))/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2),
(bc10*((ab10*jp20)/2 - (3^(1/2)*ab11*jp20)/2) + (ab12*bc12*jp20)/2)/(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2), -(bc10*((3^(1/2)*ab11*jp21)/2 - (ab10*jp21)/2 + 1)
- (ab12*bc12*jp21)/2)/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2), -
(bc10*(c11 - (ab10*jp22)/2 + (3^(1/2)*ab11*jp22)/2) -
(ab12*bc12*jp22)/2)/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2), (bc10*(c10 +
(ab10*jp23)/2 - (3^(1/2)*ab11*jp23)/2) + bc12*(c12 + (ab12*jp23)/2))/(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2), -(bc12*(c11 - (ab12*jp24)/2) -
bc10*((ab10*jp24)/2 - (3^(1/2)*ab11*jp24)/2))/(abs(bc10)^2 + abs(bc11)^2 +
abs(bc12)^2)];...
[ -(bc11*((ab12*jp19)/2 + 1) +
(3^(1/2)*ab12*bc10*jp19)/2)/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2),
-(bc10*((3^(1/2)*ab12*jp20)/2 - 1) + (ab12*bc11*jp20)/2)/(abs(bc10)^2 + abs(bc11)^2 +
abs(bc12)^2), -((ab12*bc11*jp21)/2 +
(3^(1/2)*ab12*bc10*jp21)/2)/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2),
-(bc10*(c12 + (3^(1/2)*ab12*jp22)/2) + (ab12*bc11*jp22)/2)/(abs(bc10)^2 + abs(bc11)^2
+ abs(bc12)^2), -(bc11*(c12 + (ab12*jp23)/2) +
(3^(1/2)*ab12*bc10*jp23)/2)/(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2),
(bc10*(c10 - (3^(1/2)*ab12*jp24)/2) + bc11*(c11 - (ab12*jp24)/2))/(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2)]];
Jwrod(:,:,5) =[...
[ -(bc14*((ab13*jp25)/2 + (3^(1/2)*ab14*jp25)/2) +
(3^(1/2)*ab15*bc15*jp25)/2)/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2), -
(bc15*((3^(1/2)*ab15*jp26)/2 + 1) + bc14*((ab13*jp26)/2 +
(3^(1/2)*ab14*jp26)/2))/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2), -
(bc14*((ab13*jp27)/2 + (3^(1/2)*ab14*jp27)/2 - 1) +
(3^(1/2)*ab15*bc15*jp27)/2)/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2), (bc15*(c15 -
(3^(1/2)*ab15*jp28)/2) - bc14*((ab13*jp28)/2 - c14 +
(3^(1/2)*ab14*jp28)/2))/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2), -(bc14*(c13 +
(ab13*jp29)/2 + (3^(1/2)*ab14*jp29)/2) + (3^(1/2)*ab15*bc15*jp29)/2)/(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2), -(bc15*(c13 + (3^(1/2)*ab15*jp30)/2) +
bc14*((ab13*jp30)/2 + (3^(1/2)*ab14*jp30)/2))/(abs(bc13)^2 + abs(bc14)^2 +
abs(bc15)^2)];...
[ (bc15*((ab15*jp25)/2 + 1) + bc13*((ab13*jp25)/2 +
(3^(1/2)*ab14*jp25)/2))/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2),
(bc13*((ab13*jp26)/2 + (3^(1/2)*ab14*jp26)/2) + (ab15*bc15*jp26)/2)/(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2), (bc13*((ab13*jp27)/2 + (3^(1/2)*ab14*jp27)/2 -
1) + (ab15*bc15*jp27)/2)/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2),
(bc13*((ab13*jp28)/2 - c14 + (3^(1/2)*ab14*jp28)/2) +
(ab15*bc15*jp28)/2)/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2), (bc13*(c13 +
(ab13*jp29)/2 + (3^(1/2)*ab14*jp29)/2) + bc15*(c15 + (ab15*jp29)/2))/(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2), -(bc15*(c14 - (ab15*jp30)/2) -
bc13*((ab13*jp30)/2 + (3^(1/2)*ab14*jp30)/2))/(abs(bc13)^2 + abs(bc14)^2 +
abs(bc15)^2)];...
[ -(bc14*((ab15*jp25)/2 + 1) -
(3^(1/2)*ab15*bc13*jp25)/2)/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2),
(bc13*((3^(1/2)*ab15*jp26)/2 + 1) - (ab15*bc14*jp26)/2)/(abs(bc13)^2 + abs(bc14)^2 +
abs(bc15)^2), -((ab15*bc14*jp27)/2 -
(3^(1/2)*ab15*bc13*jp27)/2)/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2),
-(bc13*(c15 - (3^(1/2)*ab15*jp28)/2) + (ab15*bc14*jp28)/2)/(abs(bc13)^2 + abs(bc14)^2
+ abs(bc15)^2), -(bc14*(c15 + (ab15*jp29)/2) -
(3^(1/2)*ab15*bc13*jp29)/2)/(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2),
(bc13*(c13 + (3^(1/2)*ab15*jp30)/2) + bc14*(c14 - (ab15*jp30)/2))/(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2)]];
Jwrod(:,:,6) =[...
[ -(bc17*((ab16*jp31)/2 + (3^(1/2)*ab17*jp31)/2) +
(3^(1/2)*ab18*bc18*jp31)/2)/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2), -
(bc18*((3^(1/2)*ab18*jp32)/2 + 1) + bc17*((ab16*jp32)/2 +
(3^(1/2)*ab17*jp32)/2))/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2), -
(bc17*((ab16*jp33)/2 + (3^(1/2)*ab17*jp33)/2 - 1) +
(3^(1/2)*ab18*bc18*jp33)/2)/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2), (bc18*(c18 -
(3^(1/2)*ab18*jp34)/2) - bc17*((ab16*jp34)/2 - c17 +
(3^(1/2)*ab17*jp34)/2))/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2), -(bc17*(c16 +
(ab16*jp35)/2 + (3^(1/2)*ab17*jp35)/2) + (3^(1/2)*ab18*bc18*jp35)/2)/(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2), -(bc18*(c16 + (3^(1/2)*ab18*jp36)/2) +
bc17*((ab16*jp36)/2 + (3^(1/2)*ab17*jp36)/2))/(abs(bc16)^2 + abs(bc17)^2 +
abs(bc18)^2)];...
[ (bc18*((ab18*jp31)/2 + 1) + bc16*((ab16*jp31)/2 +
(3^(1/2)*ab17*jp31)/2))/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2),
(bc16*((ab16*jp32)/2 + (3^(1/2)*ab17*jp32)/2) + (ab18*bc18*jp32)/2)/(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2), (bc16*((ab16*jp33)/2 + (3^(1/2)*ab17*jp33)/2 -
1) + (ab18*bc18*jp33)/2)/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2),
(bc16*((ab16*jp34)/2 - c17 + (3^(1/2)*ab17*jp34)/2) +
(ab18*bc18*jp34)/2)/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2), (bc16*(c16 +
(ab16*jp35)/2 + (3^(1/2)*ab17*jp35)/2) + bc18*(c18 + (ab18*jp35)/2))/(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2), -(bc18*(c17 - (ab18*jp36)/2) -
bc16*((ab16*jp36)/2 + (3^(1/2)*ab17*jp36)/2))/(abs(bc16)^2 + abs(bc17)^2 +
abs(bc18)^2)];...
[ -(bc17*((ab18*jp31)/2 + 1) -
(3^(1/2)*ab18*bc16*jp31)/2)/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2),
(bc16*((3^(1/2)*ab18*jp32)/2 + 1) - (ab18*bc17*jp32)/2)/(abs(bc16)^2 + abs(bc17)^2 +
abs(bc18)^2), -((ab18*bc17*jp33)/2 -
(3^(1/2)*ab18*bc16*jp33)/2)/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2),
-(bc16*(c18 - (3^(1/2)*ab18*jp34)/2) + (ab18*bc17*jp34)/2)/(abs(bc16)^2 + abs(bc17)^2
+ abs(bc18)^2), -(bc17*(c18 + (ab18*jp35)/2) -
(3^(1/2)*ab18*bc16*jp35)/2)/(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2),
(bc16*(c16 + (3^(1/2)*ab18*jp36)/2) + bc17*(c17 - (ab18*jp36)/2))/(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2)]];
Jrrod(:,:,1) =[...
[ - (bc3*(bc3*(ab3*jp1 - 1) + ab1*bc1*jp1))/(2*(abs(bc1)^2 + abs(bc2)^2 +
abs(bc3)^2)) - (bc2^2*(ab3*jp1 - 1))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)), -
(bc2*(bc1 + ab3*bc2*jp2))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) -
(bc3*(ab1*bc1*jp2 + ab3*bc3*jp2))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)), -
(bc3*(bc1*(ab1*jp3 + 1) + ab3*bc3*jp3))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) -
(ab3*bc2^2*jp3)/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)), (bc2*(bc1*c3 -
ab3*bc2*jp4))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) - (bc3*(bc1*(c2 + ab1*jp4) +
ab3*bc3*jp4))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)), (bc2^2*(c3 -
ab3*jp5))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) + (bc3*(bc1*(c1 - ab1*jp5) +
bc3*(c3 - ab3*jp5)))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)), - (bc2*(bc1*c1 +
bc2*(c2 + ab3*jp6)))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) - (bc3*(bc3*(c2 +
ab3*jp6) + ab1*bc1*jp6))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2))];...
[ (bc1*bc2*(ab3*jp1 - 1))/(2*(abs(bc1)^2 + abs(bc2)^2 +
abs(bc3)^2)) - (ab1*bc2*bc3*jp1)/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)),
(bc1*(bc1 + ab3*bc2*jp2))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) + (bc3*(bc3 -
ab1*bc2*jp2))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)),
(ab3*bc1*bc2*jp3)/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) - (bc2*bc3*(ab1*jp3 +
1))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)), - (bc3*(bc3*c3 + bc2*(c2 +
ab1*jp4)))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) - (bc1*(bc1*c3 -
ab3*bc2*jp4))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)),
(bc2*bc3*(c1 - ab1*jp5))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) - (bc1*bc2*(c3 -
ab3*jp5))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)), (bc1*(bc1*c1 +
bc2*(c2 + ab3*jp6)))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) + (bc3*(bc3*c1 -
ab1*bc2*jp6))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2))];...
[ (bc1*(bc3*(ab3*jp1 - 1) + ab1*bc1*jp1))/(2*(abs(bc1)^2 + abs(bc2)^2 +
abs(bc3)^2)) + (ab1*bc2^2*jp1)/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)),
(bc1*(ab1*bc1*jp2 + ab3*bc3*jp2))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) -
(bc2*(bc3 - ab1*bc2*jp2))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)),
(bc1*(bc1*(ab1*jp3 + 1) + ab3*bc3*jp3))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) +
(bc2^2*(ab1*jp3 + 1))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)), (bc2*(bc3*c3 +
bc2*(c2 + ab1*jp4)))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) + (bc1*(bc1*(c2 +
ab1*jp4) + ab3*bc3*jp4))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)), - (bc2^2*(c1 -
ab1*jp5))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) - (bc1*(bc1*(c1 - ab1*jp5) +
bc3*(c3 - ab3*jp5)))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)),
(bc1*(bc3*(c2 + ab3*jp6) + ab1*bc1*jp6))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2)) -
(bc2*(bc3*c1 - ab1*bc2*jp6))/(2*(abs(bc1)^2 + abs(bc2)^2 + abs(bc3)^2))]];
Jrrod(:,:,2) =[...
[ - (bc6*(bc6*(ab6*jp7 - 1) + ab4*bc4*jp7))/(2*(abs(bc4)^2 + abs(bc5)^2 +
abs(bc6)^2)) - (bc5^2*(ab6*jp7 - 1))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)), -
(bc5*(bc4 + ab6*bc5*jp8))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) -
(bc6*(ab4*bc4*jp8 + ab6*bc6*jp8))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)), -
(bc6*(bc4*(ab4*jp9 + 1) + ab6*bc6*jp9))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) -
(ab6*bc5^2*jp9)/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)), (bc5*(bc4*c6 -
ab6*bc5*jp10))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) - (bc6*(bc4*(c5 + ab4*jp10)
+ ab6*bc6*jp10))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)), (bc5^2*(c6 -
ab6*jp11))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) + (bc6*(bc4*(c4 - ab4*jp11) +
bc6*(c6 - ab6*jp11)))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)), - (bc5*(bc4*c4 +
bc5*(c5 + ab6*jp12)))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) - (bc6*(bc6*(c5 +
ab6*jp12) + ab4*bc4*jp12))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2))];...
[ (bc4*bc5*(ab6*jp7 - 1))/(2*(abs(bc4)^2 + abs(bc5)^2 +
abs(bc6)^2)) - (ab4*bc5*bc6*jp7)/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)),
(bc4*(bc4 + ab6*bc5*jp8))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) + (bc6*(bc6 -
ab4*bc5*jp8))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)),
(ab6*bc4*bc5*jp9)/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) - (bc5*bc6*(ab4*jp9 +
1))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)), - (bc6*(bc6*c6 + bc5*(c5 +
ab4*jp10)))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) - (bc4*(bc4*c6 -
ab6*bc5*jp10))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)),
(bc5*bc6*(c4 - ab4*jp11))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) - (bc4*bc5*(c6 -
ab6*jp11))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)), (bc4*(bc4*c4 +
bc5*(c5 + ab6*jp12)))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) + (bc6*(bc6*c4 -
ab4*bc5*jp12))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2))];...
[ (bc4*(bc6*(ab6*jp7 - 1) + ab4*bc4*jp7))/(2*(abs(bc4)^2 + abs(bc5)^2 +
abs(bc6)^2)) + (ab4*bc5^2*jp7)/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)),
(bc4*(ab4*bc4*jp8 + ab6*bc6*jp8))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) -
(bc5*(bc6 - ab4*bc5*jp8))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)),
(bc4*(bc4*(ab4*jp9 + 1) + ab6*bc6*jp9))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) +
(bc5^2*(ab4*jp9 + 1))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)), (bc5*(bc6*c6 +
bc5*(c5 + ab4*jp10)))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) + (bc4*(bc4*(c5 +
ab4*jp10) + ab6*bc6*jp10))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)), - (bc5^2*(c4 -
ab4*jp11))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)) - (bc4*(bc4*(c4 - ab4*jp11) +
bc6*(c6 - ab6*jp11)))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2)),
(bc4*(bc6*(c5 + ab6*jp12) + ab4*bc4*jp12))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2))
- (bc5*(bc6*c4 - ab4*bc5*jp12))/(2*(abs(bc4)^2 + abs(bc5)^2 + abs(bc6)^2))]];
Jrrod(:,:,3) =[...
[ (bc9*(bc9*((ab9*jp13)/2 + 1) + bc7*((ab7*jp13)/2 -
(3^(1/2)*ab8*jp13)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) +
(bc8*(bc8*((ab9*jp13)/2 + 1) + (3^(1/2)*ab9*bc7*jp13)/2))/(2*(abs(bc7)^2 + abs(bc8)^2
+ abs(bc9)^2)), (bc8*(bc7*((3^(1/2)*ab9*jp14)/2 - 1) +
(ab9*bc8*jp14)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) +
(bc9*(bc7*((ab7*jp14)/2 - (3^(1/2)*ab8*jp14)/2) + (ab9*bc9*jp14)/2))/(2*(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2)), (bc8*((ab9*bc8*jp15)/2 +
(3^(1/2)*ab9*bc7*jp15)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) -
(bc9*(bc7*((3^(1/2)*ab8*jp15)/2 - (ab7*jp15)/2 + 1) -
(ab9*bc9*jp15)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)),
(bc8*(bc7*(c9 + (3^(1/2)*ab9*jp16)/2) + (ab9*bc8*jp16)/2))/(2*(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2)) - (bc9*(bc7*(c8 - (ab7*jp16)/2 + (3^(1/2)*ab8*jp16)/2) -
(ab9*bc9*jp16)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)),
(bc9*(bc7*(c7 + (ab7*jp17)/2 - (3^(1/2)*ab8*jp17)/2) + bc9*(c9 +
(ab9*jp17)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) + (bc8*(bc8*(c9 +
(ab9*jp17)/2) + (3^(1/2)*ab9*bc7*jp17)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 +
abs(bc9)^2)), - (bc8*(bc7*(c7 - (3^(1/2)*ab9*jp18)/2) + bc8*(c8 -
(ab9*jp18)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) - (bc9*(bc9*(c8 -
(ab9*jp18)/2) - bc7*((ab7*jp18)/2 - (3^(1/2)*ab8*jp18)/2)))/(2*(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2))];...
[ (bc9*(bc8*((ab7*jp13)/2 - (3^(1/2)*ab8*jp13)/2) -
(3^(1/2)*ab9*bc9*jp13)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) -
(bc7*(bc8*((ab9*jp13)/2 + 1) + (3^(1/2)*ab9*bc7*jp13)/2))/(2*(abs(bc7)^2 + abs(bc8)^2
+ abs(bc9)^2)), - (bc7*(bc7*((3^(1/2)*ab9*jp14)/2 - 1) +
(ab9*bc8*jp14)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) -
(bc9*(bc9*((3^(1/2)*ab9*jp14)/2 - 1) - bc8*((ab7*jp14)/2 -
(3^(1/2)*ab8*jp14)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)),
- (bc9*(bc8*((3^(1/2)*ab8*jp15)/2 - (ab7*jp15)/2 + 1) +
(3^(1/2)*ab9*bc9*jp15)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) -
(bc7*((ab9*bc8*jp15)/2 + (3^(1/2)*ab9*bc7*jp15)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 +
abs(bc9)^2)), - (bc9*(bc9*(c9 + (3^(1/2)*ab9*jp16)/2) + bc8*(c8 -
(ab7*jp16)/2 + (3^(1/2)*ab8*jp16)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) -
(bc7*(bc7*(c9 + (3^(1/2)*ab9*jp16)/2) + (ab9*bc8*jp16)/2))/(2*(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2)), (bc9*(bc8*(c7 + (ab7*jp17)/2 -
(3^(1/2)*ab8*jp17)/2) - (3^(1/2)*ab9*bc9*jp17)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 +
abs(bc9)^2)) - (bc7*(bc8*(c9 + (ab9*jp17)/2) +
(3^(1/2)*ab9*bc7*jp17)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)),
(bc7*(bc7*(c7 - (3^(1/2)*ab9*jp18)/2) + bc8*(c8 - (ab9*jp18)/2)))/(2*(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2)) + (bc9*(bc9*(c7 - (3^(1/2)*ab9*jp18)/2) + bc8*((ab7*jp18)/2
- (3^(1/2)*ab8*jp18)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2))];...
[ - (bc8*(bc8*((ab7*jp13)/2 - (3^(1/2)*ab8*jp13)/2) -
(3^(1/2)*ab9*bc9*jp13)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) -
(bc7*(bc9*((ab9*jp13)/2 + 1) + bc7*((ab7*jp13)/2 -
(3^(1/2)*ab8*jp13)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)),
(bc8*(bc9*((3^(1/2)*ab9*jp14)/2 - 1) - bc8*((ab7*jp14)/2 -
(3^(1/2)*ab8*jp14)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) -
(bc7*(bc7*((ab7*jp14)/2 - (3^(1/2)*ab8*jp14)/2) + (ab9*bc9*jp14)/2))/(2*(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2)), (bc8*(bc8*((3^(1/2)*ab8*jp15)/2 - (ab7*jp15)/2 + 1) +
(3^(1/2)*ab9*bc9*jp15)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)) +
(bc7*(bc7*((3^(1/2)*ab8*jp15)/2 - (ab7*jp15)/2 + 1) -
(ab9*bc9*jp15)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)), (bc7*(bc7*(c8 -
(ab7*jp16)/2 + (3^(1/2)*ab8*jp16)/2) - (ab9*bc9*jp16)/2))/(2*(abs(bc7)^2 + abs(bc8)^2
+ abs(bc9)^2)) + (bc8*(bc9*(c9 + (3^(1/2)*ab9*jp16)/2) + bc8*(c8 - (ab7*jp16)/2 +
(3^(1/2)*ab8*jp16)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)), - (bc7*(bc7*(c7 +
(ab7*jp17)/2 - (3^(1/2)*ab8*jp17)/2) + bc9*(c9 + (ab9*jp17)/2)))/(2*(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2)) - (bc8*(bc8*(c7 + (ab7*jp17)/2 - (3^(1/2)*ab8*jp17)/2) -
(3^(1/2)*ab9*bc9*jp17)/2))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2)), (bc7*(bc9*(c8
- (ab9*jp18)/2) - bc7*((ab7*jp18)/2 - (3^(1/2)*ab8*jp18)/2)))/(2*(abs(bc7)^2 +
abs(bc8)^2 + abs(bc9)^2)) - (bc8*(bc9*(c7 - (3^(1/2)*ab9*jp18)/2) + bc8*((ab7*jp18)/2
- (3^(1/2)*ab8*jp18)/2)))/(2*(abs(bc7)^2 + abs(bc8)^2 + abs(bc9)^2))]];
Jrrod(:,:,4) =[...
[ (bc12*(bc12*((ab12*jp19)/2 + 1) + bc10*((ab10*jp19)/2 -
(3^(1/2)*ab11*jp19)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) +
(bc11*(bc11*((ab12*jp19)/2 + 1) + (3^(1/2)*ab12*bc10*jp19)/2))/(2*(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2)),
(bc11*(bc10*((3^(1/2)*ab12*jp20)/2 - 1) + (ab12*bc11*jp20)/2))/(2*(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2)) + (bc12*(bc10*((ab10*jp20)/2 - (3^(1/2)*ab11*jp20)/2) +
(ab12*bc12*jp20)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)),
(bc11*((ab12*bc11*jp21)/2 + (3^(1/2)*ab12*bc10*jp21)/2))/(2*(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2)) - (bc12*(bc10*((3^(1/2)*ab11*jp21)/2 - (ab10*jp21)/2 + 1)
- (ab12*bc12*jp21)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)),
(bc11*(bc10*(c12 + (3^(1/2)*ab12*jp22)/2) + (ab12*bc11*jp22)/2))/(2*(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2)) - (bc12*(bc10*(c11 - (ab10*jp22)/2 +
(3^(1/2)*ab11*jp22)/2) - (ab12*bc12*jp22)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 +
abs(bc12)^2)), (bc12*(bc10*(c10 + (ab10*jp23)/2 -
(3^(1/2)*ab11*jp23)/2) + bc12*(c12 + (ab12*jp23)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 +
abs(bc12)^2)) + (bc11*(bc11*(c12 + (ab12*jp23)/2) +
(3^(1/2)*ab12*bc10*jp23)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)),
- (bc11*(bc10*(c10 - (3^(1/2)*ab12*jp24)/2) + bc11*(c11 -
(ab12*jp24)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) - (bc12*(bc12*(c11 -
(ab12*jp24)/2) - bc10*((ab10*jp24)/2 - (3^(1/2)*ab11*jp24)/2)))/(2*(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2))];...
[ (bc12*(bc11*((ab10*jp19)/2 - (3^(1/2)*ab11*jp19)/2) -
(3^(1/2)*ab12*bc12*jp19)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) -
(bc10*(bc11*((ab12*jp19)/2 + 1) + (3^(1/2)*ab12*bc10*jp19)/2))/(2*(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2)), - (bc10*(bc10*((3^(1/2)*ab12*jp20)/2 - 1) +
(ab12*bc11*jp20)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) -
(bc12*(bc12*((3^(1/2)*ab12*jp20)/2 - 1) - bc11*((ab10*jp20)/2 -
(3^(1/2)*ab11*jp20)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)),
- (bc12*(bc11*((3^(1/2)*ab11*jp21)/2 - (ab10*jp21)/2 + 1) +
(3^(1/2)*ab12*bc12*jp21)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) -
(bc10*((ab12*bc11*jp21)/2 + (3^(1/2)*ab12*bc10*jp21)/2))/(2*(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2)), - (bc12*(bc12*(c12 +
(3^(1/2)*ab12*jp22)/2) + bc11*(c11 - (ab10*jp22)/2 +
(3^(1/2)*ab11*jp22)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) -
(bc10*(bc10*(c12 + (3^(1/2)*ab12*jp22)/2) + (ab12*bc11*jp22)/2))/(2*(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2)), (bc12*(bc11*(c10 +
(ab10*jp23)/2 - (3^(1/2)*ab11*jp23)/2) - (3^(1/2)*ab12*bc12*jp23)/2))/(2*(abs(bc10)^2
+ abs(bc11)^2 + abs(bc12)^2)) - (bc10*(bc11*(c12 + (ab12*jp23)/2) +
(3^(1/2)*ab12*bc10*jp23)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)),
(bc10*(bc10*(c10 - (3^(1/2)*ab12*jp24)/2) + bc11*(c11 -
(ab12*jp24)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) + (bc12*(bc12*(c10 -
(3^(1/2)*ab12*jp24)/2) + bc11*((ab10*jp24)/2 -
(3^(1/2)*ab11*jp24)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2))];...
[ - (bc11*(bc11*((ab10*jp19)/2 - (3^(1/2)*ab11*jp19)/2) -
(3^(1/2)*ab12*bc12*jp19)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) -
(bc10*(bc12*((ab12*jp19)/2 + 1) + bc10*((ab10*jp19)/2 -
(3^(1/2)*ab11*jp19)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)),
(bc11*(bc12*((3^(1/2)*ab12*jp20)/2 - 1) - bc11*((ab10*jp20)/2 -
(3^(1/2)*ab11*jp20)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) -
(bc10*(bc10*((ab10*jp20)/2 - (3^(1/2)*ab11*jp20)/2) +
(ab12*bc12*jp20)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)),
(bc11*(bc11*((3^(1/2)*ab11*jp21)/2 - (ab10*jp21)/2 + 1) +
(3^(1/2)*ab12*bc12*jp21)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) +
(bc10*(bc10*((3^(1/2)*ab11*jp21)/2 - (ab10*jp21)/2 + 1) -
(ab12*bc12*jp21)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)), (bc10*(bc10*(c11
- (ab10*jp22)/2 + (3^(1/2)*ab11*jp22)/2) - (ab12*bc12*jp22)/2))/(2*(abs(bc10)^2 +
abs(bc11)^2 + abs(bc12)^2)) + (bc11*(bc12*(c12 + (3^(1/2)*ab12*jp22)/2) + bc11*(c11 -
(ab10*jp22)/2 + (3^(1/2)*ab11*jp22)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 +
abs(bc12)^2)), - (bc10*(bc10*(c10 + (ab10*jp23)/2 - (3^(1/2)*ab11*jp23)/2) +
bc12*(c12 + (ab12*jp23)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) -
(bc11*(bc11*(c10 + (ab10*jp23)/2 - (3^(1/2)*ab11*jp23)/2) -
(3^(1/2)*ab12*bc12*jp23)/2))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)),
(bc10*(bc12*(c11 - (ab12*jp24)/2) - bc10*((ab10*jp24)/2 -
(3^(1/2)*ab11*jp24)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2)) -
(bc11*(bc12*(c10 - (3^(1/2)*ab12*jp24)/2) + bc11*((ab10*jp24)/2 -
(3^(1/2)*ab11*jp24)/2)))/(2*(abs(bc10)^2 + abs(bc11)^2 + abs(bc12)^2))]];
Jrrod(:,:,5) =[...
[ (bc15*(bc15*((ab15*jp25)/2 + 1) + bc13*((ab13*jp25)/2 +
(3^(1/2)*ab14*jp25)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) +
(bc14*(bc14*((ab15*jp25)/2 + 1) - (3^(1/2)*ab15*bc13*jp25)/2))/(2*(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2)), (bc15*(bc13*((ab13*jp26)/2 +
(3^(1/2)*ab14*jp26)/2) + (ab15*bc15*jp26)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 +
abs(bc15)^2)) - (bc14*(bc13*((3^(1/2)*ab15*jp26)/2 + 1) -
(ab15*bc14*jp26)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)),
(bc15*(bc13*((ab13*jp27)/2 + (3^(1/2)*ab14*jp27)/2 - 1) +
(ab15*bc15*jp27)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) +
(bc14*((ab15*bc14*jp27)/2 - (3^(1/2)*ab15*bc13*jp27)/2))/(2*(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2)),
(bc15*(bc13*((ab13*jp28)/2 - c14 + (3^(1/2)*ab14*jp28)/2) +
(ab15*bc15*jp28)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) + (bc14*(bc13*(c15
- (3^(1/2)*ab15*jp28)/2) + (ab15*bc14*jp28)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 +
abs(bc15)^2)), (bc15*(bc13*(c13 + (ab13*jp29)/2 +
(3^(1/2)*ab14*jp29)/2) + bc15*(c15 + (ab15*jp29)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 +
abs(bc15)^2)) + (bc14*(bc14*(c15 + (ab15*jp29)/2) -
(3^(1/2)*ab15*bc13*jp29)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)),
- (bc14*(bc13*(c13 + (3^(1/2)*ab15*jp30)/2) + bc14*(c14 -
(ab15*jp30)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) - (bc15*(bc15*(c14 -
(ab15*jp30)/2) - bc13*((ab13*jp30)/2 + (3^(1/2)*ab14*jp30)/2)))/(2*(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2))];...
[ (bc15*(bc14*((ab13*jp25)/2 + (3^(1/2)*ab14*jp25)/2) +
(3^(1/2)*ab15*bc15*jp25)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) -
(bc13*(bc14*((ab15*jp25)/2 + 1) - (3^(1/2)*ab15*bc13*jp25)/2))/(2*(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2)), (bc13*(bc13*((3^(1/2)*ab15*jp26)/2 + 1) -
(ab15*bc14*jp26)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) +
(bc15*(bc15*((3^(1/2)*ab15*jp26)/2 + 1) + bc14*((ab13*jp26)/2 +
(3^(1/2)*ab14*jp26)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)),
(bc15*(bc14*((ab13*jp27)/2 + (3^(1/2)*ab14*jp27)/2 - 1) +
(3^(1/2)*ab15*bc15*jp27)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) -
(bc13*((ab15*bc14*jp27)/2 - (3^(1/2)*ab15*bc13*jp27)/2))/(2*(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2)), - (bc13*(bc13*(c15 -
(3^(1/2)*ab15*jp28)/2) + (ab15*bc14*jp28)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 +
abs(bc15)^2)) - (bc15*(bc15*(c15 - (3^(1/2)*ab15*jp28)/2) - bc14*((ab13*jp28)/2 - c14
+ (3^(1/2)*ab14*jp28)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)),
(bc15*(bc14*(c13 + (ab13*jp29)/2 + (3^(1/2)*ab14*jp29)/2) +
(3^(1/2)*ab15*bc15*jp29)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) -
(bc13*(bc14*(c15 + (ab15*jp29)/2) - (3^(1/2)*ab15*bc13*jp29)/2))/(2*(abs(bc13)^2 +
abs(bc14)^2 + abs(bc15)^2)), (bc13*(bc13*(c13 + (3^(1/2)*ab15*jp30)/2) +
bc14*(c14 - (ab15*jp30)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) +
(bc15*(bc15*(c13 + (3^(1/2)*ab15*jp30)/2) + bc14*((ab13*jp30)/2 +
(3^(1/2)*ab14*jp30)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2))];...
[ - (bc14*(bc14*((ab13*jp25)/2 + (3^(1/2)*ab14*jp25)/2) +
(3^(1/2)*ab15*bc15*jp25)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) -
(bc13*(bc15*((ab15*jp25)/2 + 1) + bc13*((ab13*jp25)/2 +
(3^(1/2)*ab14*jp25)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)), -
(bc13*(bc13*((ab13*jp26)/2 + (3^(1/2)*ab14*jp26)/2) +
(ab15*bc15*jp26)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) -
(bc14*(bc15*((3^(1/2)*ab15*jp26)/2 + 1) + bc14*((ab13*jp26)/2 +
(3^(1/2)*ab14*jp26)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)), -
(bc14*(bc14*((ab13*jp27)/2 + (3^(1/2)*ab14*jp27)/2 - 1) +
(3^(1/2)*ab15*bc15*jp27)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) -
(bc13*(bc13*((ab13*jp27)/2 + (3^(1/2)*ab14*jp27)/2 - 1) +
(ab15*bc15*jp27)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)), (bc14*(bc15*(c15
- (3^(1/2)*ab15*jp28)/2) - bc14*((ab13*jp28)/2 - c14 +
(3^(1/2)*ab14*jp28)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) -
(bc13*(bc13*((ab13*jp28)/2 - c14 + (3^(1/2)*ab14*jp28)/2) +
(ab15*bc15*jp28)/2))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)), -
(bc13*(bc13*(c13 + (ab13*jp29)/2 + (3^(1/2)*ab14*jp29)/2) + bc15*(c15 +
(ab15*jp29)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2)) - (bc14*(bc14*(c13 +
(ab13*jp29)/2 + (3^(1/2)*ab14*jp29)/2) + (3^(1/2)*ab15*bc15*jp29)/2))/(2*(abs(bc13)^2
+ abs(bc14)^2 + abs(bc15)^2)), (bc13*(bc15*(c14 - (ab15*jp30)/2) -
bc13*((ab13*jp30)/2 + (3^(1/2)*ab14*jp30)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 +
abs(bc15)^2)) - (bc14*(bc15*(c13 + (3^(1/2)*ab15*jp30)/2) + bc14*((ab13*jp30)/2 +
(3^(1/2)*ab14*jp30)/2)))/(2*(abs(bc13)^2 + abs(bc14)^2 + abs(bc15)^2))]];
Jrrod(:,:,6) =[...
[ (bc18*(bc18*((ab18*jp31)/2 + 1) + bc16*((ab16*jp31)/2 +
(3^(1/2)*ab17*jp31)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) +
(bc17*(bc17*((ab18*jp31)/2 + 1) - (3^(1/2)*ab18*bc16*jp31)/2))/(2*(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2)), (bc18*(bc16*((ab16*jp32)/2 +
(3^(1/2)*ab17*jp32)/2) + (ab18*bc18*jp32)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 +
abs(bc18)^2)) - (bc17*(bc16*((3^(1/2)*ab18*jp32)/2 + 1) -
(ab18*bc17*jp32)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)),
(bc18*(bc16*((ab16*jp33)/2 + (3^(1/2)*ab17*jp33)/2 - 1) +
(ab18*bc18*jp33)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) +
(bc17*((ab18*bc17*jp33)/2 - (3^(1/2)*ab18*bc16*jp33)/2))/(2*(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2)),
(bc18*(bc16*((ab16*jp34)/2 - c17 + (3^(1/2)*ab17*jp34)/2) +
(ab18*bc18*jp34)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) + (bc17*(bc16*(c18
- (3^(1/2)*ab18*jp34)/2) + (ab18*bc17*jp34)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 +
abs(bc18)^2)), (bc18*(bc16*(c16 + (ab16*jp35)/2 +
(3^(1/2)*ab17*jp35)/2) + bc18*(c18 + (ab18*jp35)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 +
abs(bc18)^2)) + (bc17*(bc17*(c18 + (ab18*jp35)/2) -
(3^(1/2)*ab18*bc16*jp35)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)),
- (bc17*(bc16*(c16 + (3^(1/2)*ab18*jp36)/2) + bc17*(c17 -
(ab18*jp36)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) - (bc18*(bc18*(c17 -
(ab18*jp36)/2) - bc16*((ab16*jp36)/2 + (3^(1/2)*ab17*jp36)/2)))/(2*(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2))];...
[ (bc18*(bc17*((ab16*jp31)/2 + (3^(1/2)*ab17*jp31)/2) +
(3^(1/2)*ab18*bc18*jp31)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) -
(bc16*(bc17*((ab18*jp31)/2 + 1) - (3^(1/2)*ab18*bc16*jp31)/2))/(2*(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2)), (bc16*(bc16*((3^(1/2)*ab18*jp32)/2 + 1) -
(ab18*bc17*jp32)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) +
(bc18*(bc18*((3^(1/2)*ab18*jp32)/2 + 1) + bc17*((ab16*jp32)/2 +
(3^(1/2)*ab17*jp32)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)),
(bc18*(bc17*((ab16*jp33)/2 + (3^(1/2)*ab17*jp33)/2 - 1) +
(3^(1/2)*ab18*bc18*jp33)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) -
(bc16*((ab18*bc17*jp33)/2 - (3^(1/2)*ab18*bc16*jp33)/2))/(2*(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2)), - (bc16*(bc16*(c18 -
(3^(1/2)*ab18*jp34)/2) + (ab18*bc17*jp34)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 +
abs(bc18)^2)) - (bc18*(bc18*(c18 - (3^(1/2)*ab18*jp34)/2) - bc17*((ab16*jp34)/2 - c17
+ (3^(1/2)*ab17*jp34)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)),
(bc18*(bc17*(c16 + (ab16*jp35)/2 + (3^(1/2)*ab17*jp35)/2) +
(3^(1/2)*ab18*bc18*jp35)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) -
(bc16*(bc17*(c18 + (ab18*jp35)/2) - (3^(1/2)*ab18*bc16*jp35)/2))/(2*(abs(bc16)^2 +
abs(bc17)^2 + abs(bc18)^2)), (bc16*(bc16*(c16 + (3^(1/2)*ab18*jp36)/2) +
bc17*(c17 - (ab18*jp36)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) +
(bc18*(bc18*(c16 + (3^(1/2)*ab18*jp36)/2) + bc17*((ab16*jp36)/2 +
(3^(1/2)*ab17*jp36)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2))];...
[ - (bc17*(bc17*((ab16*jp31)/2 + (3^(1/2)*ab17*jp31)/2) +
(3^(1/2)*ab18*bc18*jp31)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) -
(bc16*(bc18*((ab18*jp31)/2 + 1) + bc16*((ab16*jp31)/2 +
(3^(1/2)*ab17*jp31)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)), -
(bc16*(bc16*((ab16*jp32)/2 + (3^(1/2)*ab17*jp32)/2) +
(ab18*bc18*jp32)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) -
(bc17*(bc18*((3^(1/2)*ab18*jp32)/2 + 1) + bc17*((ab16*jp32)/2 +
(3^(1/2)*ab17*jp32)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)), -
(bc17*(bc17*((ab16*jp33)/2 + (3^(1/2)*ab17*jp33)/2 - 1) +
(3^(1/2)*ab18*bc18*jp33)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) -
(bc16*(bc16*((ab16*jp33)/2 + (3^(1/2)*ab17*jp33)/2 - 1) +
(ab18*bc18*jp33)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)), (bc17*(bc18*(c18
- (3^(1/2)*ab18*jp34)/2) - bc17*((ab16*jp34)/2 - c17 +
(3^(1/2)*ab17*jp34)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) -
(bc16*(bc16*((ab16*jp34)/2 - c17 + (3^(1/2)*ab17*jp34)/2) +
(ab18*bc18*jp34)/2))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)), -
(bc16*(bc16*(c16 + (ab16*jp35)/2 + (3^(1/2)*ab17*jp35)/2) + bc18*(c18 +
(ab18*jp35)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2)) - (bc17*(bc17*(c16 +
(ab16*jp35)/2 + (3^(1/2)*ab17*jp35)/2) + (3^(1/2)*ab18*bc18*jp35)/2))/(2*(abs(bc16)^2
+ abs(bc17)^2 + abs(bc18)^2)), (bc16*(bc18*(c17 - (ab18*jp36)/2) -
bc16*((ab16*jp36)/2 + (3^(1/2)*ab17*jp36)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 +
abs(bc18)^2)) - (bc17*(bc18*(c16 + (3^(1/2)*ab18*jp36)/2) + bc17*((ab16*jp36)/2 +
(3^(1/2)*ab17*jp36)/2)))/(2*(abs(bc16)^2 + abs(bc17)^2 + abs(bc18)^2))]];
function SimbolicasJacobianasLinks
syms jp1 jp2 jp3 jp4 jp5 jp6 jp7 jp8 jp9 jp10 jp11 jp12 jp13 jp14 jp15 jp16 jp17 jp18 jp19
jp20 jp21 jp22 jp23 j24 jp25 jp26 jp27 jp28 jp29 jp30 jp31 jp32 jp33 jp34 jp35 jp36 real
Jp= [ jp1 jp2 jp3 jp4 jp5 jp6;
jp7 jp8 jp9 jp10 jp11 jp12;....
jp13 jp14 jp15 jp16 jp17 jp18; jp19 jp20 jp21 jp22 jp23 jp24;...
jp25 jp26 jp27 jp28 jp29 jp30; jp31 jp32 jp33 jp34 jp35 jp36];
syms bc1 bc2 bc3 bc4 bc5 bc6 bc7 bc8 bc9 bc10 bc11 bc12 bc13 bc14 bc15 bc16 bc17 bc18 real
bc6;bc7 bc8
bc12; bc13
syms dx dy dz dfii dteta dpsii real
dX= formula([dx dy dz dfii dteta dpsii]);
syms c1 c2
c9 c10 c11
c12 c13 c14
c15 c16 c17
c9;c10 c11
c12;c13 c14
c15;c16 c17
syms zeta1_dot zeta2_dot zeta3_dot zeta4_dot zeta5_dot zeta6_dot real
syms ab1 ab2 ab3 ab4 ab5 ab6 ab7 ab8 ab9 ab10 ab11 ab12 ab13 ab14 ab15 ab16 ab17 ab18 real
AB= [ab1 ab2 ab3; ab4 ab5 ab6; ab7 ab8 ab9; ab10 ab11 ab12; ab13 ab14 ab15; ab16 ab17 ab18];
alfa_ij=[0, 0, 2*pi/3, 2*pi/3, 4*pi/3, 4*pi/3];
F_R_Fij(:,:,i)=rotz(rad2deg(alfa_ij(i)));
Fij_R_fk=rotz(180)*rotx(90);
Zetah_dot=formula([zeta1_dot zeta2_dot zeta3_dot zeta4_dot zeta5_dot zeta6_dot]');
fk_w_k= [zeros(6,2),Jp*dX'];
dRbrazo = cross(F_R_Fij(:,:,i)*Fij_R_fk*fk_w_k(i,:)', AB(i,:)/2);
dwbrazo= F_R_Fij(:,:,i)*Fij_R_fk *[0;0;Jp(i,:)*dX'];
dwr= (-1/(norm(BC(i,:))^2) * cross(dX(1:3) + cross(dX(4:6),c(i,:)) -
cross(dwbrazo,AB(i,:)),BC(i,:)));
dRrod = cross(dwr,BC(i,:)/2);
[Drb,S]=coeffs(dRbrazo(j),dX);
[Dwb,S]=coeffs(dwbrazo(j),dX);
[Dwr,S]=coeffs(dwr(j),dX);
[Drr,S]=coeffs(dRrod(j),dX);
if isempty(Drb)
Jrbrazo(j,:,i)=sym(zeros(1,6));
Jrbrazo(j,:,i)=Drb;
if isempty(Dwb)
Jwbrazo(j,:,i)=sym(zeros(1,6));
Jwbrazo(j,:,i)=Dwb;
if isempty(Dwr)
Jwrod(j,:,i)=sym(zeros(1,6));
Jwrod(j,:,i)=Dwr;
if isempty(Drr)
Jrrod(j,:,i)=sym(zeros(1,6));
Jrrod(j,:,i)=Drr;
C√≥digo de la especificaci√≥n del WS e identificaci√≥n de la manipulabilidad.
La funci√≥n FunctionVolumen tiene como entrada la longitud de de los eslabones superiores x(1) e
inferiores x(2) y retorna el valor del WS WS, las coordenadas cartesianas de la nube de puntos x4, y4,
z4 y la posici√≥n ùëÉ‡Ø†. PuntoC.
function [WS, x4, y4, z4, PuntoC] = FunctionVolumen(x)
% Dimensiones de las plataformas
H = 230/1000; D=89/1000;
h = 82.6/1000; d=60/1000;
r4= sqrt(L_rod^2 - (sqrt(H^2-D^2)-sqrt(h^2-d^2))^2 - (D-d)^2);
liminf = L_brazo + r4;
R=2*(L_rod+L_brazo);
% Condiciones iniciales
Centro= ;
% Limite a evaluar; Limite inferior
LimEvaluar= [0,0,-R];
% Limita el punto inferior del WS
CoordInf= LimiteApto2(Centro,LimEvaluar,L_rod,L_brazo);
if CoordInf(3) < liminf
CoordInf(3) = liminf;
% Limita el punto superior del WS
CoordSup= LimiteApto2(CoordInf(1:3)*2/3,LimEvaluar/24, L_rod,L_brazo);
PuntoC=[mean([CoordInf(1),CoordSup(1)]),mean([CoordInf(2),CoordSup(2)]),mean([CoordIn
f(3),CoordSup(3)])];
% coordenadas esfericas
radio= CoordSup(1:3)-PuntoC;
dradio=radio.*radio;
r=sqrt(sum(dradio));
intervalos=CoordSup(3):(CoordInf(3)-CoordSup(3))/paso:CoordInf(3);
for i=1:numel(intervalos)
for phi=-pi/3: pi/(2*paso):pi/3
PuntoM=[0,0,intervalos(i)];
Coord= LimiteApto2(PuntoM,[r*cos(phi) , r*sin(phi)
,intervalos(i)],L_rod,L_brazo);
if Coord(1) < 0.001
Coord(1)=0;
if abs(Coord(2)) < 0.001
Coord(2)=0;
x4(i,j)=Coord(1);
y4(i,j)=Coord(2);
z4(i,j)=Coord(3);
PuntoC=[0,0,(z4(1,1)+z4(end,1))/2];
% Calculo del volume
WS=CalculoVolumen(x4,y4,z4,PuntoC);
La funci√≥n LimiteApto2 analiza las 2 posiciones (Centro y CoordAnali) junto con la longitud de
de los eslabones superiores e inferiores y retorna las coordenadas cartesianas aptas Coordenada
function Coordenada= LimiteApto2(Centro,CoordAnali,L_rod,L_brazo)
% tolerancia de 0.1 mm.
error=0.0001;
Vector=CoordAnali-Centro;
dVector=Vector.*Vector;
mV=sqrt(sum(dVector));
vup= [Vector(1)/mV, Vector(2)/mV, Vector(3)/mV]; % vector unitario del Vector
a=0; b=mV;
aw=0; bw=1;Lw=bw-aw;k=0;
if abs(Lw*(b-a))>error
while abs(Lw*(b-a))>error
w1=aw+(0.618*Lw);
w2=bw-(0.618*Lw);
X1=w1*(b-a)+a;
X2=w2*(b-a)+a;
PX1= [X1*vup+Centro,0,0,0];
[PosOKX1,ZetahX1]=Eval_Posicion2(PX1,L_rod,L_brazo);
PX2= [X2*vup+Centro,0,0,0];
[PosOKX2,ZetahX2]=Eval_Posicion2(PX2,L_rod,L_brazo);
%if Eval_Posicion(PX1,L_rod,L_brazo)== false % Evalua la posici√≥n deseada y
determina TRUE si la posicion se puede alcanzar y FALSE si hay restricciones
en la posicion
if PosOKX1== false
Coordenada=PX1;
w1=aw+(0.618*Lw);
w2=bw-(0.618*Lw);
%X1=w1*(b-a)+a;
PX1= [X1*vup+Centro,0,0,0];
[PosOKX1,ZetahX1]=Eval_Posicion2(PX1,L_rod,L_brazo);
%if Eval_Posicion(PX1,L_rod,L_brazo)== false % Evalua la posici√≥n deseada y
determina TRUE si la posicion se puede alcanzar y FALSE si hay restricciones
en la posicion
if PosOKX1== false
Coordenada=PX1;
La funci√≥n Eval_Posicion2 evalua la posici√≥n PosDeseada seg√∫n la longitud de los eslabones y
determina TRUE si la posicion se puede alcanzar, FALSE si hay restricciones en la posicion y ùúÅ‡Øú Zetah.
function [PosOK,Zetah] = Eval_Posicion2(PosDeseada,l_rod,l_brazo)
% Angulos y posicion deseada
[Zetah,alarm]=CinematicaInversa3(l_brazo,l_rod,PosDeseada);
Zetah=deg2rad(Zetah);
% Restricciones: el angulo debe ser mayor a 90 grados. La altura del punto B
(articulacion Universal) debe estar entre la plataforma superior y la inferior ->
Bz= -l_brazo*sin(Zetah(j));
if abs(imag(Zetah(j)))>0.001 || real(Zetah(j))<0 || Bz < PosDeseada(3) || alarm>0
Pos(j)= false;
Pos(j)= true;
PosOK=Pos(1)*Pos(2)*Pos(3)*Pos(4)*Pos(5)*Pos(6);
La funci√≥n CalculoVolumen recibe las coordenadas no restringidas de la nube de puntos y la posici√≥n
ùëÉ‡Ø† y genera el valor del WS Volumen2.
function Volumen2=CalculoVolumen(x,y,z,CentroRotacion)
% Calculo del volumen y dibujo del volumen
Vol2(1)=0;
Size=size(x);
i=Size(1);
j=Size(2);
for o=1:i-1
for p=1:j-1
% Nuevo Volumen con 3 vectores
u= [x(o,p+1),y(o,p+1),z(o,p+1)] - [x(o,p),y(o,p),z(o,p)];
v= [x(o+1,p+1),y(o+1,p+1),z(o+1,p+1)]- [x(o,p),y(o,p),z(o,p)];
w= [x(o,p),y(o,p),z(o,p)] - CentroRotacion;
Vol_inf=1/6*abs(dot(cross(u,v),w));
% Nuevo Volumen con 3 vectores
u= [x(o+1,p+1),y(o+1,p+1),z(o+1,p+1)]- [x(o,p),y(o,p),z(o,p)];
v= [x(o+1,p),y(o+1,p),z(o+1,p)] - [x(o,p),y(o,p),z(o,p)];
w= [x(o,p),y(o,p),z(o,p)] - CentroRotacion;
Vol_sup=1/6*abs(dot(cross(u,v),w));
Vol2(k)=Vol_inf+Vol_sup;
Volumen2=sum(Vol2);
Volumen2=3*Volumen2;
La funci√≥n FuncionManipulabilidad eval√∫a ùúÇ GCI que tiene como entradas las coordenadas
cartesianas de la nube de puntos no restringida, la posici√≥n ùëÉ‡Ø†, el n√∫mero de puntos ùëÅ y las longitudes de
los eslabones x. Se resalta que las matrices jacobianas son resueltas con la funci√≥n JP detallada en el Anexo
function GCI = FuncionManipulabilidad(x4,y4,z4,PuntoC,paso,x)
l_brazo= x(1);
l_rod= x(2);
x=x4'; x=x(:)';
y=y4'; y=y(:)';
z=z4'; z=z(:)';
matriz=unique([x',y',z'],'rows');
x=matriz(:,1)';
y=matriz(:,2)';
z=matriz(:,3)';
% determinaci√≥n del vector unitario del centro (PuntoC) al punto i
for i=1:numel(x)
Vector=[x(i),y(i),z(i)]-PuntoC;
dVector=Vector.*Vector;
mV=sqrt(sum(dVector));
% vector unitario
vup= [Vector(1)/mV, Vector(2)/mV, Vector(3)/mV];
% puntos a evaluar
vmagni= [mV/paso:mV/paso:mV];
for j=1:numel(vmagni)
% punto de estudio
Pest= [PuntoC+vup*vmagni(j),0,0,0];
[PosOK,zeta] = Eval_Posicion2(Pest,l_rod,l_brazo);
% Jacobiana de esa posici√≥n
[Jp,JpV2,AA]=JP(l_brazo, Pest(1), Pest(2), Pest(3), 0, 0, 0, zeta(1),
zeta(2), zeta(3), zeta(4), zeta(5), zeta(6));
P=AA(:,2:7);
Pinv=inv(P);
Q=diag(-AA(:,1));
% Jacobiana de traslacion
Jt=Pinv(1:3,:)*Q;
% valores singulares
Vs_Jt=svd(Jt);
km(k,1:3)=Pest(1:3);
km(k,4) =max(Vs_Jt)/min(Vs_Jt);
% indice de angularidad
Jr=Pinv(4:6,:)*Q;
Vs_Jr=svd(Jr);
km(k,5) =max(Vs_Jr)/min(Vs_Jr);
km(k,6)= (km(k,4)+km(k,5))/2;
GCI=mean(km(:,6));
Esquema del sistema controlado utilizando MATLAB Simulink (R)
La Figura E.1. se√±ala la configuraci√≥n del sistema controlado, el cual se compone de los subsistemas
Generador de Trayectoria, Controlador, matricesMCG_S y Mecanismo; adicionalmente, se
evaluan las salidas controladas de posici√≥n (SalidaControl_Pos), velocidad (SalidaControl_Vel),
aceleraci√≥n (SalidaControl_Acel) y el torque requerido (torque).
Fig. E.1 Esquema del controlador.
La Figura E.2 ilustra la configuraci√≥n del subsistema Generador de Trayectoria. Las posiciones
deseadas px, py pz corresponden a ùë•, ùë¶, ùëß; los vectores anx, any, anz est√°n definidas por ùúÉÃá, ùúëÃá, ùúìÃá; vx, vy, vz
determinan ùë•Ãá, ùë¶Ãá, ùëßÃá; wx, wy, wz se rigen po ùúÉÃá, ùúëÃá , ùúìÃá; ax, ay, az corresponden a ùë•Ãà, ùë¶Ãà, ùëßÃà y alfax, alfay, alfaz
compete a ùúÉÃà, ùúëÃà , ùúìÃà. Las salidas de posici√≥n, velocidad y aceleraci√≥n son multiplexadas en las salidas 1,2 y 3
respectivamente.
Fig. E.2. Subsistema del bloque Generador de trayectoria.
El subsistema Mecanismo, representado por fcn , representa la din√°mica del HEXA 6RUS, la cual
define la aceleraci√≥n de la plataforma m√≥vil a partir de las expresiones M, C, G y ùúè‡Øñ‡Ø¢‡Ø°.
function a = fcn(M,C,G,T)
a = M\(T-C-G);
El bloque matricesMCH_S genera las expresiones M, C y G pertenecientes a la modelaci√≥n din√°mica
mostrada en la Secci√≥n 4.4 y cuya programaci√≥n se detalla en el Anexo C
function [M,C,G] = matricesMCG_S(x)
M=zeros(6);
C=zeros(6,1);
G=zeros(6,1);
[M,C,G,Parar] = matricesMCG(x);
function [M,C,G] = matricesMCG_S(x)
M=zeros(6);
C=zeros(6,1);
G=zeros(6,1);
[M,C,G,Parar] = matricesMCG(x);
C√≥digo de la implementaci√≥n del EDMER
nparam=4; %Numero de variables a optimizar
% Factor de penalidad
% limites de los parametros x1= brazo, x2= rod x3=zita ts=x4
xsup(1)= 0.500; xsup(2)= 0.500; xsup(3)= 1; xsup(4)= 1; % limites superiores de
las variables
xinf(1)= 0.07; xinf(2)= 0.18; xinf(3)= 0.5; xinf(4)=0.15; % limites inferiores de
las variables
x1=[xinf(1), xsup(1)];
x2=[xinf(2), xsup(2)];
x3=[xinf(3), xsup(3)];
x4=[xinf(4), xsup(4)];
% Combinacion de los extremos
Z(m,:)= [x1(i),x2(j),x3(k),x4(l)];
CantFunObj=4;
% Creacion de la primera poblaci√≥n de padres basado en los limites
for i=1:size(Z,1)
Ini(i,1+CantFunObj:1+CantFunObj+nparam-1)= Z(i,:);
Funciones= FuncionObjetivoWsGciEc(Ini(i,:),CantFunObj);
Ini(i,1:CantFunObj)=Funciones +
EDMO_RestriccionWsGciEc(Ini(i,:),Rm,CantFunObj,Funciones);
Ini(i,CantFunObj+nparam+1:CantFunObj+nparam+CantFunObj)=EDMO_RestriccionWsGciEc(Ini(i,:),
Rm,CantFunObj,Funciones);
% creaci√≥n del resto de los padres iniciales
for i=1:npop-size(Z,1)
for j=1:nparam
% poblaci√≥n inicial dentro de los limites inferiores y superiores
P(i,j+CantFunObj)=rand*(xsup(j)-xinf(j)) + xinf(j);
Funciones=FuncionObjetivoWsGciEc(P(i,:),CantFunObj);
P(i,1:CantFunObj)= Funciones +
EDMO_RestriccionWsGciEc(P(i,:),Rm,CantFunObj,Funciones);
P(i,CantFunObj+nparam+1:CantFunObj+nparam+CantFunObj)=EDMO_RestriccionWsGciEc(P(i,:),Rm,C
antFunObj,Funciones);
P=[P;Ini];
Npop=[1:npop];
% numero de generaciones
for t=1:csLimit
for i=1:npop
D= randi([1,nparam]); A= randi([1,npop]);
Bnpop=Npop(Npop ~= A); % retira el valor de A para no repetirlo
B= Bnpop(randi(length(Bnpop)));
Cnpop=Bnpop(Bnpop ~= B); % retira el valor de B para no repetirlo
C= Cnpop(randi(length(Cnpop)));
if A ==B || A ==C || C ==B
print('A = B = C');
for j=1:nparam
if r <Cr || j==D
Ptemp(i,j+CantFunObj)=P(C,j+CantFunObj) + F*(P(A
,j+CantFunObj)-P(B ,j+CantFunObj));
if Ptemp(i,j+CantFunObj)> xsup(j) || Ptemp(i,j+CantFunObj)<
Ptemp(i,j+CantFunObj)= r *(xsup(j)-xinf(j)) + xinf(j);
Ptemp(i,j+CantFunObj)=P(i,j+CantFunObj);
Funciones= FuncionObjetivoWsGciEc(Ptemp(i,:),CantFunObj);
Ptemp(i,1:CantFunObj)= Funciones +
EDMO_RestriccionWsGciEc(Ptemp(i,:),Rm,CantFunObj,Funciones);
Ptemp(i,CantFunObj+nparam+1:CantFunObj+nparam+CantFunObj)=
EDMO_RestriccionWsGciEc(Ptemp(i,:),Rm,CantFunObj,Funciones);
Ppadre=P(i,:);
Phijo=Ptemp(i,:);
M=sortrows([M;P(i,:);Ptemp(i,:)],1);
% determinaci√≥n de niveles de significancia
Orden=EDMO_NivelesSignificancia(M,CantFunObj,npop);
Champ= EDMO_TorneoDistancia(Orden,CantFunObj,npop);
Champ(:,end)=[];
P=sortrows(P,1);
% % seleccion del mejor punto
PosOptima=zeros(1,9);
while i <= size(P,1)
if P(i,1)<0 | P(i,2)<0 | P(i,3)<0 | P(i,4)<0
P(i,:)=[];
elseif norm(P(i,1:4)) < dist
dist=norm(P(i,1:4)); PosOptima=[P(i,:),dist];
La funci√≥n FuncionObjetivoWsGciEc tiene como entrada el vector de dise√±o y la salida son los valores
del WS (Anexo D), ùúÇ (Anexo D), EC (Anexo E) y ùëí‡Øñ (Anexo E).
function FunObj=FuncionObjetivoWsGciEc(x,CantFunObj)
X1=x(1+CantFunObj);
X2=x(2+CantFunObj);
X3=x(3+CantFunObj);
X4=x(4+CantFunObj);
[Volumen, x4, y4, z4, PuntoC] = FunctionVolumen([X1, X2]);
FunObj(1)= (0.118447648-Volumen)/(0.118447648-3.41187e-5);
[px, py, pz, vx, vy, vz, ax, ay, az, tiempo] = GeneradorTrayectoria2(x4, y4, z4,
[EsFControl,error,ErrorControl]= Funciones_Merito_Sin(X1, X2, X3,X4, Volumen, x4,
y4, z4, PuntoC,px, py, pz, vx, vy, vz, ax, ay, az, tiempo);
FunObj(3)= (EsFControl- 2.02)/(727.3926185-2.02);
FunObj(4)= ErrorControl;
FunObj(2)= (FuncionManipulabilidad(x4,y4,z4,PuntoC,4,[X1,X2])-
2.287517683)/(17.48117681-2.287517683);
La funci√≥n EDMO_RestriccionWsGciEc recibe el valor de las FOs y determina si la penalidad de
function penalidad=EDMO_RestriccionWsGciEc(x,Rm,CantFunObj,Funciones)
%Restriccion de la funcion de WS
g(1)= 1 - Funciones(1);
% Restriccion de FuncionManipulabilidad
g(2)= 1 - Funciones(2);
% Restriccion de Esfuerzo de control
g(3)= 1 - Funciones(3);
% Restriccion del Error de control
g(4)= 1 - Funciones(4);
for i=1:length(g)
g(i)=abs(g(i));
omega=sum(g);
penalidad=Rm*omega*ones(1,CantFunObj);
La funci√≥n EDMO_NivelesSignificancia recibe la matriz correspondiente a los padres e hijos, la
cantidad de FOs y el tama√±o de poblaci√≥n de padres originales para retornar una matriz M ordenada seg√∫n
el nivel de significancia
function Orden=EDMO_NivelesSignificancia(M,CantFunObj,npopOrig)
M= sortrows(M); % organiza la matriz M de menor a mayor deacuerdo a la primera
funcion objetivo
npop=length(M);
while t==1
while i<=size(M,1)
while j<= size(M,1)
if i~= j || (j==size(M,1) && i==size(M,1))
Mi=M(i,:);
Mj=M(j,:);
[condh2,condp2] = dominancia(CantFunObj,M(i,:),M(j,:));
if condh2==1
if condp2==1
j=10*size(M,1);
if apto==1 % si Mi no tiene quien lo domine agregar Mi al frente Fk
F(k,:)=[M(i,:)]; k=k+1;
M= setdiff(M,F,'rows');
F(:,end+1)=front; Orden=[Orden;F];
if size(Orden,1) >= npopOrig
front=front+1;
if size(M,1)<2
M(:,end+1)=front;
Orden=[Orden;M];
La funci√≥n dominancia realiza el an√°lisis de dominancia seg√∫n el pseudoc√≥digo Pseudoc√≥digo 6-1
donde recibe el vector M y el vector a analizar P y regresa si la FO es dominante.
function [condh2,condp2] = dominancia(CantFunObj,M,P)
condh=0; condp=0;condh2=0;condp2=0;
for k=1:CantFunObj
if M(1,k) <= P(1,k)
condh=condh+1; % compara si cada funcion objetivo de M es menor o
igual a la funcion de P
if P(1,k) <= M(1,k)
condp=condp+1; % compara si cada funcion objetivo del Pj es menor o
igual a la funcion de Mi
if condh==CantFunObj % Si el Mi no es peor que Pj
while k <= CantFunObj
if M(1,k)<P(1,k)
condh2=1; % Mi domina Pj
k=CantFunObj+1;
condh2=0; % Mi no domina a Pj
if condp==CantFunObj % Si el Pj no es peor que Mi
while k <= CantFunObj
if M(1,k)>P(1,k)
condp2=1; % Pj domina Mi
k=CantFunObj+1;
La funci√≥n EDMO_TorneoDistancia realiza la clasificaci√≥n de hacinamiento donde recibe la matriz de
FOs, el n√∫mero de FOs y la cantidad de poblaci√≥n original de padres y retornar las primeras N soluciones
function Champ= EDMO_TorneoDistancia(Orden,CantFunObj,npopOrig)
% operador de seleccion del torneo de distancia del libro DEB Multiobjective
optimization pag 235
clear M l g i j
[~,~,X] = unique(M(:,end));
C = accumarray(X,1:size(M,1),[],@(r){M(r,:)});
while g==1
sum=sum+size(A,1);
if sum <npopOrig
% pase al siguiente nivel de significancia
Champ=[Champ;A];
% Calculo de crowding
A=sortrows(A,1);
l=size(A,1);
d(1:size(A,1))=0;
if l==1 || l==2
% Agregar A a Champ y terminar el ranking
Champ=[Champ;A];
Dist1(1)=Inf; Dist1(size(A,1))=Inf;
for j=2:size(A)-1 % correr desde j=2:size(A)-1
f1max=max(A(:,1)); f1min=min(A(:,1));
Dist1(j)= abs((A(j-1,1)-A(j+1,1))/(f1max-f1min));
A=[A,Dist1'];
Dist2(1)=Inf; Dist2(size(A,1))=Inf;
A=sortrows(A,2);
for j=2:size(A)-1 % correr desde j=2:size(A)-1
f2max=max(A(:,2)); f2min=min(A(:,2));
Dist2(j)= abs((A(j-1,2)-A(j+1,2))/(f2max-f2min));
A(:,end)=A(:,end)+Dist2';
A=sortrows(A,size(A,2),'descend');
Falta= npopOrig-size(Champ,1);
A=A(1:Falta,:);
A(:,end)=[];
Champ=[Champ;A];
La funci√≥n GeneradorTrayectoria2 recibe las coordenadas de la nube de puntos del WS y el punto ùëÉ‡Ø†
(Secci√≥n 5.1.2) y (Anexo D) y genera las trayectorias de posici√≥n, velocidad y aceleraci√≥n traslacional y
rotacional requeridos en la Figura E.2.
function [px, py, pz, vx, vy, vz, ax, ay, az, anx, any, anz, wx, wy, wz, alfax,
alfay, alfaz, tiempo]=GeneradorTrayectoria2(x4, y4, z4, PuntoC)
% Posiciones de WS
x4=(1*x4)';
y4=(1*y4)';
POS1=[x4(5,2:end-1); y4(5,2:end-1); z4(5,2:end-1)]';
POS2=[x4(1,2:end-1); y4(1,2:end-1); z4(1,2:end-1)]';
% Rotar 120 grados la POS 2 para que quede al frente de POS 1
for i=1:size(POS2,1)
POS2(i,:)=rotz(-120)*POS2(i,:)';
if POS2(i,2)<1e-10
POS2(i,2)=0;
POS2=sortrows(POS2,3,'ascend');
REC=[POS1;POS2];
Ampx=min(abs(REC(:,1))); Ampy=min(abs(REC(:,1)));
AmpxR=deg2rad(5);
AmpyR=deg2rad(5);
AmpzR=deg2rad(5);
alfa=2*Ampx/(tfin^2);
bbeta=Ampy/tfin^3;
% Configuracion de Simulink
NoSamples=1;
Ampz=0.8*abs(max(max(z4)) - min(min(z4)))/2;
Freq=2*pi/(NoSamples*tfin);
Bias=PuntoC(3);
pz=zeros(101,1);
for t= 0: tfin/100: tfin
tiempo(i,1)=t;
pz(i,1)=Ampz*sin(Freq*t+Phase) + Bias;
vz(i,1)=Ampz*Freq*cos(Freq*t);
az(i,1)=-Ampz*Freq^2*sin(Freq*t);
px(i,1)=alfa*t^2/2;
vx(i,1)=alfa*t;
ax(i,1)=alfa;
py(i,1)=bbeta*t^3/6;
vy(i,1)=bbeta*t^2/2;
ay(i,1)=bbeta*t;
alfa= 2*AmpxR/(tfin^2);
bbeta=6*AmpyR/tfin^3;
anx(i,1)=AmpzR*sin(Freq*t+Phase) + Bias;
wx(i,1)=AmpzR*Freq*cos(Freq*t);
alfax(i,1)=-AmpzR*Freq^2*sin(Freq*t);
any(i,1)=alfa*t;
wy(i,1)=alfa;
alfay(i,1)=0;
anz(i,1)=bbeta*t^3/6;
wz(i,1)=bbeta*t^2/2;
alfaz(i,1)=bbeta*t;
La funci√≥n Funciones_Merito_Sin genera EC y ùëí‡Øñ con base en el modelo de Simscape (Anexo E), los
par√°metros de dise√±o, WS y la trayectoria deseada.
function [EsFControl, ErrorControl] = Funciones_Merito_Sin(L_brazo,
L_rod,zita,ts,Volumen, x4, y4, z4, PuntoC, px, py, pz, vx, vy, vz, ax, ay, az, anx,
any, anz, wx, wy, wz, alfax, alfay, alfaz, tiempo)
%% Generacion de constantes del controladorConstantes del controlador
wn= 4/(zita*ts); kv = 7*zita*wn; kp = (10*zita^2+1)*wn^2;
ki= 5*zita*wn^3; k=[1, kv, kp, ki]; assignin('base','k',k);
%% Esfuerzo de control
assignin('base','L_brazo',L_brazo);
assignin('base','L_rod',L_rod);
assignin('base','PuntoC',PuntoC); tfin=tiempo(end);
assignin('base','px',[tiempo,px]);
assignin('base','py',[tiempo,py]);
assignin('base','pz',[tiempo,pz]);
assignin('base','vx',[tiempo,vx]);
assignin('base','vy',[tiempo,vy]);
assignin('base','vz',[tiempo,vz]);
assignin('base','ax',[tiempo,ax]);
assignin('base','ay',[tiempo,ay]);
assignin('base','az',[tiempo,az]);
assignin('base','anx',[tiempo,anx]);
assignin('base','any',[tiempo,any]);
assignin('base','anz',[tiempo,anz]);
assignin('base','wx',[tiempo,wx]);
assignin('base','wy',[tiempo,wy]);
assignin('base','wz',[tiempo,wz]);
assignin('base','alfax',[tiempo,alfax]);
assignin('base','alfay',[tiempo,alfay]); assignin('base','alfaz',[tiempo,alfaz]);
tfin=tiempo(end);
assignin('base','tfin',tfin);
% Configuracion de Simulink
simOut = sim('StaV1Sin',tfin);
torque=abs(torque.data);
Parar= Parar.data;
tiempo=tiempo.data;
while tiempo(n)<0.05
Positions=SalidaControl_Pos.data;
Velocities=SalidaControl_Vel.data;
Acelerations=SalidaControl_Acel.data;
Positions= Positions(n:end,:);
Velocities= Velocities(n:end,:);Acelerations= Acelerations(n:end,:);
erroPos=abs([Positions(:,1);Positions(:,2);Positions(:,3)]-
[Positions(:,7);Positions(:,8);Positions(:,9)]);
promedioPos=mean([[Positions(:,1);Positions(:,2);Positions(:,3)],[Positions(:,7);Position
s(:,8);Positions(:,9)]],2)+1e-16;
marePos=mean(abs(erroPos./promedioPos));
%velocidad
erroVel=abs([Velocities(:,1);Velocities(:,2);Velocities(:,3)]-
[Velocities(:,7);Velocities(:,8);Velocities(:,9)]);
promedioVel=mean([[Velocities(:,1);Velocities(:,2);Velocities(:,3)],[Velocities(:,7);Velo
cities(:,8);Velocities(:,9)]],2)+1e-16;
mareVel=mean(abs(erroVel./promedioVel));
% %Aceleracion
erroAcel=abs([Acelerations(:,1);Acelerations(:,2);Acelerations(:,3)]-
[Acelerations(:,7);Acelerations(:,8);Acelerations(:,9)]);
promedioAcel=mean([[Acelerations(:,1);Acelerations(:,2);Acelerations(:,3)],[Acelerations(
:,7);Acelerations(:,8);Acelerations(:,9)]],2)+1e-16;
mareAcel=mean(abs(erroAcel./promedioAcel));
ErrorControl=mean([marePos,mareVel,mareAcel]);
%% Salida: Esfuerzo de control
EsFControl=mean(trapz(tiempo(n:end,:),torque(n:end,:)))/Volumen;
assignin('base','tiempo',tiempo);
Validaci√≥n del modelo din√°mico del HEXA 6 RUS
El esquem√°tico de la validaci√≥n del modelamiento din√°mico del HEXA 6 RUS (Secci√≥n 4.4) se presenta
en la Figura G.1. El objetivo es comparar el comportamiento del MP bajo un modelo virtual multif√≠sico con
el modelo din√°mico. Este procedimiento se basa en unas posiciones, velocidades y aceleraciones deseadas
que entran a los controladores, ambos con los mismos valores de par√°metros de control y matrices M, C y
G (). De ambas simulaciones se extraen los valores de posici√≥n de la placa fija y los torques requeridos, con
el fin decompararlos. Para esto se requiere varias fases: la simplificaci√≥n del modelo CAD, la importaci√≥n
al software multif√≠sico, la configuraci√≥n del controlador, la generaci√≥n de posici√≥n deseada y finalmente la
comparaci√≥n de los modelos. Todas fases se detallan a continuaci√≥n.
Fig. G.1. Esquem√°tico de la validaci√≥n.
Primero; se genera el modelo CAD del MP, en este trabajo se utiliza el software SOLIDWORKS¬Æ; las
dimensiones del MP se consideran en el Anexo H. Para esta comparaci√≥n ùëô‡Øï= ùëô‡Ø•= 350 ùëöùëö. La
configuraci√≥n final del modelo CAD lo muestra la Figura G.2.
Con el fin de hacer la validaci√≥n in silico del comportamiento del HEXA 6 RUS, se usa el software
multif√≠sico MATLAB SIMSCAPE¬Æ. Para estom se simplifica el modelo sustrayendo tornillos, pasadores,
rodamientos, soportes etc. para disminuir el costo computacional, etal como se visualiza en la Figura G.3.
Una vez reducido el modelo, este se importa en el software MATLAB SIMSCAPE¬Æ ,la posici√≥n de la
placa m√≥vil al igual que las se√±ales de torque de cada motor son almacenadas. Esta configuraci√≥n se ilustra
en la Figura G.4.
Fig. G.2. Modelo CAD del HEXA 6 RUS
Fig. G.3. Modelo CAD simplificado cargado al SIMSCAPE¬Æ.
Tanto el MP en SIMSCAPE¬Æ como el MP matem√°ticamente modelado son controlados en MATLAB
SIMULINK¬Æ bajo los mismos valores de M, C, G (4-105)-(4-107) y valores de entrada. Las Figuras G.5
y G.6. detallan dicha configuraci√≥n.
Se simularon 2 trayectorias. La primera es una circunferencia de 90 mm con punto de inicio en X=0,
Y=0 y Z=-480 mm. La segunda, considero movimientos senosoidales en los ejes X, Y y una rampa en Z.
Ambas se√±ales sin movimiento rotacional.
La Figura G.7. muestra los movimientos de respuesta ante la primera trayectoria. En esta comparaci√≥n
la se√±al naranja representa la se√±al del modelo multif√≠sico SIMSCAPE¬Æ y la azul del MP matematicamente
modelado. De forma similar, la Figura G.8. ilustra el comportamiento en cada DOF de ambos modelos del
MP. La Figura G.9. presenta el comportamiento de los torques de cada actuador rotacional activo ante la
segunda se√±al simulada. Finalmente, la Figura G.10 muestra como es el comportamiento de cada pareja de
actuadores 1-2, 3-4 y 5-6, tal como se presentan en la Secci√≥n 4.2. En esta √∫ltima gr√°fica se visualiza una
compensaci√≥n de error de la interacci√≥n entre los actuadores en el modelo mat√©matico y se evidencian
perturbaciones similares entre ambos modelos.
En conclusi√≥n, dadas las comparaciones de comportamiento de los dos modelos, es viable el uso del
modelo mat√©matico de la Secci√≥n 4.4 en el desarrollo de lasfunciones objetivo presentadas en este estudio.
Fig. G.4. Configuraci√≥n de las articulaciones, eslabones y placas del modelo simplificado.
Fig. G.5. Configuraci√≥n del MP controlado usando el modelo multif√≠sico.
Fig. G.6. Configuraci√≥n del MP controlado usando el modelo matem√°tico.
Fig. G.7. compraraci√≥n de seguimiento de trayectoria descrita por el modelo matem√°tico y el multif√≠sico.
Fig. G.8. Comparaci√≥n del comportamiento de posici√≥n entre el modelo matem√°tico y el multif√≠sico. A)
Movimientos traslacionales. B) Movimientos rotacionales de la placa m√≥vil.
Fig. G.9. Paralelismo entre el torque requerido por el modelo matem√°tico y el multif√≠sico
Fig. G.10. Paralelismo entre el torque requerido. A) por la pareja de actuadores en el modelo
matem√°tico y el multif√≠sico. B) detalle de las se√±ales entre 10 s y 15 s.
Planos de fabricaci√≥n del HEXA 6 RUS