Europhysics Letters
Information ﬁltering via Iterative Reﬁnement
P. Laureti1, L. Moret1, Y.-C. Zhang1 and Y.-K. Yu2
1 D´epartement de Physique, Universit´e de Fribourg - CH-1700 Fribourg, Switzerland.
2 National Center for Biotechnology Information, NIH - 8600 Rockville Pike, Bethesda,
PACS. 89.20.Hh – World Wide Web, Internet.
PACS. 89.70.+c – Information theory and communication theory.
Abstract. – With the explosive growth of accessible information, expecially on the Internet,
evaluation-based ﬁltering has become a crucial task. Various systems have been devised aiming
to sort through large volumes of information and select what is likely to be more relevant. In
this letter we analyse a new ranking method, where the reputation of information providers is
determined self-consistently.
Introduction. –
The study of complex networks and of some dynamical processes taking
place on these structures has recently attracted a great deal of attention in the physics community . The importance of technological networks, such as the Internet, lies mostly in
the increased communication capabilities , which make information progressively easier
to produce and distribute. As storage and transmission costs continue to drop, an overabundance of information threatens to overwhelm its recipients. It is, therefore, crucial to process
information in order to present a user only the one that answers best her requests .
An important aspect of information ﬁltering regards scoring systems in the World Wide
Web . They collect evaluations and aggregate them into published scores that are meaningful to the ﬁnal user. This embraces many diﬀerent instances, ranging from commercial
websites, where buyers evaluate sellers (Ebay, Amazon, etc.) to new generation search engines (Google, Yahoo, etc.), and opinion websites, where people evaluate objects (Epinions,
Tailrank, etc.) Since the evaluators carry diﬀerent expertise, it is important to estimate how
accurate a given vote may be and to weight it accordingly. This can be done through the use
of raters’ reputations . Reputation summarises one’s past behaviour and has always been
used to bear the risk of interacting with strangers. The Internet, while enhancing such a risk,
brings in the possibility to ﬁnd its antidotes . Since nobody knows a-priori who are the
honest and competent evaluators, in fact, online scoring systems often include some measure
of their past performance. This gives users an indication on how trustworthy a given piece of
information is supposed to be. An expert of the ﬁeld would probably obtain a high reputation; experts’ votes should then count more when aggregating the scores. While reputation is
usually obtained by asking users supplementary evaluations about other users, the procedure
of Iterative Reﬁnement (IR), which can be shown to outperform naive methods , does not
require to explicitly rate the raters.
c⃝EDP Sciences
EUROPHYSICS LETTERS
The aim of this letter is to study, in a generalised model, the IR method’s dependence
on the relevant parameters, illustrate the subtle issues in its mathematical underpinning and
elaborate on distortions generated by diﬀerent kinds of cheating. Prior to describing the major
focus of this work, we will brieﬂy state the model and deﬁne some notations.
Model and algorithm. –
To describe our approach in the simplest manner, let us consider
N raters evaluating M objects, which can be books, movies or even other raters. Each object
l has an intrinsic quality Ql and each rater i has an intrinsic judging power 1/σ2
i . Let xil be
a random variable representing the rating given by rater i to object l. Intrinsic qualities and
judging powers are deﬁned by the ﬁrst two moments of its distribution:
⟨xil⟩= µil = Ql + ∆il
(xil −µil)2
where ∆il is the systematic error of agent i towards object l. Expectation values are taken over
the distribution of xil. They can be regarded as ensemble averages, obtained if the evaluations
were to be performed inﬁnitely many times. Our aim is then to extract the quality of each
object from a single set {xil} of evaluations. We thus estimate the intrinsic quality Ql of
object l by a weighted average of the received votes
the inverse judging power σ2
i of rater i is estimated by the sample variance Vi
(xil −ql)2 .
The unnormalised weights ωi take the general form
with β ≥0 and fi = ωi/ P
j ωj. As such, ωi decreases when Vi increases because rater i has
a lower judging power and should be given less credit. We will consider scenarios where β
equals 1 or 1/2. The case β = 1/2, in fact, exhibits scale-changing and translational invariance
because ql becomes a sum of dimensionless random variables; the case β = 1 corresponds to
optimal weights, as explained later in the section No systematic errors.
The IR algorithm allows to solve eqs. (3-5), thus estimating Ql and σi, via the following
recursive procedure: I) Without additional information, set ωi = 1/N ∀i = 1, 2, ..., N. II)
Estimate ql with eq. (3). III) Estimate Vi with eq. (4) and plug it in eq. (5) to ﬁnd the
weights. IV) Repeat from step II. Numerical simulations show that this process converges to
the minimum of the cost function E({ql}) = P
l(xil −ql)V −β
much faster than other
conventional methods.
Analytical approach. –
Eq. (2) implies that the random variable (xil −µil)2 has mean
i and variance m2
i , which is determined by the distribution of xil; in particular, m2
if the distribution of votes is itself Gaussian. Let us deﬁne the variable γij =
Ql)(xjl −Ql); provided that xil has ﬁnite moments of, at least, order 4, in the large M limit
one obtains
i δij + ∆i∆j +
(eij + ∆ihj + ∆jhi) .
P. Laureti, L. Moret, Y.-C. Zhang and Y.-K. Yu: Collaborative filtering
Here the overlined quantities represent averages over the M items, xi =
Gaussian random variables eij and hi have mean zero and variances var(eij) = m2
var(hi) = σ2
i , where m2
ij = 1 + δij(m2
i −1). In the following we shall use the notation gi = eii.
Eq. (6) has to be interpreted in probability, as prescribed by the Central Limit Theorem.
In its derivation we have further assumed that raters are independent; in fact, the correlation
among the variables eij of diﬀerent indices diminishes as M increases. If M ≫1, the random
variables {eij} are eﬀectively independent, with the ﬁrst visible triangular correlation of order
1/M 2 or smaller. From counting the degrees of freedom associated with random numbers, it
is desirable to have M ≥(N + 1)/2.
Eq. (6) forms the basis of our analytical pursuit in the
later development.
The performance of the IR method can be stated by measuring the following mean squared
(sl + ˜∆l)2E
= Var(Vi) + Bias2(Vi) ,
with Bias(Vi) ≡⟨Vi⟩−σ2
i . In eq. (7) we have separated the systematic error part, making
use of the variables ˜∆l = P
i fi∆il and sl = P
j(yjl −Ql)fj, with yil = xil −∆il. Eqs. (1,2)
guarantee that the ﬁrst two moments of (yil −Ql) are independent of index l, therefore
. This permits us to employ eq. (6) to obtain
The variable sl becomes Gaussian in the large N limit, as long as the weights fj are ﬁxed and
satisfy the Lindeberg condition . However, such inference can’t be drawn easily because
the weights and the estimated ql are tangled up in eqs. (3-5). The standard deviation of sl can,
nevertheless, be calculated. The general problem of ﬁnding intrinsic values from completely
distorted votes is not solvable. In fact, even if one disposed of an inﬁnite number of raters and
evaluations, the estimator (3) of Ql would always be biased of the amount ⟨˜∆l⟩. We shall, in
the following, focus our attention on three particular cases of special interest.
No systematic errors. –
When ∆il = 0 ∀i, l, raters are impartial but posses diﬀerent
judging powers. In order to obtain the best quality estimator one can minimise the mean
squared error dq({ωk}) of (3) with respect to the ωi’s. This gives the optimal weights ,
β = 1 in (5), with minimal dq({1/σ2
k}) = 1/ P
Since the law of large numbers
guarantees the convergence of dq({1/σk}) to zero for large N, the same must obviously be
true for optimal weights. Unfortunately, it is not possible to state that the choice β = 1
is optimal if the σ2
i ’s are not known in advance. Although the convergence of ql →Ql for
N →∞is guaranteed, the small deviation |ql −Ql| due to ﬁnite N will propagate to the
estimate of σ2
i and render Vi ̸= σ2
i , even when M →∞. A recursive procedure allows to
calculate the expectation values for ⟨fi⟩; using eq. (6), it is straightforward to show that
(1 −2fi) +
Now we use ωi = V −β
and, after iterative substitutions, we may express ωi in terms of
σi’s and random variables {eij}. One may then compute fi and plug it in eqs. (7-9). Let
us deﬁne G(b) ≡
and denote by angular brackets a simple average over the
EUROPHYSICS LETTERS
Unb. dσ(~1/σ
Unb. dσ(~1/σ)
Th. Unb. dσ(~1/σ)
Th. dσ(~1/σ
Th. dσ(~1/σ)
Th. dq(~1/σ
Th. dq(~1/σ)
Fig. 1 – Average squared diﬀerence dσ between given and predicted variance, as a function of M in
log-log scale. Symbols represent simulations of the IR method with β = 1 (triangles) and β = 1/2
(ﬁlled squares) in eq. (5); Diamonds and ﬁlled circles show simulations of dσ, where the estimator of
the variance has been corrected for the bias. The corresponding theoretical predictions, calculated as
explained in the text, ﬁt the data very well. In the inset a similar plot shows the coincidence between
the predicted and simulated plateau reached by dq for large M.
Parameters of the simulations:
N = 100, intrinsic values Ql uniformly distributed between 10 and 20 and standard deviations σi
uniformly distributed between 1 and 5; averaged over 103 realizations.
raters ⟨y⟩= 1
i yi. Equipped with this formalism, we perform tedious but straightforward
calculations to obtain the following asymptotic expansions, for M, N →∞, to the ﬁrst two
dominating orders:
Bias(Vi) ≃
Var(Vi) ≃m2
1 + (β + 1)σ−2β
with complicated constant coeﬃcients (1).
These expressions simplify considerably when
taking the limit β = 1/2 and β = 1. For instance, eq. (12) takes the forms Biasβ=1(Vi) ≃
and Biasβ=1/2(Vi) ≃1/(N⟨1/σ⟩2) −2σi/
. The analytical solution
allows one to ﬁnd an unbiased estimator for σ2
i –up to O(1/N 2, 1/NM).
In applications
we may use eq. (4) as an estimator of σ2 to evaluate Bias(Vi) and redeﬁne the weights as
ωi = 1/(Vi −Bias(Vi)). Since we have here dql = sl, suﬃces to plug eqs. (11 - 13) in eq. (9) to
(1)They are given by: C1 =
+ 2 ⟨σ2−4β⟩2⟨σ−2(β+1)⟩
−6 ⟨σ−4β⟩⟨σ2−4β⟩
, C2 = 4⟨σ2−4β⟩+ (2β −
1)G(4β −2) −(β+1)G(2β)⟨σ2−4β⟩
⟨σ2−4β⟩σ−2
⟨σ−2β⟩2 + ⟨σ2−4β⟩⟨σ−2(β+1)⟩
−(β+1)G(2β)
⟨σ−2(β+2)⟩σ−2β
P. Laureti, L. Moret, Y.-C. Zhang and Y.-K. Yu: Collaborative filtering
Th. dq(~1/σ
Th. dq(~1/σ)
Th. dq(1/N)
Th. pl. dσ
Fig. 2 – Average squared diﬀerence between estimators and intrinsic values, for quality (main) and
variance (inset), plotted in log-log scale as a function of N, with M = 100, for β = 1/2, 1. Symbols
represent simulation results of the IR method, lines are the corresponding theoretical predictions.
The dotted line represents dq when the quality estimator is just the straight average.
ﬁnd theoretical expressions for the mean squared errors. They are shown to match numerical
simulations in ﬁgs. 1 and 2.
In ﬁg. 1, the mean squared error of the variance dσ =
i dσi is plotted against M in
log-log scale. Our theoretical prediction becomes very good as soon as M > 10. Diamonds
and ﬁlled circles show simulation results of the IR method where the biased estimator of the
variance has been corrected by recursive use of eq. (12): the plateau reached by dσ for large
M disappears because the accuracy of the prediction can be thus improved by two orders of
magnitude. The mean squared error of the quality dq =
l dql, on the other hand, can
never vanish for large M when N is ﬁnite. This is shown in the inset of ﬁg. 1, while the
dependence of dq on N is reported in ﬁg. 2. We have also plotted therein, as a dotted line,
the behaviour of the same quantity when the estimator of ql is just the average unweighted
vote received by item l. This illustrates how IR is able to reduce the error. A comparison
between the two weighting schemes shows that ωi = 1/Vi performs almost always better than
ωi = 1/√Vi. The inset of ﬁg. 2 shows dσ vs. N; the plateau, which is the same for β = 1/2
and 1, vanishes for M →∞when corrected for the bias as before.
Camouﬂage.
Let us now restart from the general problem of eqs. (1,2).
we want to analyse here is that of ratings aﬀected by systematic errors that depend on the
rater but not on the ratee, ∆il = ∆i ∀l. Such a ﬁctitious distortion is instructive to study
analytically and can be easily generalised to more interesting cases. In fact, as it alters a
rater’s scale of evaluation but not the ranking of her preferences, it can serve as a basis to
study systems where agents are only asked to sort a set of items in order of increasing quality.
If one knew the values of ∆i for all i, one could ﬁnd the optimal weights {ω∗
k} proceeding
as described in absence of systematic errors. Upon minimisation of dq({ωk}) with respect to
the ωi’s one obtains ω∗= A−11, with Aij = σ2
i δij +∆i∆j. Here we have used a more compact
matrix notation, where 1 is a vector of ones.
Whenever the deviations ∆i are small, limited to a minority of the population or randomly
distributed around zero, they can be somehow detected. In the general case one can only
EUROPHYSICS LETTERS
Cheater’s σ rank worsened
Object’s q rank advanced
analytical evaluation for ω~1/σ
analytical evaluation for ω~1/σ
upward push versus result
N=100,M=100,σ ε , qε , σch. = 1, qchd. =20, biasFixedSigmaNoErrorBars.agr, bias.m, 1000 runs
Fig. 3 – Increase of object’s quality as a function of the cheater’s rank loss, as the value of ∆grows from
0 to 30. Simulations have been carried on with N = 100, M = 100 and intrinsic values distributed as
in ﬁg. 1, except for σI = 1 and QL = 20. The theoretical estimations are parametric plots of eq. (14)
for β = 1 and 1/2.
detect, at best, the relative systematic errors. In fact ˜∆= P
j fj∆j does not depend on
l in presence of camouﬂage and the relevant quantities only depend on ∆i under the form
δi = ∆i −˜∆. For instance, the variance can be written as Vi =
j fj(yjl −yil) + δi
This means that, if we change the ∆i’s while keeping the δi’s unchanged, we end up with the
same result for dq, only translated by the amount ˜∆.
In order to estimate analytically the performance of the IR method, we can posit ˜∆= 0
and solve eqs. (3-5) as before.
Thus we ﬁnd fi({δi}), whose term of order zero is (σ2
j )−β. This way we have a formal solution as a function of δi, which must
comply with the constraint P
i fiδi = 0 and can eventually be recovered numerically.
Cheating. –
It is interesting to consider the case of one intentional cheater I wanting to
boost the value of object L of an amount ∆, all other raters being honest: ∆il = δiIδlL∆.
Agent I commits no systematic error in evaluating all objects but L. Still, she would loose
credibility and weight as ∆becomes larger; this would eventually diminish her relative in-
ﬂuence over object L. It is important to evaluate the diﬀerence δql = ql(∆) −ql between
the estimated value of the object with and without the friendly uprating. In fact a small δq,
compared to the lost in credibility of the rater, discourages cheating, and vice-versa.
The variance, as deﬁned in eq. (4), can be written as a function of ∆and of the normalised
weights. Hence Vi(∆, {fi(∆)}) = Vi(0, {fi(∆)}) + δiI∆2/M, where the formal expression of
Vi(0, {fi(∆)}) is equal to that of eq. (10). Iterative asymptotic expansions can be performed
the same way we did in absence of systematic errors. In this case the variables yil are equal to
the xil, except for yIL = xIL−∆. Therefore eq. (3) becomes ql(∆) = P
i fi(∆)yil+∆δlLfI(∆),
which implies ql(∆) −ql ≃∆δlLfI.
M the average deviation reads ⟨δqL⟩≃
. If the value of ∆is comparable to
M, on the other hand, the zeroth
order of the correction at the thermodynamic limit amounts to
P. Laureti, L. Moret, Y.-C. Zhang and Y.-K. Yu: Collaborative filtering
In ﬁg. 3 eq. (14) is shown to ﬁt the simulations fairly well in the rank space. We have compared
thereby the scheme β = 1 (circles) with β = 1/2 (stars) in the worst case: the best agent is
trying to raise the worst object. In the region of moderate cheating the ωi = 1/√Vi weighting
scheme is less sensitive to cheating. This is particularly important left to the x = y line, where
the cheater pays less then what she oﬀers to the object and cheating can be advantageous.
However, the relative inﬂuence of the cheater is a growing, although saturating, function of ∆.
Under the ωi = 1/Vi weighting scheme, on the other hand, such an inﬂuence starts decreasing
once passed a crossover value. There the cheater’s reputation is so much damaged by her
misbehaviour that, if she attributed a higher value to object L, its estimated rank would
diminish. Optimal weights are, therefore, much more resilient to severe cheating.
We just remark that, taking averages without reﬁnement, a cheater would indeﬁnitely
increase an object’s rank without undergoing any punishment. The transition to the cheater’s
unfavorable region is the solution of dr(q) = dr(σ) in the ∆space.
Conclusion. –
In this letter we have analyzed a novel scoring system that aggregates the
evaluations of N agents over M objects by use of reputation and weighted averages. Agents,
as a result, are ranked according to their judging capability and objects according to their
quality. The method can be implemented via an iterative algorithm, where the intrinsic bias
of the estimators of the weights can be corrected. We show, with simulations and analytical
results, that the method is eﬀective and robust against abuses. The larger the system, the
better is the ﬁltering precision. This method can be applied in web-related reputation and
scoring systems.
We thank the reviewers for useful remarks. This work was partially supported by the Swiss
National Science Foundation, through project number 2051-67733, and by the Intramural
Research Program of the National Library of Medicine at NIH/DHHS.